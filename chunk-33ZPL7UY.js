import{b as oe}from"./chunk-ZIMJ2VN2.js";import{a as ie,b as ne}from"./chunk-YHGITU6X.js";import{a as ee,b as te}from"./chunk-QD3EWCKC.js";import{a as W}from"./chunk-2J2Y6LP7.js";import{a as J}from"./chunk-RLNUZQCH.js";import{a as X}from"./chunk-U6KA5TMW.js";import{a as Z}from"./chunk-FURQSZNK.js";import{a as G}from"./chunk-TYLBSFVV.js";import{a as re,d as se,e as le,k as ae}from"./chunk-ION2EUQK.js";import"./chunk-XCSSQDET.js";import"./chunk-V5XYQFDX.js";import"./chunk-MZURXKLX.js";import"./chunk-3AW6TXZQ.js";import"./chunk-LJGI4ZRP.js";import"./chunk-T2PIK6R3.js";import"./chunk-SFTIWTHH.js";import"./chunk-7SPUUUGD.js";import"./chunk-WSIWJYJX.js";import"./chunk-NJPLBFLS.js";import"./chunk-MDZH7E7N.js";import"./chunk-V6X5IB37.js";import"./chunk-3GJN2BSD.js";import"./chunk-MBI4S36B.js";import"./chunk-6LXUGSQP.js";import"./chunk-UGHG6TU3.js";import"./chunk-UAXJ67OE.js";import{n as Q}from"./chunk-KLIUDW4T.js";import"./chunk-S35HUXPS.js";import{b as U,d as Y}from"./chunk-4B2QLF32.js";import{p as z}from"./chunk-BFP4OEA6.js";import{$a as N,Aa as P,Bb as w,Da as A,Ea as B,F as f,I as V,Ja as T,Ka as n,L as D,La as h,M as _,Ma as L,Sa as d,Tb as I,W as O,Y as r,Z as S,bb as q,da as j,ea as x,ja as k,ma as a,sa as e,sb as K,ta as t,tb as H,ua as o,wb as R,ya as F,za as E,zb as $}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{h as b}from"./chunk-MG3ERZGY.js";var C=()=>({width:"2.5rem",height:"2.5rem"}),y=()=>({height:"8px"}),pe=()=>({width:"50%"}),ue=()=>({width:"16%"}),he=()=>({width:"67%"}),ve=()=>({width:"35%"}),ge=()=>({width:"75%"}),fe=()=>({width:"40%"}),Se=()=>({borderRadius:"1rem",background:"linear-gradient(0deg, rgba(0, 123, 255, 0.5), rgba(0, 123, 255, 0.5)), linear-gradient(92.54deg, #1C80CF 47.88%, #FFFFFF 100.01%)"});function xe(s,v){if(s&1&&(e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"span",5),n(5),t(),e(6,"div",6),n(7),t()(),e(8,"div",17),o(9,"i",18),t()()()()),s&2){let i=v.$implicit;r(5),h(i.servidor.nome),r(2),L("",i.quantidade," clientes ativos"),r(),a("ngStyle",d(3,C))}}function ye(s,v){if(s&1&&(e(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"span",5),n(5),t(),e(6,"div",6),n(7),t()(),e(8,"div",19),o(9,"i",20),t()()()()),s&2){let i=v.$implicit;r(5),h(i.plano.nome),r(2),L("",i.quantidade," clientes ativos"),r(),a("ngStyle",d(3,C))}}function Ce(s,v){s&1&&(e(0,"tr")(1,"th"),n(2,"Image"),t(),e(3,"th",48),n(4,"Name "),o(5,"p-sortIcon",49),t(),e(6,"th",50),n(7,"Price "),o(8,"p-sortIcon",51),t(),e(9,"th"),n(10,"View"),t()())}function be(s,v){if(s&1&&(e(0,"tr")(1,"td",52),o(2,"img",53),t(),e(3,"td",54),n(4),t(),e(5,"td",55),n(6),N(7,"currency"),t(),e(8,"td",56),o(9,"button",57),t()()),s&2){let i=v.$implicit;r(2),B("src","assets/dstv/images/product/",i.image,"",O),A("alt",i.name),r(2),h(i.name),r(2),h(q(7,5,i.price,"USD"))}}function Ee(s,v){if(s&1){let i=F();e(0,"div",21)(1,"div",22)(2,"h5"),n(3,"Recent Sales"),t(),e(4,"p-table",23),k(5,Ce,11,0,"ng-template",24)(6,be,10,8,"ng-template",25),t()(),e(7,"div",22)(8,"div",26)(9,"h5"),n(10,"Best Selling Products"),t(),e(11,"div")(12,"button",27),E("click",function(c){D(i);let u=T(14);return _(u.toggle(c))}),t(),o(13,"p-menu",28,0),t()(),e(15,"ul",29)(16,"li",30)(17,"div")(18,"span",31),n(19,"Space T-Shirt"),t(),e(20,"div",32),n(21,"Clothing"),t()(),e(22,"div",33)(23,"div",34),o(24,"div",35),t(),e(25,"span",36),n(26,"%50"),t()()(),e(27,"li",30)(28,"div")(29,"span",31),n(30,"Portal Sticker"),t(),e(31,"div",32),n(32,"Accessories"),t()(),e(33,"div",37)(34,"div",34),o(35,"div",38),t(),e(36,"span",39),n(37,"%16"),t()()(),e(38,"li",30)(39,"div")(40,"span",31),n(41,"Supernova Sticker"),t(),e(42,"div",32),n(43,"Accessories"),t()(),e(44,"div",37)(45,"div",34),o(46,"div",40),t(),e(47,"span",41),n(48,"%67"),t()()(),e(49,"li",30)(50,"div")(51,"span",31),n(52,"Wonders Notebook"),t(),e(53,"div",32),n(54,"Office"),t()(),e(55,"div",37)(56,"div",34),o(57,"div",42),t(),e(58,"span",43),n(59,"%35"),t()()(),e(60,"li",30)(61,"div")(62,"span",31),n(63,"Mat Black Case"),t(),e(64,"div",32),n(65,"Accessories"),t()(),e(66,"div",37)(67,"div",34),o(68,"div",44),t(),e(69,"span",45),n(70,"%75"),t()()(),e(71,"li",30)(72,"div")(73,"span",31),n(74,"Robots T-Shirt"),t(),e(75,"div",32),n(76,"Clothing"),t()(),e(77,"div",37)(78,"div",34),o(79,"div",46),t(),e(80,"span",47),n(81,"%40"),t()()()()()()}if(s&2){let i=P();r(4),a("value",i.products)("paginator",!0)("rows",5),r(9),a("popup",!0)("model",i.items),r(10),a("ngStyle",d(17,y)),r(),a("ngStyle",d(18,pe)),r(10),a("ngStyle",d(19,y)),r(),a("ngStyle",d(20,ue)),r(10),a("ngStyle",d(21,y)),r(),a("ngStyle",d(22,he)),r(10),a("ngStyle",d(23,y)),r(),a("ngStyle",d(24,ve)),r(10),a("ngStyle",d(25,y)),r(),a("ngStyle",d(26,ge)),r(10),a("ngStyle",d(27,y)),r(),a("ngStyle",d(28,fe))}}function we(s,v){if(s&1){let i=F();e(0,"div",21)(1,"div",22)(2,"h5"),n(3,"Sales Overview"),t(),o(4,"p-chart",58),t(),e(5,"div",22)(6,"div",59)(7,"h5"),n(8,"Notifications"),t(),e(9,"div")(10,"button",27),E("click",function(c){D(i);let u=T(12);return _(u.toggle(c))}),t(),o(11,"p-menu",28,0),t()(),e(13,"span",60),n(14,"TODAY"),t(),e(15,"ul",61)(16,"li",62)(17,"div",63),o(18,"i",64),t(),e(19,"span",65),n(20,"Richard Jones "),e(21,"span",66),n(22," has purchased a blue t-shirt for "),e(23,"span",67),n(24,"79$"),t()()()(),e(25,"li",68)(26,"div",69),o(27,"i",70),t(),e(28,"span",71),n(29,"Your request for withdrawal of "),e(30,"span",72),n(31,"2500$"),t(),n(32," has been initiated."),t()()(),e(33,"span",60),n(34,"YESTERDAY"),t(),e(35,"ul",73)(36,"li",62)(37,"div",63),o(38,"i",64),t(),e(39,"span",65),n(40,"Keyser Wick "),e(41,"span",66),n(42," has purchased a black jacket for "),e(43,"span",67),n(44,"59$"),t()()()(),e(45,"li",62)(46,"div",74),o(47,"i",75),t(),e(48,"span",65),n(49,"Jane Davis"),e(50,"span",66),n(51," has posted a new questions about your product."),t()()()()(),e(52,"div",76)(53,"div")(54,"div",77),n(55,"TAKE THE NEXT STEP"),t(),e(56,"div",78),n(57,"Try PrimeBlocks"),t()(),e(58,"div",79)(59,"a",80),n(60," Get Started "),t()()()()}if(s&2){let i=P();r(4),a("data",i.chartData)("options",i.chartOptions),r(7),a("popup",!0)("model",i.items),r(41),a("ngStyle",d(5,Se))}}var de=(()=>{class s{constructor(i,l,c,u){this.productService=i,this.layoutService=l,this.servidorService=c,this.planoService=u,this.clienteService=V(G),this.ativos=0,this.vencidos=0,this.vence3dias=0,this.listaServidores=[],this.listaPlanos=[],this.clientesPorServidor=[],this.clientesPorPlano=[],this.converterDateToTimeStamp=m=>{let p=m.dataVencimento;if(p&&p.seconds){let g=new Date(p.seconds*1e3);return m.dataVencimento=g,m}else return m},this.vencido=m=>{let p=new Date;return p.setHours(0,0,0,0),m.dataVencimento<p},this.naoVencido=m=>{let p=new Date;return p.setHours(0,0,0,0),m.dataVencimento>=p},this.venceEm3Dias=m=>{let p=new Date;p.setHours(0,0,0,0);let g=new Date;return g.setHours(0,0,0,0),g.setDate(g.getDate()+3),m.dataVencimento>=p&&m.dataVencimento<=g},this.subscription=this.layoutService.configUpdate$.subscribe(()=>{this.initChart()})}ngOnInit(){this.buscarClientes(),this.buscarServidoresEPlanos()}buscarServidoresEPlanos(){return b(this,null,function*(){this.servidorService.getAll().subscribe({next:i=>{this.listaServidores=i,this.contarClientesPorServidor()},error:i=>console.error(i)}),this.planoService.getAll().subscribe({next:i=>{this.listaPlanos=i,this.contarClientesPorPlano()},error:i=>console.error(i)})})}contarClientesPorServidor(){return b(this,null,function*(){this.clientesPorServidor=[];for(let i of this.listaServidores)if(i.id){let u=(yield this.clienteService.getByServidor(i.id)).docs.map(m=>{let p=m.data();return this.converterDateToTimeStamp(p)}).filter(m=>this.naoVencido(m)).length;this.clientesPorServidor.push({servidor:i,quantidade:u})}this.clientesPorServidor.sort((i,l)=>l.quantidade-i.quantidade)})}contarClientesPorPlano(){return b(this,null,function*(){this.clientesPorPlano=[];for(let i of this.listaPlanos)if(i.id){let u=(yield this.clienteService.getByPlano(i.id)).docs.map(m=>{let p=m.data();return this.converterDateToTimeStamp(p)}).filter(m=>this.naoVencido(m)).length;this.clientesPorPlano.push({plano:i,quantidade:u})}this.clientesPorPlano.sort((i,l)=>l.quantidade-i.quantidade)})}buscarClientes(){this.clienteService.getAll().subscribe({next:i=>{i.forEach(l=>{l=this.converterDateToTimeStamp(l),this.vencido(l)&&(this.vencidos+=1),this.naoVencido(l)&&(this.ativos+=1),this.venceEm3Dias(l)&&(this.vence3dias+=1)})},error:i=>console.error(i),complete:()=>console.info("complete")})}initChart(){let i=getComputedStyle(document.documentElement),l=i.getPropertyValue("--text-color"),c=i.getPropertyValue("--text-color-secondary"),u=i.getPropertyValue("--surface-border");this.chartData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"First Dataset",data:[65,59,80,81,56,55,40],fill:!1,backgroundColor:i.getPropertyValue("--bluegray-700"),borderColor:i.getPropertyValue("--bluegray-700"),tension:.4},{label:"Second Dataset",data:[28,48,40,19,86,27,90],fill:!1,backgroundColor:i.getPropertyValue("--green-600"),borderColor:i.getPropertyValue("--green-600"),tension:.4}]},this.chartOptions={plugins:{legend:{labels:{color:l}}},scales:{x:{ticks:{color:c},grid:{color:u,drawBorder:!1}},y:{ticks:{color:c},grid:{color:u,drawBorder:!1}}}}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||s)(S(W),S(J),S(X),S(Z))}}static{this.\u0275cmp=j({type:s,selectors:[["ng-component"]],standalone:!1,decls:45,vars:16,consts:[["menu",""],[1,"grid"],[1,"col-12","lg:col-6","xl:col-3"],[1,"card","mb-0"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],[1,"text-900","font-medium","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-red-100","border-round",3,"ngStyle"],[1,"pi","pi-dollar","text-red-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-users","text-blue-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-cyan-100","border-round",3,"ngStyle"],[1,"pi","pi-user-minus","text-cyan-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",3,"ngStyle"],[1,"pi","pi-list","text-purple-500","text-xl"],["class","col-12 lg:col-6 xl:col-3",4,"ngFor","ngForOf"],["class","col-12 xl:col-6",4,"ngIf"],[1,"flex","align-items-center","justify-content-center","bg-indigo-100","border-round",3,"ngStyle"],[1,"pi","pi-server","text-indigo-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-green-100","border-round",3,"ngStyle"],[1,"pi","pi-dollar","text-green-500","text-xl"],[1,"col-12","xl:col-6"],[1,"card"],["responsiveLayout","scroll",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center","mb-5"],["pButton","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","p-button-plain",3,"click"],[3,"popup","model"],[1,"list-none","p-0","m-0"],[1,"flex","flex-column","md:flex-row","md:align-items-center","md:justify-content-between","mb-4"],[1,"text-900","font-medium","mr-2","mb-1","md:mb-0"],[1,"mt-1","text-600"],[1,"mt-2","md:mt-0","flex","align-items-center"],[1,"surface-300","border-round","overflow-hidden","w-10rem","lg:w-6rem",3,"ngStyle"],[1,"bg-orange-500","h-full",3,"ngStyle"],[1,"text-orange-500","ml-3","font-medium"],[1,"mt-2","md:mt-0","ml-0","md:ml-8","flex","align-items-center"],[1,"bg-cyan-500","h-full",3,"ngStyle"],[1,"text-cyan-500","ml-3","font-medium"],[1,"bg-pink-500","h-full",3,"ngStyle"],[1,"text-pink-500","ml-3","font-medium"],[1,"bg-green-500","h-full",3,"ngStyle"],[1,"text-green-500","ml-3","font-medium"],[1,"bg-purple-500","h-full",3,"ngStyle"],[1,"text-purple-500","ml-3","font-medium"],[1,"bg-teal-500","h-full",3,"ngStyle"],[1,"text-teal-500","ml-3","font-medium"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],[2,"width","15%","min-width","5rem"],["width","50",1,"shadow-4",3,"src","alt"],[2,"width","35%","min-width","7rem"],[2,"width","35%","min-width","8rem"],[2,"width","15%"],["pButton","","pRipple","","type","button","icon","pi pi-search",1,"p-button","p-component","p-button-text","p-button-icon-only"],["type","line",3,"data","options"],[1,"flex","align-items-center","justify-content-between","mb-4"],[1,"block","text-600","font-medium","mb-3"],[1,"p-0","mx-0","mt-0","mb-4","list-none"],[1,"flex","align-items-center","py-2","border-bottom-1","surface-border"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-blue-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-dollar","text-xl","text-blue-500"],[1,"text-900","line-height-3"],[1,"text-700"],[1,"text-blue-500"],[1,"flex","align-items-center","py-2"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-orange-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-download","text-xl","text-orange-500"],[1,"text-700","line-height-3"],[1,"text-blue-500","font-medium"],[1,"p-0","m-0","list-none"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-pink-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-question","text-xl","text-pink-500"],[1,"px-4","py-5","shadow-2","flex","flex-column","md:flex-row","md:align-items-center","justify-content-between","mb-3",3,"ngStyle"],[1,"text-blue-100","font-medium","text-xl","mt-2","mb-3"],[1,"text-white","font-medium","text-5xl"],[1,"mt-4","mr-auto","md:mt-0","md:mr-0"],["target","_blank","href","https://www.primefaces.org/primeblocks-ng",1,"p-button","font-bold","px-5","py-3","p-button-warning","p-button-rounded","p-button-raised"]],template:function(l,c){l&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div")(5,"span",5),n(6,"Clientes a vencer em 3 dias"),t(),e(7,"div",6),n(8),t()(),e(9,"div",7),o(10,"i",8),t()()()(),e(11,"div",2)(12,"div",3)(13,"div",4)(14,"div")(15,"span",5),n(16,"Clientes Ativos"),t(),e(17,"div",6),n(18),t()(),e(19,"div",9),o(20,"i",10),t()()()(),e(21,"div",2)(22,"div",3)(23,"div",4)(24,"div")(25,"span",5),n(26,"Clientes Vencidos"),t(),e(27,"div",6),n(28),t()(),e(29,"div",11),o(30,"i",12),t()()()(),e(31,"div",2)(32,"div",3)(33,"div",4)(34,"div")(35,"span",5),n(36,"Total Geral"),t(),e(37,"div",6),n(38),t()(),e(39,"div",13),o(40,"i",14),t()()()(),k(41,xe,10,4,"div",15)(42,ye,10,4,"div",15)(43,Ee,82,29,"div",16)(44,we,61,6,"div",16),t()),l&2&&(r(8),h(c.vence3dias),r(),a("ngStyle",d(12,C)),r(9),h(c.ativos),r(),a("ngStyle",d(13,C)),r(9),h(c.vencidos),r(),a("ngStyle",d(14,C)),r(9),h(c.ativos+c.vencidos),r(),a("ngStyle",d(15,C)),r(2),a("ngForOf",c.clientesPorServidor.slice(0,4)),r(),a("ngForOf",c.clientesPorPlano.slice(0,4)),r(),a("ngIf",!1),r(),a("ngIf",!1))},dependencies:[K,H,R,ee,ie,re,z,se,le,U,$],encapsulation:2})}}return s})();var me=(()=>{class s{static \u0275fac=function(l){return new(l||s)};static \u0275mod=x({type:s});static \u0275inj=f({imports:[w]})}return s})();var ce=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=x({type:s})}static{this.\u0275inj=f({imports:[I.forChild([{path:"",component:de}]),I]})}}return s})();var lt=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=x({type:s})}static{this.\u0275inj=f({imports:[w,Q,te,ne,ae,me,oe,Y,ce]})}}return s})();export{lt as DashboardModule};
