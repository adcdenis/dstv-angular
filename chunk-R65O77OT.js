import{a as Ne,b as Ae}from"./chunk-XGHZ3YK2.js";import{a as et}from"./chunk-ZG7MC6PH.js";import{a as qe}from"./chunk-TYJRV2V5.js";import{a as ve}from"./chunk-AW5DFX2W.js";import{a as be}from"./chunk-ULMLR6ZN.js";import{b as Le}from"./chunk-ERPGQRCJ.js";import{a as Fe,b as Be}from"./chunk-YOAYV4RA.js";import"./chunk-2JY635KS.js";import{b as $e}from"./chunk-6BD7PSS4.js";import{b as Ie}from"./chunk-5WWM3MYI.js";import"./chunk-WSDER2HD.js";import"./chunk-T6OX34SV.js";import{b as ue}from"./chunk-UDPXU5AZ.js";import{a as fe}from"./chunk-77VZTUG6.js";import{a as Ge}from"./chunk-WRKS3KBU.js";import{a as He,b as ze}from"./chunk-DTX2IFH6.js";import{a as je,b as We}from"./chunk-MRQLE57Y.js";import"./chunk-3CQIXJFX.js";import"./chunk-4JDA26ZU.js";import{a as ke,d as Pe,e as Te,h as Re,i as De,k as Oe}from"./chunk-C3W5HSCK.js";import"./chunk-5CO6IPWY.js";import{a as xe,b as Se}from"./chunk-UNGKZQU4.js";import"./chunk-4RURM2DY.js";import{c as Ee}from"./chunk-UHPR5IVD.js";import"./chunk-T2PIK6R3.js";import"./chunk-7SPUUUGD.js";import"./chunk-SFTIWTHH.js";import{h as we,i as ye}from"./chunk-VPFJ3TVV.js";import"./chunk-NJPLBFLS.js";import{a as he,b as Ce}from"./chunk-MDZH7E7N.js";import"./chunk-V6X5IB37.js";import"./chunk-V5XYQFDX.js";import"./chunk-3GJN2BSD.js";import"./chunk-UW4E5NSV.js";import"./chunk-6LXUGSQP.js";import{a as Me,b as Ve}from"./chunk-RD2ZW53S.js";import"./chunk-UAXJ67OE.js";import{b as ie,c as S,e as oe,f as ae,g as re,h as le,i as se,j as ce,l as pe,m as me,n as de}from"./chunk-ENZ5W56S.js";import"./chunk-S35HUXPS.js";import{b as _e,d as ge}from"./chunk-4B2QLF32.js";import{k as N,m as Q,p as ee,s as te,t as ne}from"./chunk-BFP4OEA6.js";import{$a as W,Aa as p,Bb as X,F,Ja as J,Ka as l,L as d,La as I,M as u,Ma as P,Oa as M,Pa as V,Qa as E,Ra as Y,Sa as h,Tb as H,Y as c,Z as w,bb as L,da as G,ea as B,ja as x,ma as f,pa as R,qa as k,sa as i,ta as o,tb as Z,ua as g,va as q,wa as U,ya as y,yb as K,za as m}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{a as A,b as $,f as Qe,h as j}from"./chunk-MG3ERZGY.js";var Ze=Qe(et());var Ue=()=>({width:"450px"}),z=()=>({"960px":"50vw","640px":"90vw"}),tt=()=>({width:"600px"}),nt=()=>({"960px":"75vw","640px":"100vw"}),Je=()=>({width:"520px"}),it=()=>({"960px":"60vw","640px":"92vw"}),ot=()=>({standalone:!0}),at=()=>["valor","nome","id","plano.nome","servidor.nome"],rt=()=>[10,20,50];function lt(r,C){if(r&1){let e=y();i(0,"button",70),m("click",function(){d(e),p();let t=J(21),a=p();return u(a.limparBusca(t))}),o()}}function st(r,C){r&1&&(i(0,"th",80),g(1,"p-tableHeaderCheckbox"),o())}function ct(r,C){r&1&&(i(0,"tr"),x(1,st,2,0,"th",71),i(2,"th",72),l(3,"Vencimento "),g(4,"p-sortIcon",73),o(),i(5,"th",74),l(6,"Nome "),g(7,"p-sortIcon",75),o(),i(8,"th"),l(9,"Status"),o(),i(10,"th"),l(11,"Alerta "),o(),i(12,"th",76),l(13,"Plano "),g(14,"p-sortIcon",77),o(),i(15,"th",78),l(16,"Servidor "),g(17,"p-sortIcon",79),o(),g(18,"th"),o()),r&2&&(c(),f("ngIf",!1))}function pt(r,C){if(r&1&&(i(0,"td"),g(1,"p-tableCheckbox",90),o()),r&2){let e=p().$implicit;c(),f("value",e)}}function mt(r,C){if(r&1){let e=y();i(0,"tr"),x(1,pt,2,1,"td",4),i(2,"td",81),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.abrirDialogAlterar(t))}),i(3,"span",82),l(4,"Vencimento"),o(),l(5),W(6,"date"),o(),i(7,"td",83),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.abrirDialogAlterar(t))}),i(8,"span",82),l(9,"Nome"),o(),l(10),o(),i(11,"td",81),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.abrirDialogAlterar(t))}),i(12,"span",82),l(13,"Status"),o(),i(14,"span"),l(15),o()(),i(16,"td")(17,"div",84)(18,"button",85),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.abrirWhatsApp(t))}),o()()(),i(19,"td",81),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.abrirDialogAlterar(t))}),i(20,"span",82),l(21,"Plano"),o(),l(22),o(),i(23,"td",81),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.abrirDialogAlterar(t))}),i(24,"span",82),l(25,"Servidor"),o(),l(26),o(),i(27,"td")(28,"div",86)(29,"button",87),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.abrirDialogRenovar(t))}),o(),i(30,"button",88),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.abrirDialogExcluir(t))}),o(),i(31,"button",89),m("click",function(){let t=d(e).$implicit,a=p(2);return u(a.clonar(t))}),o()()()()}if(r&2){let e=C.$implicit,n=p(2);c(),f("ngIf",!1),c(4),P(" ",L(6,8,e.dataVencimento,"dd/MM/yyyy")," "),c(5),P(" ",e.nome," "),c(4),k("status-badge "+n.getStatusClass(e.dataVencimento)),c(),P(" ",n.getStatusCliente(e.dataVencimento)," "),c(7),P(" ",e.plano.nome," "),c(4),P(" ",e.servidor.nome," ")}}function dt(r,C){if(r&1){let e=y();q(0),i(1,"div",48)(2,"div",49)(3,"div",50),g(4,"i",51),i(5,"div")(6,"h1",52),l(7,"Gerenciar Clientes"),o(),i(8,"p",53),l(9,"Cadastro e gest\xE3o de clientes do sistema"),o()()(),i(10,"div",54)(11,"button",55),m("click",function(){d(e);let t=p();return u(t.filtrarPorNaoVencidos())}),o(),i(12,"button",56),m("click",function(){d(e);let t=p();return u(t.filtrarPorVence3Dias())}),o(),i(13,"button",57),m("click",function(){d(e);let t=p();return u(t.filtrarPorVence10Dias())}),o(),i(14,"button",58),m("click",function(){d(e);let t=p();return u(t.filtrarPorVencidos())}),o(),i(15,"button",59),m("click",function(){d(e);let t=p();return u(t.mostrarTodos())}),o()()(),i(16,"div",60)(17,"div",61)(18,"span",62),g(19,"i",63),i(20,"input",64,0),m("input",function(t){d(e);let a=p();return u(a.buscarPorNome(t.target.value))}),o(),x(22,lt,1,0,"button",65),o()(),i(23,"p-table",66,1),E("selectionChange",function(t){d(e);let a=p();return V(a.listaClientesSelecionados,t)||(a.listaClientesSelecionados=t),u(t)}),x(25,ct,19,1,"ng-template",67)(26,mt,32,11,"ng-template",68),o()()(),i(27,"button",69),m("click",function(){d(e);let t=p();return u(t.novo())}),o(),U()}if(r&2){let e=p();c(11),k(e.filtroSelecionado==="ativos"?"p-button-success border-round-xl":"p-button-outlined border-round-xl"),c(),k(e.filtroSelecionado==="3dias"?"p-button-warning border-round-xl":"p-button-outlined border-round-xl"),c(),k(e.filtroSelecionado==="10dias"?"p-button-info border-round-xl":"p-button-outlined border-round-xl"),c(),k(e.filtroSelecionado==="vencidos"?"p-button-danger border-round-xl":"p-button-outlined border-round-xl"),c(),k(e.filtroSelecionado==="todos"?"p-button-secondary border-round-xl":"p-button-outlined border-round-xl"),c(7),f("ngIf",e.termoBusca),c(),f("value",e.listaClientes)("columns",e.cols)("rows",10)("globalFilterFields",h(20,at))("paginator",!0)("rowsPerPageOptions",h(21,rt))("showCurrentPageReport",!0),M("selection",e.listaClientesSelecionados),f("rowHover",!0)}}function ut(r,C){if(r&1){let e=y();i(0,"button",91),m("click",function(){d(e);let t=p();return u(t.dialogoExcluir=!1)}),o(),i(1,"button",92),m("click",function(){d(e);let t=p();return u(t.excluir())}),o()}}function _t(r,C){r&1&&(i(0,"small",93),l(1," Nome \xE9 obrigat\xF3rio (m\xEDn. 3 caracteres). "),o())}function gt(r,C){if(r&1){let e=y();i(0,"button",94),m("click",function(){d(e);let t=p();return u(t.dialogoCliente=!1)}),o(),i(1,"button",95),m("click",function(){d(e);let t=p();return u(t.salvarOuAlterar())}),o()}if(r&2){let e=p();c(),f("disabled",e.cadastroForm.invalid)}}function ft(r,C){if(r&1){let e=y();i(0,"button",91),m("click",function(){d(e);let t=p();return u(t.dialogoDeleteVarios=!1)}),o(),i(1,"button",92),m("click",function(){d(e);let t=p();return u(t.excluirSelecionados())}),o()}}function vt(r,C){if(r&1){let e=y();i(0,"button",96),m("click",function(){d(e);let t=p();return u(t.dialogoRenovar=!1)}),o(),i(1,"button",92),m("click",function(){d(e);let t=p();return u(t.confirmarRenovar())}),o()}}function bt(r,C){if(r&1){let e=y();i(0,"button",97),m("click",function(){d(e);let t=p();return u(t.dialogoPosRenovacao=!1)}),o(),i(1,"button",98),m("click",function(){d(e);let t=p();return u(t.enviarConfirmacaoRenovacao())}),o()}}var Ke=(()=>{class r{constructor(e,n,t,a,s,D,T,O){this.clienteService=e,this.planoService=n,this.servidorService=t,this.messageService=a,this.formBuilder=s,this.config=D,this.mensagemService=T,this.historicoRenovacaoService=O,this.cadastroForm=this.formBuilder.group({id:[""],nome:["",[S.required,S.minLength(3),S.maxLength(50),S.pattern(new RegExp("\\S"))]],usuario:["",[S.maxLength(20)]],email:["",[S.email,S.pattern(new RegExp("\\S")),S.maxLength(50)]],telefone:["",[S.pattern(new RegExp("\\S"))]],dataVencimento:["",[S.required]],observacao:["",[S.pattern(new RegExp("\\S"))]],servidor:[""],plano:[""]}),this.listaClientes=[],this.todosClientes=[],this.listaPlanos=[],this.listaServidores=[],this.listaClientesSelecionados=[],this.dialogoExcluir=!1,this.dialogoCliente=!1,this.dialogoDeleteVarios=!1,this.filtroSelecionado="3dias",this.termoBusca="",this.cols=[],this.converterDateToTimeStamp=v=>{let _=v.dataVencimento;if(_&&_.seconds){let b=new Date(_.seconds*1e3);return v.dataVencimento=b,v}else return v},this.convertEFiltra=(v,_)=>{this.listaClientes=v.map(b=>this.converterDateToTimeStamp(b)).filter(b=>_?_(b):!0)},this.vencido=v=>{let _=new Date;return _.setHours(0,0,0,0),v.dataVencimento<_},this.naoVencido=v=>{let _=new Date;return _.setHours(0,0,0,0),v.dataVencimento>=_},this.venceEm3Dias=v=>{let _=new Date;_.setHours(0,0,0,0);let b=new Date;return b.setHours(0,0,0,0),b.setDate(b.getDate()+3),v.dataVencimento>=_&&v.dataVencimento<=b},this.venceEm10Dias=v=>{let _=new Date;_.setHours(0,0,0,0);let b=new Date;return b.setHours(0,0,0,0),b.setDate(b.getDate()+10),v.dataVencimento>=_&&v.dataVencimento<=b},this.dialogoRenovar=!1,this.dialogoPosRenovacao=!1,this.clienteRenovacao=null,this.novaDataVencimento=null,this.dataBaseRenovacao=null,this.mensagemRenovacao=""}ngOnInit(){this.config.setTranslation({accept:"Aceitar",reject:"Cancelar",dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"],monthNames:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),this.cols=[{field:"id",header:"Id"},{field:"nome",header:"Nome"},{field:"usuario",header:"Usu\xE1rio"},{field:"email",header:"Email"},{field:"telefone",header:"Telefone"},{field:"observacao",header:"Observacao"}],this.filtroVencimento=this.venceEm3Dias,this.buscarClientes(),this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")}),this.servidorService.getAll().subscribe({next:e=>this.listaServidores=e,error:e=>console.error(e),complete:()=>console.info("complete")})}buscarClientesOrdenado(){this.clienteService.getAllOrderByVencimento().then(e=>{console.log(e.docs)})}buscarClientes(){this.clienteService.getAll().subscribe({next:e=>{this.todosClientes=e.map(n=>this.converterDateToTimeStamp(n)),this.aplicarFiltroAtual(),console.log("this.listaClientes: ",this.listaClientes)},error:e=>console.error(e),complete:()=>console.info("complete")})}aplicarFiltroAtual(){this.termoBusca&&this.termoBusca.trim()!==""?this.listaClientes=this.todosClientes.filter(e=>e.nome&&e.nome.toLowerCase().includes(this.termoBusca.toLowerCase())):this.listaClientes=this.todosClientes.filter(e=>this.filtroVencimento?this.filtroVencimento(e):!0)}buscarPorNome(e){this.termoBusca=e,this.aplicarFiltroAtual()}limparBusca(e){e.value="",this.termoBusca="",this.aplicarFiltroAtual()}getStatusCliente(e){let n=new Date;if(n.setHours(0,0,0,0),e<n)return"Vencido";if(e.getTime()===n.getTime())return"Vence Hoje";{let t=Math.ceil((e.getTime()-n.getTime())/864e5);return t<=3?`Vence em ${t} dia(s)`:"Ativo"}}getStatusClass(e){let n=new Date;return n.setHours(0,0,0,0),e<n?"status-vencido":e.getTime()===n.getTime()?"status-vence-hoje":Math.ceil((e.getTime()-n.getTime())/864e5)<=3?"status-vence-3dias":"status-ativo"}filtrarPorVence3Dias(){this.filtroVencimento=this.venceEm3Dias,this.filtroSelecionado="3dias",this.termoBusca="",this.aplicarFiltroAtual()}filtrarPorVence10Dias(){this.filtroVencimento=this.venceEm10Dias,this.filtroSelecionado="10dias",this.termoBusca="",this.aplicarFiltroAtual()}filtrarPorVencidos(){this.filtroVencimento=this.vencido,this.filtroSelecionado="vencidos",this.termoBusca="",this.aplicarFiltroAtual()}filtrarPorNaoVencidos(){this.filtroVencimento=this.naoVencido,this.filtroSelecionado="ativos",this.termoBusca="",this.aplicarFiltroAtual()}mostrarTodos(){this.filtroVencimento=null,this.filtroSelecionado="todos",this.termoBusca="",this.aplicarFiltroAtual()}salvarOuAlterar(){this.cadastroForm.valid&&(console.log(this.cadastroForm.value),console.log(this.cadastroForm.value.nome)),this.cadastroForm.value.id?this.alterar():this.salvar()}salvar(){this.clienteService.create(this.cadastroForm.value).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Cliente Criado!",life:3e3}),this.buscarClientes()}).catch(e=>console.log("error: ",e))}abrirDialogAlterar(e){let n=e.dataVencimento;if(n&&n.seconds){let t=new Date(n.seconds*1e3);e.dataVencimento=t}this.cadastroForm.patchValue(e),this.dialogoCliente=!0}abrirDialogDeletarVarios(){this.dialogoDeleteVarios=!0}alterar(){console.log("alterar: ",this.cadastroForm.value),this.clienteService.update(this.cadastroForm.value).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Alterado!",life:3e3}),this.buscarClientes()})}abrirDialogExcluir(e){this.cadastroForm.patchValue(e),this.dialogoExcluir=!0}excluir(){this.clienteService.delete(this.cadastroForm.value.id||"").then(()=>{console.info("complete"),this.dialogoExcluir=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Exclu\xEDdo",life:3e3}),this.buscarClientes()})}onGlobalFilter(e,n){e.filterGlobal(n.target.value,"contains")}novo(){this.dialogoCliente=!0,this.cadastroForm.reset()}excluirSelecionados(){this.listaClientesSelecionados&&this.listaClientesSelecionados.forEach(e=>{this.clienteService.delete(e.id||"")}),this.dialogoDeleteVarios=!1,console.log(this.listaClientesSelecionados)}exportExcel(){import("./chunk-G3CI4VX2.js").then(e=>{let t={Sheets:{data:e.utils.json_to_sheet(this.listaClientes)},SheetNames:["data"]},a=e.write(t,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(a,"products")})}saveAsExcelFile(e,n){let t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",a=".xlsx",s=new Blob([e],{type:t});Ze.saveAs(s,n+"_export_"+new Date().getTime()+a)}abrirWhatsApp(e){return j(this,null,function*(){let n=e.telefone?String(e.telefone):"",t=e.plano&&e.plano.nome||"",a=e.plano&&e.plano.valor||"",s=e.usuario?e.usuario:"",D=e.dataVencimento.toLocaleDateString("pt-BR"),T=new Date().getHours(),O=T>6&&T<12?"bom dia!":T>=12&&T<18?"boa tarde!":"boa noite!",v=yield this.mensagemService.getAtiva(),_;v&&v.corpo?_=v.corpo.replace(/\{\{saudacao\}\}/g,O).replace(/\{\{nome\}\}/g,e.nome||"").replace(/\{\{telefone\}\}/g,n).replace(/\{\{usuario\}\}/g,s).replace(/\{\{dataVencimento\}\}/g,D).replace(/\{\{plano\.nome\}\}/g,t).replace(/\{\{plano\.valor\}\}/g,String(a)):_=`Ol\xE1, ${O}
*Segue seu vencimento IPTV* 
*Vencimento:* _${D}_

*PLANO CONTRATADO* 
\u2B55 _Plano:_ *${t}* 
\u2B55 _Valor:_ *R$ ${a}* ${s?`
\u2B55 _Conta:_ *${s}*`:""}

*FORMAS DE PAGAMENTOS* 
\u2705 Pic Pay : @canutobr
\u2705 Banco do Brasil: ag 3020-1 cc 45746-9
\u2705 Pix: canutopixbb@gmail.com 

- Dura\xE7\xE3o da lista 30 dias, acesso de um ponto, n\xE3o permite conex\xF5es simult\xE2neas. 

- Assim que efetuar o pagamento, enviar o comprovante e vou efetuar a contrata\xE7\xE3o/renova\xE7\xE3o o mais r\xE1pido poss\xEDvel.

-*Aguardamos seu contato para renova\xE7\xE3o!*`;let b=`https://web.whatsapp.com/send?phone=${n}&text=${encodeURIComponent(_)}`;window.open(b,"_blank")})}calcularNovaDataVencimento(e){let n=new Date(e);n.setHours(0,0,0,0);let t=n.getDate();return n.setMonth(n.getMonth()+1),n.getDate()!==t&&n.setDate(0),n}atualizarNovaDataVencimento(){if(!this.dataBaseRenovacao){this.novaDataVencimento=null;return}let e=new Date(this.dataBaseRenovacao);e.setHours(0,0,0,0),this.dataBaseRenovacao=e,this.novaDataVencimento=this.calcularNovaDataVencimento(e)}abrirDialogRenovar(e){this.clienteRenovacao=A({},e);let n=e.dataVencimento,t,a=n&&n.seconds?new Date(n.seconds*1e3):new Date(e.dataVencimento),s=new Date;s.setHours(0,0,0,0),a.setHours(0,0,0,0),a<s?t=s:t=a,this.dataBaseRenovacao=new Date(t),this.atualizarNovaDataVencimento(),this.dialogoRenovar=!0}confirmarRenovar(){return j(this,null,function*(){if(!this.clienteRenovacao||!this.novaDataVencimento)return;let e=$(A({},this.clienteRenovacao),{dataVencimento:this.novaDataVencimento});yield this.clienteService.update(e);let n={cliente:this.clienteRenovacao,plano:this.clienteRenovacao.plano||{id:"",nome:"",valor:0},servidor:this.clienteRenovacao.servidor||{id:"",nome:"",valorCredito:0},dataHoraRenovacao:new Date,dataNovoVencimento:this.novaDataVencimento};yield this.historicoRenovacaoService.create(n),this.dialogoRenovar=!1;let t=this.novaDataVencimento.toLocaleDateString("pt-BR");this.mensagemRenovacao=`Conta renovada com sucesso. Novo vencimento: ${t}`,this.dialogoPosRenovacao=!0,this.buscarClientes()})}enviarConfirmacaoRenovacao(){if(!this.clienteRenovacao)return;let n=`https://web.whatsapp.com/send?phone=${this.clienteRenovacao.telefone?String(this.clienteRenovacao.telefone):""}&text=${encodeURIComponent(this.mensagemRenovacao)}`;window.open(n,"_blank"),this.dialogoPosRenovacao=!1}clonar(e){e.id="",e.nome+=" - 2",this.clienteService.create(e).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Cliente Criado!",life:3e3}),this.buscarClientes()}).catch(n=>console.log("error: ",n))}static{this.\u0275fac=function(n){return new(n||r)(w(fe),w(be),w(ve),w(N),w(pe),w(Q),w(Ge),w(qe))}}static{this.\u0275cmp=G({type:r,selectors:[["app-cliente"]],standalone:!1,features:[Y([N])],decls:90,vars:59,consts:[["campoBusca",""],["dt",""],[1,"grid"],[1,"col-12"],[4,"ngIf"],["header","Confirmar",3,"visibleChange","visible","modal","breakpoints"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"p-fluid",3,"visibleChange","visible","header","modal","breakpoints"],[1,"mt-2",3,"ngSubmit","formGroup"],[1,"field","col-12"],["for","name",1,"font-bold"],[1,"p-input-icon-left"],[1,"pi","pi-user"],["formControlName","nome","type","text","pInputText","","id","name","placeholder","Ex: Jo\xE3o Silva","autofocus",""],["class","p-error block",4,"ngIf"],[1,"field","col-12","md:col-6"],["for","usuario",1,"font-bold"],[1,"pi","pi-at"],["formControlName","usuario","type","text","pInputText","","id","usuario","placeholder","usuario123"],["for","telefone",1,"font-bold"],["mask","(55) 99-999999999","formControlName","telefone","placeholder","(55) 00-000000000"],["for","dataVencimento",1,"font-bold"],["id","dataVencimento","formControlName","dataVencimento","dateFormat","dd/mm/yy",3,"showIcon"],["for","servidor",1,"font-bold"],["id","servidor","formControlName","servidor","placeholder","Selecione","optionLabel","nome","dataKey","id",3,"options","showClear"],["for","plano",1,"font-bold"],["id","plano","formControlName","plano","placeholder","Selecione","optionLabel","nome","dataKey","id",3,"options","showClear"],["for","email",1,"font-bold"],["formControlName","email","type","email","pInputText","","id","email","placeholder","email@exemplo.com"],["for","observacao",1,"font-bold"],["formControlName","observacao","pInputTextarea","","placeholder","Informa\xE7\xF5es adicionais...",3,"rows"],["header","Confirmar Renova\xE7\xE3o","styleClass","renovacao-dialog",3,"visibleChange","visible","modal","breakpoints","baseZIndex"],[1,"renovacao-content"],[1,"renovacao-header"],["aria-hidden","true",1,"renovacao-icon","pi","pi-exclamation-triangle"],[1,"renovacao-title"],[1,"renovacao-subtitle"],[1,"renovacao-form"],["for","dataBaseRenovacao",1,"font-bold"],[1,"renovacao-input"],["id","dataBaseRenovacao","dateFormat","dd/mm/yy","panelStyleClass","renovacao-calendar-panel",3,"ngModelChange","ngModel","ngModelOptions","showIcon","appendTo","baseZIndex"],[1,"renovacao-chip"],[1,"renovacao-result"],[1,"renovacao-result-label"],[1,"renovacao-result-date"],["header","Renova\xE7\xE3o Conclu\xEDda",3,"visibleChange","visible","modal","breakpoints"],[1,"card","p-0","overflow-hidden","border-none","shadow-2"],[1,"p-4","bg-primary","text-white","flex","align-items-center","justify-content-between"],[1,"flex","align-items-center","gap-3"],[1,"pi","pi-users","text-3xl"],[1,"text-2xl","font-bold","m-0","text-white"],[1,"m-0","text-primary-100","opacity-80"],[1,"flex","flex-wrap","gap-2"],["pButton","","pRipple","","label","Ativos","icon","pi pi-check-circle",3,"click"],["pButton","","pRipple","","label","3 dias!","icon","pi pi-clock",3,"click"],["pButton","","pRipple","","label","10 dias","icon","pi pi-clock",3,"click"],["pButton","","pRipple","","label","Vencidos","icon","pi pi-times-circle",3,"click"],["pButton","","pRipple","","label","Todos","icon","pi pi-list",3,"click"],[1,"p-4"],[1,"surface-ground","p-3","border-round-xl","mb-4"],[1,"p-input-icon-right","w-full"],[1,"pi","pi-search","text-500"],["pInputText","","type","text","placeholder","Pesquisar por nome, usu\xE1rio, plano ou servidor...",1,"w-full","p-3","border-round-xl",3,"input"],["type","button","pButton","","pRipple","","icon","pi pi-times","class","p-button-text p-button-secondary",3,"click",4,"ngIf"],["sortField","dataVencimento","styleClass","p-datatable-sm p-datatable-gridlines clientes-table","responsiveLayout","stack","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords}","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-rounded","p-button-success","fab",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-times",1,"p-button-text","p-button-secondary",3,"click"],["style","width: 3rem",4,"ngIf"],["pSortableColumn","dataVencimento"],["field","dataVencimento"],["pSortableColumn","nome"],["field","nome"],["pSortableColumn","plano.nome"],["field","plano.nome"],["pSortableColumn","servidor.nome"],["field","servidor.nome"],[2,"width","3rem"],[3,"click"],[1,"p-column-title"],[1,"nome-usuario",3,"click"],[1,"flex","flex-wrap"],["pButton","","pRipple","","icon","pi pi-whatsapp","pTooltip","Enviar mensagem no WhatsApp","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"click"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-calendar-plus","pTooltip","Renovar por 30 dias","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash","pTooltip","Excluir cliente","tooltipPosition","top",1,"p-button-rounded","p-button-warning","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-clone","pTooltip","Clonar cliente","tooltipPosition","top",1,"p-button-rounded",3,"click"],[3,"value"],["pButton","","pRipple","","icon","pi pi-times","label","N\xE3o",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"],[1,"p-error","block"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text","p-button-secondary",3,"click"],["pButton","","pRipple","","label","Salvar Altera\xE7\xF5es","icon","pi pi-check",1,"p-button-primary","border-round-lg",3,"click","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","Nao",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-send","label","Enviar confirma\xE7\xE3o",1,"p-button-success",3,"click"]],template:function(n,t){if(n&1&&(i(0,"div",2),g(1,"p-toast"),i(2,"div",3),x(3,dt,28,22,"ng-container",4),i(4,"p-dialog",5),E("visibleChange",function(s){return V(t.dialogoExcluir,s)||(t.dialogoExcluir=s),s}),i(5,"div",6),g(6,"i",7),i(7,"span"),l(8,"Tem certeza que voc\xEA deseja excluir "),i(9,"b"),l(10),o(),l(11,"?"),o()(),x(12,ut,2,0,"ng-template",8),o(),i(13,"p-dialog",9),E("visibleChange",function(s){return V(t.dialogoCliente,s)||(t.dialogoCliente=s),s}),i(14,"form",10),m("ngSubmit",function(){return t.salvarOuAlterar()}),i(15,"div",2)(16,"div",11)(17,"label",12),l(18,"Nome Completo"),o(),i(19,"span",13),g(20,"i",14)(21,"input",15),o(),x(22,_t,2,0,"small",16),o(),i(23,"div",17)(24,"label",18),l(25,"Usu\xE1rio / Login"),o(),i(26,"span",13),g(27,"i",19)(28,"input",20),o()(),i(29,"div",17)(30,"label",21),l(31,"WhatsApp"),o(),g(32,"p-inputMask",22),o(),i(33,"div",17)(34,"label",23),l(35,"Vencimento"),o(),g(36,"p-calendar",24),o(),i(37,"div",17)(38,"label",25),l(39,"Servidor"),o(),g(40,"p-dropdown",26),o(),i(41,"div",17)(42,"label",27),l(43,"Plano"),o(),g(44,"p-dropdown",28),o(),i(45,"div",17)(46,"label",29),l(47,"E-mail (opcional)"),o(),g(48,"input",30),o(),i(49,"div",11)(50,"label",31),l(51,"Observa\xE7\xF5es"),o(),g(52,"textarea",32),o()()(),x(53,gt,2,1,"ng-template",8),o(),i(54,"p-dialog",5),E("visibleChange",function(s){return V(t.dialogoDeleteVarios,s)||(t.dialogoDeleteVarios=s),s}),i(55,"div",6),g(56,"i",7),i(57,"span"),l(58,"Tem certeza que quer deletar todos os selecionados?"),o()(),x(59,ft,2,0,"ng-template",8),o(),i(60,"p-dialog",33),E("visibleChange",function(s){return V(t.dialogoRenovar,s)||(t.dialogoRenovar=s),s}),i(61,"div",34)(62,"div",35),g(63,"span",36),i(64,"div")(65,"div",37),l(66,"Tem certeza que deseja renovar "),i(67,"b"),l(68),o(),l(69," por mais 30 dias?"),o(),i(70,"div",38),l(71,"Escolha a data base. O vencimento sera calculado a partir dela."),o()()(),i(72,"div",39)(73,"label",40),l(74,"Data base da renovacao"),o(),i(75,"div",41)(76,"p-calendar",42),E("ngModelChange",function(s){return V(t.dataBaseRenovacao,s)||(t.dataBaseRenovacao=s),s}),m("ngModelChange",function(){return t.atualizarNovaDataVencimento()}),o(),i(77,"span",43),l(78,"30 dias"),o()()(),i(79,"div",44)(80,"span",45),l(81,"Novo vencimento"),o(),i(82,"span",46),l(83),W(84,"date"),o()()(),x(85,vt,2,0,"ng-template",8),o(),i(86,"p-dialog",47),E("visibleChange",function(s){return V(t.dialogoPosRenovacao,s)||(t.dialogoPosRenovacao=s),s}),i(87,"div"),l(88),o(),x(89,bt,2,0,"ng-template",8),o()()()),n&2){let a,s;c(3),f("ngIf",!t.dialogoCliente),c(),R(h(48,Ue)),M("visible",t.dialogoExcluir),f("modal",!0)("breakpoints",h(49,z)),c(6),I(t.cadastroForm.value.nome),c(3),R(h(50,tt)),M("visible",t.dialogoCliente),f("header",(a=t.cadastroForm.get("id"))!=null&&a.value?"Editar Cliente":"Novo Cliente")("modal",!0)("breakpoints",h(51,nt)),c(),f("formGroup",t.cadastroForm),c(8),f("ngIf",((s=t.cadastroForm.get("nome"))==null?null:s.invalid)&&((s=t.cadastroForm.get("nome"))==null?null:s.touched)),c(14),f("showIcon",!0),c(4),f("options",t.listaServidores)("showClear",!0),c(4),f("options",t.listaPlanos)("showClear",!0),c(8),f("rows",3),c(2),R(h(52,Ue)),M("visible",t.dialogoDeleteVarios),f("modal",!0)("breakpoints",h(53,z)),c(6),R(h(54,Je)),M("visible",t.dialogoRenovar),f("modal",!0)("breakpoints",h(55,it))("baseZIndex",1e3),c(8),I(t.clienteRenovacao==null?null:t.clienteRenovacao.nome),c(8),M("ngModel",t.dataBaseRenovacao),f("ngModelOptions",h(56,ot))("showIcon",!0)("appendTo","body")("baseZIndex",3e3),c(7),I(L(84,45,t.novaDataVencimento,"dd/MM/yyyy")),c(3),R(h(57,Je)),M("visible",t.dialogoPosRenovacao),f("modal",!0)("breakpoints",h(58,z)),c(2),P(" ",t.mensagemRenovacao," ")}},dependencies:[Z,le,ie,oe,ae,re,se,ce,ke,ee,Pe,Te,Re,De,_e,te,He,Me,je,we,Fe,Ne,xe,he,K],styles:[".fab[_ngcontent-%COMP%]{position:fixed!important;z-index:1030!important;right:2rem!important;bottom:2rem!important;width:56px!important;height:56px!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.fab[_ngcontent-%COMP%]:hover{transform:scale(1.1) translateY(-2px)!important;box-shadow:0 8px 16px #0000004d!important}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.list-card[_ngcontent-%COMP%]{position:relative;padding-bottom:100px}@media (max-width: 768px){.fab[_ngcontent-%COMP%]{width:48px!important;height:48px!important;right:1rem!important;bottom:1rem!important;bottom:calc(1rem + env(safe-area-inset-bottom,0px))!important}.fab[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.1rem!important}.list-card[_ngcontent-%COMP%]{padding-bottom:80px}}[_nghost-%COMP%]{position:relative;min-height:100vh}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;border-radius:8px;font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;box-shadow:0 2px 4px #0000000d}.status-ativo[_ngcontent-%COMP%]{background-color:var(--green-100);color:var(--green-700);border:1px solid var(--green-200)}.status-vencido[_ngcontent-%COMP%]{background-color:var(--red-100);color:var(--red-700);border:1px solid var(--red-200)}.status-vence-hoje[_ngcontent-%COMP%], .status-vence-3dias[_ngcontent-%COMP%]{background-color:var(--orange-100);color:var(--orange-700);border:1px solid var(--orange-200)}.clientes-table[_ngcontent-%COMP%]   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{cursor:pointer}.clientes-table[_ngcontent-%COMP%]   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:var(--surface-50)}.clientes-table[_ngcontent-%COMP%]   .p-column-title[_ngcontent-%COMP%]{font-weight:700;color:var(--surface-500);text-transform:uppercase;font-size:.7rem;margin-bottom:.25rem}.bg-primary[_ngcontent-%COMP%]   .p-button-outlined[_ngcontent-%COMP%]{background-color:#ffffff1a!important;border-color:#ffffff4d!important;color:#fff!important}.bg-primary[_ngcontent-%COMP%]   .p-button-outlined[_ngcontent-%COMP%]:hover{background-color:#fff3!important;border-color:#ffffff80!important}.bg-primary[_ngcontent-%COMP%]   .p-button-outlined[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #ffffff4d!important}.bg-primary[_ngcontent-%COMP%]   .p-button-success[_ngcontent-%COMP%]{background-color:var(--green-500)!important;border-color:var(--green-500)!important;color:#fff!important}.bg-primary[_ngcontent-%COMP%]   .p-button-success[_ngcontent-%COMP%]:hover{background-color:var(--green-600)!important;border-color:var(--green-600)!important}.bg-primary[_ngcontent-%COMP%]   .p-button-warning[_ngcontent-%COMP%]{background-color:var(--orange-500)!important;border-color:var(--orange-500)!important;color:#fff!important}.bg-primary[_ngcontent-%COMP%]   .p-button-warning[_ngcontent-%COMP%]:hover{background-color:var(--orange-600)!important;border-color:var(--orange-600)!important}.bg-primary[_ngcontent-%COMP%]   .p-button-info[_ngcontent-%COMP%]{background-color:var(--blue-400)!important;border-color:var(--blue-400)!important;color:#fff!important}.bg-primary[_ngcontent-%COMP%]   .p-button-info[_ngcontent-%COMP%]:hover{background-color:var(--blue-500)!important;border-color:var(--blue-500)!important}.bg-primary[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]{background-color:var(--red-500)!important;border-color:var(--red-500)!important;color:#fff!important}.bg-primary[_ngcontent-%COMP%]   .p-button-danger[_ngcontent-%COMP%]:hover{background-color:var(--red-600)!important;border-color:var(--red-600)!important}.bg-primary[_ngcontent-%COMP%]   .p-button-secondary[_ngcontent-%COMP%]{background-color:var(--surface-600)!important;border-color:var(--surface-600)!important;color:#fff!important}.bg-primary[_ngcontent-%COMP%]   .p-button-secondary[_ngcontent-%COMP%]:hover{background-color:var(--surface-700)!important;border-color:var(--surface-700)!important}[_nghost-%COMP%]     .renovacao-dialog .p-dialog{overflow:visible}[_nghost-%COMP%]     .renovacao-dialog .p-dialog-header{padding:1.5rem 1.75rem .75rem}[_nghost-%COMP%]     .renovacao-dialog .p-dialog-content{overflow:visible;padding:0 1.75rem 1.5rem}[_nghost-%COMP%]     .renovacao-dialog .p-dialog-footer{padding:0 1.75rem 1.5rem;gap:.5rem}  .p-datepicker,   .p-datepicker-panel,   .renovacao-calendar-panel{z-index:4000!important}.renovacao-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.renovacao-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:40px 1fr;gap:.75rem;align-items:start}.renovacao-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:12px;background:var(--orange-100);color:var(--orange-700);font-size:1.1rem}.renovacao-title[_ngcontent-%COMP%]{font-weight:600;color:var(--surface-800)}.renovacao-subtitle[_ngcontent-%COMP%]{margin-top:.25rem;color:var(--surface-500);font-size:.9rem}.renovacao-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--surface-700)}.renovacao-input[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:.75rem;align-items:center}.renovacao-input[_ngcontent-%COMP%]     .p-calendar{width:100%}.renovacao-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.35rem .75rem;border-radius:999px;background:var(--primary-50);color:var(--primary-700);font-weight:600;font-size:.85rem;white-space:nowrap}.renovacao-result[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.85rem 1rem;border-radius:12px;background:var(--surface-50);border:1px solid var(--surface-200)}.renovacao-result-label[_ngcontent-%COMP%]{color:var(--surface-600);font-weight:600}.renovacao-result-date[_ngcontent-%COMP%]{color:var(--surface-900);font-weight:700}@media (max-width: 640px){.renovacao-header[_ngcontent-%COMP%]{grid-template-columns:32px 1fr}.renovacao-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:10px}.renovacao-input[_ngcontent-%COMP%]{grid-template-columns:1fr}.renovacao-chip[_ngcontent-%COMP%]{justify-self:start}}"]})}}return r})();var Xe=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=B({type:r})}static{this.\u0275inj=F({imports:[H.forChild([{path:"",component:Ke}]),H]})}}return r})();var un=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=B({type:r})}static{this.\u0275inj=F({imports:[X,Xe,me,de,Oe,Ie,ge,ne,ze,$e,Le,Ve,We,ye,ue,Ee,Be,Ae,Se,Ce]})}}return r})();export{un as ClienteModule};
