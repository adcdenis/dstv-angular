import{a as J}from"./chunk-ZG7MC6PH.js";import{a as j}from"./chunk-2WMKDNAP.js";import{a as w}from"./chunk-SPKYGVVT.js";import{a as k}from"./chunk-LW6XWBPB.js";import{a as F,b as N}from"./chunk-DTX2IFH6.js";import"./chunk-3CQIXJFX.js";import"./chunk-4JDA26ZU.js";import"./chunk-3GJN2BSD.js";import"./chunk-LG5M4ZZH.js";import"./chunk-6LXUGSQP.js";import"./chunk-UAXJ67OE.js";import{b as M,d as I}from"./chunk-4B2QLF32.js";import"./chunk-S35HUXPS.js";import{k as m,q as x,s as b,t as E}from"./chunk-BFP4OEA6.js";import{Bb as d,F as o,Ka as c,Ra as S,Tb as h,Y as f,Z as r,da as u,ea as a,m as _,ma as v,sa as l,ta as s,u as p,ua as g,za as T}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{f as A}from"./chunk-MG3ERZGY.js";var D=A(J());var O=(()=>{class e{constructor(i,t,n,C){this.clienteService=i,this.planoService=t,this.servidorService=n,this.messageService=C,this.loading=!1}exportarJson(){this.loading=!0,_({clientes:this.clienteService.getAll().pipe(p(1)),planos:this.planoService.getAll().pipe(p(1)),servidores:this.servidorService.getAll().pipe(p(1))}).subscribe({next:i=>{let t=JSON.stringify(i,null,2),n=new Blob([t],{type:"application/json"});D.saveAs(n,`dstv_export_${new Date().getTime()}.json`),this.messageService.add({severity:"success",summary:"Sucesso",detail:"Exporta\xE7\xE3o conclu\xEDda!"}),this.loading=!1},error:i=>{console.error(i),this.messageService.add({severity:"error",summary:"Erro",detail:"Falha ao exportar dados."}),this.loading=!1}})}static{this.\u0275fac=function(t){return new(t||e)(r(j),r(k),r(w),r(m))}}static{this.\u0275cmp=u({type:e,selectors:[["ng-component"]],standalone:!1,features:[S([m])],decls:10,vars:1,consts:[[1,"grid"],[1,"col-12"],[1,"card","fade-in"],[1,"pi","pi-download","mr-2"],["pButton","","pRipple","","label","Exportar JSON","icon","pi pi-download",1,"p-button-success","mr-2",3,"click","loading"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),g(4,"i",3),c(5,"Exportar Dados"),s(),l(6,"p"),c(7,"Clique no bot\xE3o abaixo para baixar um arquivo JSON contendo todos os Clientes, Planos e Servidores cadastrados."),s(),l(8,"button",4),T("click",function(){return n.exportarJson()}),s()()()(),g(9,"p-toast")),t&2&&(f(8),v("loading",n.loading))},dependencies:[M,b,F],encapsulation:2})}}return e})();var R=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=a({type:e})}static{this.\u0275inj=o({imports:[h.forChild([{path:"",component:O}]),h]})}}return e})();var Q=(()=>{class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=a({type:e});static \u0275inj=o({imports:[d,x]})}return e})();var be=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=a({type:e})}static{this.\u0275inj=o({imports:[d,R,I,E,Q,N]})}}return e})();export{be as ExportModule};
