import{a as X,b as Y}from"./chunk-MDRKDICO.js";import{b as Z}from"./chunk-GJP2YN4Y.js";import{a as Q}from"./chunk-WRKS3KBU.js";import{a as $,b as K}from"./chunk-DTX2IFH6.js";import{a as J,b as U}from"./chunk-MRQLE57Y.js";import"./chunk-3CQIXJFX.js";import"./chunk-4JDA26ZU.js";import{k as H}from"./chunk-C3W5HSCK.js";import"./chunk-5CO6IPWY.js";import"./chunk-UNGKZQU4.js";import"./chunk-4RURM2DY.js";import"./chunk-UHPR5IVD.js";import"./chunk-T2PIK6R3.js";import"./chunk-7SPUUUGD.js";import"./chunk-SFTIWTHH.js";import{i as z}from"./chunk-VPFJ3TVV.js";import"./chunk-NJPLBFLS.js";import"./chunk-MDZH7E7N.js";import"./chunk-V6X5IB37.js";import"./chunk-V5XYQFDX.js";import"./chunk-3GJN2BSD.js";import"./chunk-UW4E5NSV.js";import"./chunk-6LXUGSQP.js";import{b as G}from"./chunk-RD2ZW53S.js";import"./chunk-UAXJ67OE.js";import{b as F,c as f,e as N,g as B,l as R,m as j,n as W}from"./chunk-ENZ5W56S.js";import"./chunk-S35HUXPS.js";import{b as q,d as L}from"./chunk-4B2QLF32.js";import{k as b}from"./chunk-BFP4OEA6.js";import{Aa as P,Bb as O,F as g,Ka as n,L as S,La as p,M as _,Oa as V,Pa as k,Qa as D,Ra as I,Tb as M,Y as m,Z as v,da as y,ea as x,ja as C,ma as h,sa as e,sb as A,ta as t,ua as s,ya as T,za as u}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{a as w,b as E,h as c}from"./chunk-MG3ERZGY.js";function ne(a,ie){if(a&1){let o=T();e(0,"button",46),u("click",function(){let r=S(o).$implicit,l=P();return _(l.inserirToken(r.value))}),t()}if(a&2){let o=ie.$implicit;h("label",o.label)}}var te=(()=>{class a{constructor(o,i,r){this.fb=o,this.mensagemService=i,this.messageService=r,this.form=this.fb.group({id:[""],nome:["",[f.required,f.minLength(3)]],corpo:["",[f.required,f.minLength(10)]],ativo:[!0]}),this.previewText="",this.tokens=[{label:"Sauda\xE7\xE3o",value:"{{saudacao}}"},{label:"Nome",value:"{{nome}}"},{label:"Telefone",value:"{{telefone}}"},{label:"Usu\xE1rio",value:"{{usuario}}"},{label:"Data Vencimento",value:"{{dataVencimento}}"},{label:"Plano Nome",value:"{{plano.nome}}"},{label:"Plano Valor",value:"{{plano.valor}}"}]}ngOnInit(){return c(this,null,function*(){let o=yield this.mensagemService.getAtiva();o?this.form.patchValue(o):this.form.patchValue({nome:"WhatsApp Padr\xE3o",ativo:!0,corpo:this.defaultCorpo()}),this.computePreview(),this.form.get("corpo")?.valueChanges.subscribe(()=>this.computePreview())})}novo(){this.form.reset({ativo:!1})}editar(o){this.form.patchValue(o)}salvar(){return c(this,null,function*(){let o=yield this.mensagemService.getAtiva(),i=E(w({},this.form.value),{ativo:!0,nome:"WhatsApp Padr\xE3o"});o&&o.id?(i.id=o.id,yield this.mensagemService.update(i)):i.id?yield this.mensagemService.update(i):yield this.mensagemService.create(i),this.messageService.add({severity:"success",summary:"Sucesso",detail:"Template salvo"})})}excluir(o){return c(this,null,function*(){})}inserirToken(o){let i=this.form.get("corpo")?.value||"";this.form.patchValue({corpo:i+o})}marcarAtivo(o){return c(this,null,function*(){})}defaultCorpo(){return`Ol\xE1, {{saudacao}}
*Segue seu vencimento IPTV* 
*Vencimento:* _{{dataVencimento}}_

*PLANO CONTRATADO* 
\u2B55 _Plano:_ *{{plano.nome}}* 
\u2B55 _Valor:_ *R$ {{plano.valor}}* 
\u2B55 _Conta:_ *{{usuario}}*

*FORMAS DE PAGAMENTOS* 
\u2705 Pic Pay : @canutobr
\u2705 Banco do Brasil: ag 3020-1 cc 45746-9
\u2705 Pix: canutopixbb@gmail.com 

- Dura\xE7\xE3o da lista 30 dias, acesso de um ponto, n\xE3o permite conex\xF5es simult\xE2neas. 

- Assim que efetuar o pagamento, enviar o comprovante e vou efetuar a contrata\xE7\xE3o/renova\xE7\xE3o o mais r\xE1pido poss\xEDvel.

-*Aguardamos seu contato para renova\xE7\xE3o!*`}computePreview(){let o=this.form.get("corpo")?.value||"",i=new Date().getHours(),r=i>6&&i<12?"bom dia!":i>=12&&i<18?"boa tarde!":"boa noite!",l={nome:"Jo\xE3o da Silva",telefone:"55999999999",usuario:"usuario123",dataVencimento:new Date().toLocaleDateString("pt-BR"),plano:{nome:"Plano Premium",valor:"49,90"}};this.previewText=(o||"").replace(/\{\{saudacao\}\}/g,r).replace(/\{\{nome\}\}/g,l.nome).replace(/\{\{telefone\}\}/g,l.telefone).replace(/\{\{usuario\}\}/g,l.usuario).replace(/\{\{dataVencimento\}\}/g,l.dataVencimento).replace(/\{\{plano\.nome\}\}/g,l.plano.nome).replace(/\{\{plano\.valor\}\}/g,l.plano.valor)}limpar(){this.form.patchValue({corpo:""}),this.computePreview()}static{this.\u0275fac=function(i){return new(i||a)(v(R),v(Q),v(b))}}static{this.\u0275cmp=y({type:a,selectors:[["app-mensagem"]],standalone:!1,features:[I([b])],decls:82,vars:7,consts:[[1,"grid"],[1,"col-12"],[1,"card","p-0","overflow-hidden","border-none","shadow-2"],[1,"p-4","bg-primary","text-white","flex","align-items-center","gap-3"],[1,"pi","pi-whatsapp","text-3xl"],[1,"text-2xl","font-bold","m-0","text-white"],[1,"m-0","text-primary-100","opacity-80"],[1,"p-4"],[1,"col-12","lg:col-5"],[1,"card","shadow-1","border-round-xl","h-full"],[1,"text-900","font-bold","mb-4","flex","align-items-center","gap-2"],[1,"pi","pi-pencil","text-primary"],[1,"p-fluid"],[1,"field"],["pInputTextarea","","id","corpo","rows","20","placeholder","Escreva sua mensagem aqui...",1,"border-round-xl","p-3","font-family-monospace",3,"ngModelChange","ngModel"],[1,"mb-3"],[1,"block","text-700","font-semibold","mb-2","text-sm","uppercase"],[1,"flex","flex-wrap","gap-2"],["pButton","","type","button","class","p-button-sm p-button-outlined border-round-lg",3,"label","click",4,"ngFor","ngForOf"],[1,"flex","gap-2","mt-4"],["pButton","","type","button","icon","pi pi-refresh","label","Restaurar Padr\xE3o",1,"p-button-secondary","border-round-lg","flex-1",3,"click"],["pButton","","type","button","icon","pi pi-save","label","Salvar Template",1,"p-button-primary","border-round-lg","flex-1",3,"click"],[1,"col-12","lg:col-4"],[1,"card","shadow-1","border-round-xl","h-full","bg-surface-50"],[1,"pi","pi-eye","text-primary"],[1,"p-4","bg-white","border-round-xl","shadow-1","relative",2,"min-height","300px","border","1px solid #e2e8f0"],[1,"absolute","top-0","left-0","w-full","h-2rem","bg-primary-100","border-round-top-xl","flex","align-items-center","px-3"],[1,"text-xs","font-bold","text-primary-700"],[1,"mt-4"],[1,"pre-wrap","text-800","m-0","line-height-3",2,"font-family","inherit"],[1,"mt-4","p-3","bg-blue-50","border-round-lg","border-left-3","border-blue-500"],[1,"m-0","text-sm","text-blue-800"],[1,"pi","pi-info-circle","mr-2"],[1,"col-12","lg:col-3"],[1,"card","shadow-1","border-round-xl","h-full","border-top-3","border-primary"],[1,"text-900","font-bold","mb-4"],[1,"flex","flex-column","gap-3","text-700"],[1,"flex","align-items-center","gap-2"],[1,"bg-surface-200","px-2","py-1","border-round"],[1,"text-sm","font-bold"],[1,"text-sm","font-italic"],[1,"text-sm","line-through"],[1,"text-sm","font-family-monospace"],[1,"text-900","font-bold","mb-3"],[1,"flex","flex-wrap","gap-1"],[1,"bg-primary-50","text-primary-700","px-2","py-1","border-round","text-xs","font-semibold"],["pButton","","type","button",1,"p-button-sm","p-button-outlined","border-round-lg",3,"click","label"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"i",4),e(5,"div")(6,"h1",5),n(7,"Template de Mensagem"),t(),e(8,"p",6),n(9,"Personalize as mensagens enviadas aos clientes"),t()()(),e(10,"div",7)(11,"div",0)(12,"div",8)(13,"div",9)(14,"h5",10),s(15,"i",11),n(16," Editor do Template "),t(),e(17,"div",12)(18,"div",13)(19,"textarea",14),D("ngModelChange",function(d){return k(r.form.value.corpo,d)||(r.form.value.corpo=d),d}),u("ngModelChange",function(d){return r.form.patchValue({corpo:d})}),t()(),e(20,"div",15)(21,"span",16),n(22,"Tokens Din\xE2micos (Clique para inserir)"),t(),e(23,"div",17),C(24,ne,1,1,"button",18),t()(),e(25,"div",19)(26,"button",20),u("click",function(){return r.limpar()}),t(),e(27,"button",21),u("click",function(){return r.salvar()}),t()()()()(),e(28,"div",22)(29,"div",23)(30,"h5",10),s(31,"i",24),n(32," Pr\xE9-visualiza\xE7\xE3o Real "),t(),e(33,"div",25)(34,"div",26)(35,"span",27),n(36,"Visualiza\xE7\xE3o de Mensagem"),t()(),e(37,"div",28)(38,"pre",29),n(39),t()()(),e(40,"div",30)(41,"p",31),s(42,"i",32),n(43," Esta \xE9 uma simula\xE7\xE3o de como o cliente receber\xE1 a mensagem no WhatsApp. "),t()()()(),e(44,"div",33)(45,"div",34)(46,"h5",35),n(47,"Dicas de Formata\xE7\xE3o"),t(),e(48,"div",36)(49,"div",37)(50,"code",38),n(51,"*texto*"),t(),e(52,"span",39),n(53,"Negrito"),t()(),e(54,"div",37)(55,"code",38),n(56,"_texto_"),t(),e(57,"span",40),n(58,"It\xE1lico"),t()(),e(59,"div",37)(60,"code",38),n(61,"~texto~"),t(),e(62,"span",41),n(63,"Tachado"),t()(),e(64,"div",37)(65,"code",38),n(66,"`texto`"),t(),e(67,"span",42),n(68,"Monoespa\xE7o"),t()()(),s(69,"p-divider"),e(70,"h6",43),n(71,"Vari\xE1veis Dispon\xEDveis"),t(),e(72,"div",44)(73,"span",45),n(74),t(),e(75,"span",45),n(76),t(),e(77,"span",45),n(78),t(),e(79,"span",45),n(80),t()()()()()()()(),s(81,"p-toast"),t()),i&2&&(m(19),V("ngModel",r.form.value.corpo),m(5),h("ngForOf",r.tokens),m(15),p(r.previewText),m(35),p("{{saudacao}}"),m(2),p("{{nome}}"),m(2),p("{{usuario}}"),m(2),p("{{vencimento}}"))},dependencies:[A,F,N,B,q,J,$,X],styles:[".tokens[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.corpo-textarea[_ngcontent-%COMP%]{min-height:468px}.card[_ngcontent-%COMP%]{overflow:hidden}.pre-wrap[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}"]})}}return a})();var oe=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=x({type:a})}static{this.\u0275inj=g({imports:[M.forChild([{path:"",component:te}]),M]})}}return a})();var Ae=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=x({type:a})}static{this.\u0275inj=g({imports:[O,oe,W,j,H,L,G,U,Z,z,K,Y]})}}return a})();export{Ae as MensagemModule};
