import{b as ae}from"./chunk-ZIMJ2VN2.js";import{a as te,b as ie}from"./chunk-YHGITU6X.js";import{a as Z,b as ee}from"./chunk-QD3EWCKC.js";import{a as W}from"./chunk-2J2Y6LP7.js";import{a as $}from"./chunk-RLNUZQCH.js";import{a as G}from"./chunk-AW5DFX2W.js";import{a as X}from"./chunk-ULMLR6ZN.js";import{a as Y}from"./chunk-77VZTUG6.js";import{a as ne,d as re,e as se,k as le}from"./chunk-C3W5HSCK.js";import"./chunk-5CO6IPWY.js";import"./chunk-UNGKZQU4.js";import"./chunk-4RURM2DY.js";import"./chunk-UHPR5IVD.js";import"./chunk-T2PIK6R3.js";import"./chunk-7SPUUUGD.js";import"./chunk-SFTIWTHH.js";import"./chunk-VPFJ3TVV.js";import"./chunk-NJPLBFLS.js";import"./chunk-MDZH7E7N.js";import"./chunk-V6X5IB37.js";import"./chunk-V5XYQFDX.js";import"./chunk-3GJN2BSD.js";import"./chunk-UW4E5NSV.js";import"./chunk-6LXUGSQP.js";import"./chunk-RD2ZW53S.js";import"./chunk-UAXJ67OE.js";import{m as z}from"./chunk-ENZ5W56S.js";import"./chunk-S35HUXPS.js";import{b as Q,d as U}from"./chunk-4B2QLF32.js";import{p as J}from"./chunk-BFP4OEA6.js";import{$a as B,Aa as P,Bb as w,Da as O,Ea as A,F as f,I,Ja as T,Ka as i,L as _,La as h,M as k,Sa as c,Tb as L,W as M,Y as r,Z as x,bb as N,da as j,ea as S,ja as C,ma as o,sa as e,sb as q,ta as t,tb as K,ua as a,wb as H,ya as F,za as E,zb as R}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{h as y}from"./chunk-MG3ERZGY.js";var D=()=>({width:"3.5rem",height:"3.5rem"}),b=()=>({height:"8px"}),ce=()=>({width:"50%"}),pe=()=>({width:"16%"}),ue=()=>({width:"67%"}),he=()=>({width:"35%"}),ve=()=>({width:"75%"}),ge=()=>({width:"40%"}),fe=()=>({borderRadius:"1rem",background:"linear-gradient(0deg, rgba(0, 123, 255, 0.5), rgba(0, 123, 255, 0.5)), linear-gradient(92.54deg, #1C80CF 47.88%, #FFFFFF 100.01%)"});function xe(s,v){if(s&1&&(e(0,"li",38)(1,"div",39)(2,"div",40),a(3,"i",41),t(),e(4,"div")(5,"span",42),i(6),t(),e(7,"span",43),i(8,"Servidor Ativo"),t()()(),e(9,"div",44)(10,"span",45),i(11),t(),e(12,"span",46),i(13,"clientes ativos"),t()()()),s&2){let n=v.$implicit;r(6),h(n.servidor.nome),r(5),h(n.quantidade)}}function Se(s,v){if(s&1&&(e(0,"li",38)(1,"div",39)(2,"div",47),a(3,"i",48),t(),e(4,"div")(5,"span",42),i(6),t(),e(7,"span",43),i(8,"Plano Dispon\xEDvel"),t()()(),e(9,"div",44)(10,"span",45),i(11),t(),e(12,"span",46),i(13,"clientes ativos"),t()()()),s&2){let n=v.$implicit;r(6),h(n.plano.nome),r(5),h(n.quantidade)}}function be(s,v){s&1&&(e(0,"tr")(1,"th"),i(2,"Image"),t(),e(3,"th",74),i(4,"Name "),a(5,"p-sortIcon",75),t(),e(6,"th",76),i(7,"Price "),a(8,"p-sortIcon",77),t(),e(9,"th"),i(10,"View"),t()())}function Ce(s,v){if(s&1&&(e(0,"tr")(1,"td",78),a(2,"img",79),t(),e(3,"td",80),i(4),t(),e(5,"td",81),i(6),B(7,"currency"),t(),e(8,"td",82),a(9,"button",83),t()()),s&2){let n=v.$implicit;r(2),A("src","assets/dstv/images/product/",n.image,"",M),O("alt",n.name),r(2),h(n.name),r(2),h(N(7,5,n.price,"USD"))}}function ye(s,v){if(s&1){let n=F();e(0,"div",49)(1,"div",30)(2,"h5"),i(3,"Recent Sales"),t(),e(4,"p-table",50),C(5,be,11,0,"ng-template",51)(6,Ce,10,8,"ng-template",52),t()(),e(7,"div",30)(8,"div",53)(9,"h5"),i(10,"Best Selling Products"),t(),e(11,"div")(12,"button",54),E("click",function(m){_(n);let u=T(14);return k(u.toggle(m))}),t(),a(13,"p-menu",55,0),t()(),e(15,"ul",34)(16,"li",56)(17,"div")(18,"span",57),i(19,"Space T-Shirt"),t(),e(20,"div",58),i(21,"Clothing"),t()(),e(22,"div",59)(23,"div",60),a(24,"div",61),t(),e(25,"span",62),i(26,"%50"),t()()(),e(27,"li",56)(28,"div")(29,"span",57),i(30,"Portal Sticker"),t(),e(31,"div",58),i(32,"Accessories"),t()(),e(33,"div",63)(34,"div",60),a(35,"div",64),t(),e(36,"span",65),i(37,"%16"),t()()(),e(38,"li",56)(39,"div")(40,"span",57),i(41,"Supernova Sticker"),t(),e(42,"div",58),i(43,"Accessories"),t()(),e(44,"div",63)(45,"div",60),a(46,"div",66),t(),e(47,"span",67),i(48,"%67"),t()()(),e(49,"li",56)(50,"div")(51,"span",57),i(52,"Wonders Notebook"),t(),e(53,"div",58),i(54,"Office"),t()(),e(55,"div",63)(56,"div",60),a(57,"div",68),t(),e(58,"span",69),i(59,"%35"),t()()(),e(60,"li",56)(61,"div")(62,"span",57),i(63,"Mat Black Case"),t(),e(64,"div",58),i(65,"Accessories"),t()(),e(66,"div",63)(67,"div",60),a(68,"div",70),t(),e(69,"span",71),i(70,"%75"),t()()(),e(71,"li",56)(72,"div")(73,"span",57),i(74,"Robots T-Shirt"),t(),e(75,"div",58),i(76,"Clothing"),t()(),e(77,"div",63)(78,"div",60),a(79,"div",72),t(),e(80,"span",73),i(81,"%40"),t()()()()()()}if(s&2){let n=P();r(4),o("value",n.products)("paginator",!0)("rows",5),r(9),o("popup",!0)("model",n.items),r(10),o("ngStyle",c(17,b)),r(),o("ngStyle",c(18,ce)),r(10),o("ngStyle",c(19,b)),r(),o("ngStyle",c(20,pe)),r(10),o("ngStyle",c(21,b)),r(),o("ngStyle",c(22,ue)),r(10),o("ngStyle",c(23,b)),r(),o("ngStyle",c(24,he)),r(10),o("ngStyle",c(25,b)),r(),o("ngStyle",c(26,ve)),r(10),o("ngStyle",c(27,b)),r(),o("ngStyle",c(28,ge))}}function Ee(s,v){if(s&1){let n=F();e(0,"div",49)(1,"div",30)(2,"h5"),i(3,"Sales Overview"),t(),a(4,"p-chart",84),t(),e(5,"div",30)(6,"div",31)(7,"h5"),i(8,"Notifications"),t(),e(9,"div")(10,"button",54),E("click",function(m){_(n);let u=T(12);return k(u.toggle(m))}),t(),a(11,"p-menu",55,0),t()(),e(13,"span",85),i(14,"TODAY"),t(),e(15,"ul",86)(16,"li",87)(17,"div",88),a(18,"i",89),t(),e(19,"span",90),i(20,"Richard Jones "),e(21,"span",91),i(22," has purchased a blue t-shirt for "),e(23,"span",92),i(24,"79$"),t()()()(),e(25,"li",93)(26,"div",94),a(27,"i",95),t(),e(28,"span",96),i(29,"Your request for withdrawal of "),e(30,"span",16),i(31,"2500$"),t(),i(32," has been initiated."),t()()(),e(33,"span",85),i(34,"YESTERDAY"),t(),e(35,"ul",97)(36,"li",87)(37,"div",88),a(38,"i",89),t(),e(39,"span",90),i(40,"Keyser Wick "),e(41,"span",91),i(42," has purchased a black jacket for "),e(43,"span",92),i(44,"59$"),t()()()(),e(45,"li",87)(46,"div",98),a(47,"i",99),t(),e(48,"span",90),i(49,"Jane Davis"),e(50,"span",91),i(51," has posted a new questions about your product."),t()()()()(),e(52,"div",100)(53,"div")(54,"div",101),i(55,"TAKE THE NEXT STEP"),t(),e(56,"div",102),i(57,"Try PrimeBlocks"),t()(),e(58,"div",103)(59,"a",104),i(60," Get Started "),t()()()()}if(s&2){let n=P();r(4),o("data",n.chartData)("options",n.chartOptions),r(7),o("popup",!0)("model",n.items),r(41),o("ngStyle",c(5,fe))}}var oe=(()=>{class s{constructor(n,l,m,u){this.productService=n,this.layoutService=l,this.servidorService=m,this.planoService=u,this.clienteService=I(Y),this.ativos=0,this.vencidos=0,this.vence3dias=0,this.listaServidores=[],this.listaPlanos=[],this.clientesPorServidor=[],this.clientesPorPlano=[],this.converterDateToTimeStamp=d=>{let p=d.dataVencimento;if(p&&p.seconds){let g=new Date(p.seconds*1e3);return d.dataVencimento=g,d}else return d},this.vencido=d=>{let p=new Date;return p.setHours(0,0,0,0),d.dataVencimento<p},this.naoVencido=d=>{let p=new Date;return p.setHours(0,0,0,0),d.dataVencimento>=p},this.venceEm3Dias=d=>{let p=new Date;p.setHours(0,0,0,0);let g=new Date;return g.setHours(0,0,0,0),g.setDate(g.getDate()+3),d.dataVencimento>=p&&d.dataVencimento<=g},this.subscription=this.layoutService.configUpdate$.subscribe(()=>{this.initChart()})}ngOnInit(){this.buscarClientes(),this.buscarServidoresEPlanos()}buscarServidoresEPlanos(){return y(this,null,function*(){this.servidorService.getAll().subscribe({next:n=>{this.listaServidores=n,this.contarClientesPorServidor()},error:n=>console.error(n)}),this.planoService.getAll().subscribe({next:n=>{this.listaPlanos=n,this.contarClientesPorPlano()},error:n=>console.error(n)})})}contarClientesPorServidor(){return y(this,null,function*(){this.clientesPorServidor=[];for(let n of this.listaServidores)if(n.id){let u=(yield this.clienteService.getByServidor(n.id)).docs.map(d=>{let p=d.data();return this.converterDateToTimeStamp(p)}).filter(d=>this.naoVencido(d)).length;this.clientesPorServidor.push({servidor:n,quantidade:u})}this.clientesPorServidor.sort((n,l)=>l.quantidade-n.quantidade)})}contarClientesPorPlano(){return y(this,null,function*(){this.clientesPorPlano=[];for(let n of this.listaPlanos)if(n.id){let u=(yield this.clienteService.getByPlano(n.id)).docs.map(d=>{let p=d.data();return this.converterDateToTimeStamp(p)}).filter(d=>this.naoVencido(d)).length;this.clientesPorPlano.push({plano:n,quantidade:u})}this.clientesPorPlano.sort((n,l)=>l.quantidade-n.quantidade)})}buscarClientes(){this.clienteService.getAll().subscribe({next:n=>{n.forEach(l=>{l=this.converterDateToTimeStamp(l),this.vencido(l)&&(this.vencidos+=1),this.naoVencido(l)&&(this.ativos+=1),this.venceEm3Dias(l)&&(this.vence3dias+=1)})},error:n=>console.error(n),complete:()=>console.info("complete")})}initChart(){let n=getComputedStyle(document.documentElement),l=n.getPropertyValue("--text-color"),m=n.getPropertyValue("--text-color-secondary"),u=n.getPropertyValue("--surface-border");this.chartData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"First Dataset",data:[65,59,80,81,56,55,40],fill:!1,backgroundColor:n.getPropertyValue("--bluegray-700"),borderColor:n.getPropertyValue("--bluegray-700"),tension:.4},{label:"Second Dataset",data:[28,48,40,19,86,27,90],fill:!1,backgroundColor:n.getPropertyValue("--green-600"),borderColor:n.getPropertyValue("--green-600"),tension:.4}]},this.chartOptions={plugins:{legend:{labels:{color:l}}},scales:{x:{ticks:{color:m},grid:{color:u,drawBorder:!1}},y:{ticks:{color:m},grid:{color:u,drawBorder:!1}}}}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||s)(x(W),x($),x(G),x(X))}}static{this.\u0275cmp=j({type:s,selectors:[["ng-component"]],standalone:!1,decls:78,vars:16,consts:[["menu",""],[1,"grid"],[1,"col-12"],[1,"card","p-0","overflow-hidden","border-none","shadow-2"],[1,"p-4","bg-primary","text-white","flex","align-items-center","gap-3"],[1,"pi","pi-chart-bar","text-3xl"],[1,"text-2xl","font-bold","m-0","text-white"],[1,"m-0","text-primary-100","opacity-80"],[1,"p-4"],[1,"col-12","lg:col-6","xl:col-3"],[1,"card","mb-0","shadow-1","hover:shadow-3","transition-duration-200","border-left-3","border-blue-500"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-600","font-semibold","mb-3"],[1,"text-900","font-bold","text-3xl"],[1,"flex","align-items-center","justify-content-center","bg-blue-50","border-round-xl",3,"ngStyle"],[1,"pi","pi-users","text-blue-500","text-2xl"],[1,"text-blue-500","font-medium"],[1,"card","mb-0","shadow-1","hover:shadow-3","transition-duration-200","border-left-3","border-orange-500"],[1,"flex","align-items-center","justify-content-center","bg-orange-50","border-round-xl",3,"ngStyle"],[1,"pi","pi-clock","text-orange-500","text-2xl"],[1,"text-orange-500","font-medium"],[1,"card","mb-0","shadow-1","hover:shadow-3","transition-duration-200","border-left-3","border-red-500"],[1,"flex","align-items-center","justify-content-center","bg-red-50","border-round-xl",3,"ngStyle"],[1,"pi","pi-user-minus","text-red-500","text-2xl"],[1,"text-red-500","font-medium"],[1,"card","mb-0","shadow-1","hover:shadow-3","transition-duration-200","border-left-3","border-purple-500"],[1,"flex","align-items-center","justify-content-center","bg-purple-50","border-round-xl",3,"ngStyle"],[1,"pi","pi-database","text-purple-500","text-2xl"],[1,"text-purple-500","font-medium"],[1,"col-12","lg:col-6","mt-4"],[1,"card"],[1,"flex","align-items-center","justify-content-between","mb-4"],[1,"m-0","font-bold","text-xl"],[1,"pi","pi-server","text-600"],[1,"list-none","p-0","m-0"],["class","flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4 p-3 surface-50 border-round-xl",4,"ngFor","ngForOf"],[1,"pi","pi-tag","text-600"],["class","col-12 xl:col-6",4,"ngIf"],[1,"flex","flex-column","md:flex-row","md:align-items-center","md:justify-content-between","mb-4","p-3","surface-50","border-round-xl"],[1,"flex","align-items-center"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-indigo-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-tablet","text-xl","text-indigo-500"],[1,"text-900","font-bold","block","mb-1"],[1,"text-600"],[1,"mt-2","md:mt-0","flex","flex-column","align-items-end"],[1,"text-900","font-bold","text-xl","mb-1"],[1,"text-500","text-sm"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-green-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-bolt","text-xl","text-green-500"],[1,"col-12","xl:col-6"],["responsiveLayout","scroll",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center","mb-5"],["pButton","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","p-button-plain",3,"click"],[3,"popup","model"],[1,"flex","flex-column","md:flex-row","md:align-items-center","md:justify-content-between","mb-4"],[1,"text-900","font-medium","mr-2","mb-1","md:mb-0"],[1,"mt-1","text-600"],[1,"mt-2","md:mt-0","flex","align-items-center"],[1,"surface-300","border-round","overflow-hidden","w-10rem","lg:w-6rem",3,"ngStyle"],[1,"bg-orange-500","h-full",3,"ngStyle"],[1,"text-orange-500","ml-3","font-medium"],[1,"mt-2","md:mt-0","ml-0","md:ml-8","flex","align-items-center"],[1,"bg-cyan-500","h-full",3,"ngStyle"],[1,"text-cyan-500","ml-3","font-medium"],[1,"bg-pink-500","h-full",3,"ngStyle"],[1,"text-pink-500","ml-3","font-medium"],[1,"bg-green-500","h-full",3,"ngStyle"],[1,"text-green-500","ml-3","font-medium"],[1,"bg-purple-500","h-full",3,"ngStyle"],[1,"text-purple-500","ml-3","font-medium"],[1,"bg-teal-500","h-full",3,"ngStyle"],[1,"text-teal-500","ml-3","font-medium"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],[2,"width","15%","min-width","5rem"],["width","50",1,"shadow-4",3,"src","alt"],[2,"width","35%","min-width","7rem"],[2,"width","35%","min-width","8rem"],[2,"width","15%"],["pButton","","pRipple","","type","button","icon","pi pi-search",1,"p-button","p-component","p-button-text","p-button-icon-only"],["type","line",3,"data","options"],[1,"block","text-600","font-medium","mb-3"],[1,"p-0","mx-0","mt-0","mb-4","list-none"],[1,"flex","align-items-center","py-2","border-bottom-1","surface-border"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-blue-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-dollar","text-xl","text-blue-500"],[1,"text-900","line-height-3"],[1,"text-700"],[1,"text-blue-500"],[1,"flex","align-items-center","py-2"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-orange-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-download","text-xl","text-orange-500"],[1,"text-700","line-height-3"],[1,"p-0","m-0","list-none"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-pink-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-question","text-xl","text-pink-500"],[1,"px-4","py-5","shadow-2","flex","flex-column","md:flex-row","md:align-items-center","justify-content-between","mb-3",3,"ngStyle"],[1,"text-blue-100","font-medium","text-xl","mt-2","mb-3"],[1,"text-white","font-medium","text-5xl"],[1,"mt-4","mr-auto","md:mt-0","md:mr-0"],["target","_blank","href","https://www.primefaces.org/primeblocks-ng",1,"p-button","font-bold","px-5","py-3","p-button-warning","p-button-rounded","p-button-raised"]],template:function(l,m){l&1&&(e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),a(4,"i",5),e(5,"div")(6,"h1",6),i(7,"Dashboard"),t(),e(8,"p",7),i(9,"Vis\xE3o geral do sistema e estat\xEDsticas"),t()()(),e(10,"div",8)(11,"div",1)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div")(16,"span",12),i(17,"Clientes Ativos"),t(),e(18,"div",13),i(19),t()(),e(20,"div",14),a(21,"i",15),t()(),e(22,"span",16),i(23,"Cadastrados no sistema"),t()()(),e(24,"div",9)(25,"div",17)(26,"div",11)(27,"div")(28,"span",12),i(29,"Pr\xF3ximos Vencimentos"),t(),e(30,"div",13),i(31),t()(),e(32,"div",18),a(33,"i",19),t()(),e(34,"span",20),i(35,"Vencem em at\xE9 3 dias"),t()()(),e(36,"div",9)(37,"div",21)(38,"div",11)(39,"div")(40,"span",12),i(41,"Clientes Vencidos"),t(),e(42,"div",13),i(43),t()(),e(44,"div",22),a(45,"i",23),t()(),e(46,"span",24),i(47,"Necessitam renova\xE7\xE3o"),t()()(),e(48,"div",9)(49,"div",25)(50,"div",11)(51,"div")(52,"span",12),i(53,"Total de Clientes"),t(),e(54,"div",13),i(55),t()(),e(56,"div",26),a(57,"i",27),t()(),e(58,"span",28),i(59,"Base total de dados"),t()()(),e(60,"div",29)(61,"div",30)(62,"div",31)(63,"h5",32),i(64,"Clientes por Servidor"),t(),a(65,"i",33),t(),e(66,"ul",34),C(67,xe,14,2,"li",35),t()()(),e(68,"div",29)(69,"div",30)(70,"div",31)(71,"h5",32),i(72,"Distribui\xE7\xE3o por Plano"),t(),a(73,"i",36),t(),e(74,"ul",34),C(75,Se,14,2,"li",35),t()()(),C(76,ye,82,29,"div",37)(77,Ee,61,6,"div",37),t()()()()()),l&2&&(r(19),h(m.ativos),r(),o("ngStyle",c(12,D)),r(11),h(m.vence3dias),r(),o("ngStyle",c(13,D)),r(11),h(m.vencidos),r(),o("ngStyle",c(14,D)),r(11),h(m.ativos+m.vencidos),r(),o("ngStyle",c(15,D)),r(11),o("ngForOf",m.clientesPorServidor.slice(0,5)),r(8),o("ngForOf",m.clientesPorPlano.slice(0,5)),r(),o("ngIf",!1),r(),o("ngIf",!1))},dependencies:[q,K,H,Z,te,ne,J,re,se,Q,R],encapsulation:2})}}return s})();var de=(()=>{class s{static \u0275fac=function(l){return new(l||s)};static \u0275mod=S({type:s});static \u0275inj=f({imports:[w]})}return s})();var me=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=S({type:s})}static{this.\u0275inj=f({imports:[L.forChild([{path:"",component:oe}]),L]})}}return s})();var st=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=S({type:s})}static{this.\u0275inj=f({imports:[w,z,ee,ie,le,de,ae,U,me]})}}return s})();export{st as DashboardModule};
