import{a as Le,b as We}from"./chunk-T3I5EOJP.js";import{a as nt}from"./chunk-ZG7MC6PH.js";import{a as Ke}from"./chunk-TYJRV2V5.js";import{a as ve}from"./chunk-AW5DFX2W.js";import{a as xe}from"./chunk-ULMLR6ZN.js";import{b as $e}from"./chunk-MSYTDTXD.js";import{a as Ae,b as Ne}from"./chunk-YOAYV4RA.js";import"./chunk-2JY635KS.js";import{a as Ge,b as Je}from"./chunk-6BD7PSS4.js";import{a as Oe,b as je}from"./chunk-5WWM3MYI.js";import"./chunk-WSDER2HD.js";import"./chunk-T6OX34SV.js";import{b as ge}from"./chunk-4CYYGYMS.js";import{a as he}from"./chunk-77VZTUG6.js";import{a as Ye}from"./chunk-WRKS3KBU.js";import{a as Ue,b as qe}from"./chunk-DTX2IFH6.js";import{a as He,b as ze}from"./chunk-W22XDKEB.js";import"./chunk-3CQIXJFX.js";import"./chunk-4JDA26ZU.js";import{a as De,d as Me,e as Fe,h as Pe,i as Ie,k as Be}from"./chunk-QXXVWUSP.js";import"./chunk-MZURXKLX.js";import{a as we,b as Ve}from"./chunk-4Q7UP2TF.js";import"./chunk-XCSSQDET.js";import{c as Re}from"./chunk-LJGI4ZRP.js";import"./chunk-T2PIK6R3.js";import"./chunk-7SPUUUGD.js";import"./chunk-SFTIWTHH.js";import{h as Ee,i as Te}from"./chunk-WSIWJYJX.js";import"./chunk-NJPLBFLS.js";import{a as be,b as Se}from"./chunk-MDZH7E7N.js";import"./chunk-V6X5IB37.js";import"./chunk-V5XYQFDX.js";import"./chunk-3GJN2BSD.js";import"./chunk-UW4E5NSV.js";import"./chunk-6LXUGSQP.js";import{a as ye,b as ke}from"./chunk-UGHG6TU3.js";import"./chunk-UAXJ67OE.js";import{b as ae,c as S,e as re,f as le,h as se,i as ce,j as me,k as pe,l as de,m as ue,o as _e}from"./chunk-KLIUDW4T.js";import"./chunk-S35HUXPS.js";import{b as fe,d as Ce}from"./chunk-4B2QLF32.js";import{k as A,m as te,p as ie,s as ne,t as oe}from"./chunk-BFP4OEA6.js";import{$a as z,Aa as l,Bb as ee,F as P,Ja as H,Ka as s,L as m,La as B,M as p,Ma as y,Oa as k,Pa as R,Qa as D,Ra as Y,Sa as w,Ta as K,Tb as U,Y as c,Z as E,bb as $,da as G,ea as I,ja as v,ma as _,pa as M,qa as J,rb as X,sa as n,ta as o,tb as Q,ua as g,va as L,wa as W,ya as x,yb as Z,za as d}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{a as O,b as q,f as it,h as j}from"./chunk-MG3ERZGY.js";var Ze=it(nt());var Xe=()=>({width:"450px"}),N=()=>({"960px":"50vw","640px":"90vw"}),ot=()=>({width:"480px"}),at=()=>({width:"520px"}),rt=()=>["valor","nome","id","plano.nome","servidor.nome"],lt=()=>[10,20,30],st=a=>({"ng-invalid ng-dirty":a});function ct(a,C){if(a&1){let e=x();n(0,"button",23),d("click",function(){m(e);let t=l(3);return p(t.abrirDialogDeletarVarios())}),o()}if(a&2){let e=l(3);_("disabled",!e.listaClientesSelecionados||!e.listaClientesSelecionados.length)}}function mt(a,C){if(a&1){let e=x();n(0,"div",20)(1,"button",21),d("click",function(){m(e);let t=l(2);return p(t.filtrarPorVence3Dias())}),o(),v(2,ct,1,1,"button",22),o()}a&2&&(c(2),_("ngIf",!1))}function pt(a,C){a&1&&g(0,"p-fileUpload",31),a&2&&_("maxFileSize",1e6)}function dt(a,C){if(a&1){let e=x();n(0,"button",32),d("click",function(){m(e),l(2);let t=H(6);return p(t.exportCSV())}),o()}}function ut(a,C){if(a&1){let e=x();n(0,"button",33),d("click",function(){m(e);let t=l(3);return p(t.exportExcel())}),o()}}function _t(a,C){if(a&1){let e=x();n(0,"div",24)(1,"button",25),d("click",function(){m(e);let t=l(2);return p(t.filtrarPorNaoVencidos())}),o(),n(2,"button",26),d("click",function(){m(e);let t=l(2);return p(t.filtrarPorVencidos())}),o(),n(3,"button",27),d("click",function(){m(e);let t=l(2);return p(t.mostrarTodos())}),o(),v(4,pt,1,1,"p-fileUpload",28)(5,dt,1,0,"button",29)(6,ut,1,0,"button",30),o()}a&2&&(c(4),_("ngIf",!1),c(),_("ngIf",!1),c(),_("ngIf",!1))}function gt(a,C){if(a&1){let e=x();n(0,"div",34)(1,"h5",35),g(2,"i",36),s(3,"Gerenciar Clientes"),o(),n(4,"span",37),g(5,"i",38),n(6,"input",39,1),d("input",function(t){m(e);let r=l(2);return p(r.buscarPorNome(t.target.value))}),o(),n(8,"button",40),d("click",function(){m(e);let t=H(7),r=l(2);return p(r.limparBusca(t))}),o()()()}if(a&2){let e=l(2);c(8),_("disabled",!e.termoBusca)}}function ft(a,C){a&1&&(n(0,"th",50),g(1,"p-tableHeaderCheckbox"),o())}function Ct(a,C){a&1&&(n(0,"tr"),v(1,ft,2,0,"th",41),n(2,"th",42),s(3,"Vencimento "),g(4,"p-sortIcon",43),o(),n(5,"th",44),s(6,"Nome "),g(7,"p-sortIcon",45),o(),n(8,"th"),s(9,"Status"),o(),n(10,"th"),s(11,"Alerta "),o(),n(12,"th",46),s(13,"Plano "),g(14,"p-sortIcon",47),o(),n(15,"th",48),s(16,"Servidor "),g(17,"p-sortIcon",49),o(),g(18,"th"),o()),a&2&&(c(),_("ngIf",!1))}function ht(a,C){if(a&1&&(n(0,"td"),g(1,"p-tableCheckbox",60),o()),a&2){let e=l().$implicit;c(),_("value",e)}}function vt(a,C){if(a&1){let e=x();n(0,"tr"),v(1,ht,2,1,"td",4),n(2,"td",51),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.abrirDialogAlterar(t))}),n(3,"span",52),s(4,"Vencimento"),o(),s(5),z(6,"date"),o(),n(7,"td",53),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.abrirDialogAlterar(t))}),n(8,"span",52),s(9,"Nome"),o(),s(10),o(),n(11,"td",51),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.abrirDialogAlterar(t))}),n(12,"span",52),s(13,"Status"),o(),n(14,"span"),s(15),o()(),n(16,"td")(17,"div",54)(18,"button",55),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.abrirWhatsApp(t))}),o()()(),n(19,"td",51),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.abrirDialogAlterar(t))}),n(20,"span",52),s(21,"Plano"),o(),s(22),o(),n(23,"td",51),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.abrirDialogAlterar(t))}),n(24,"span",52),s(25,"Servidor"),o(),s(26),o(),n(27,"td")(28,"div",56)(29,"button",57),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.abrirDialogRenovar(t))}),o(),n(30,"button",58),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.abrirDialogExcluir(t))}),o(),n(31,"button",59),d("click",function(){let t=m(e).$implicit,r=l(2);return p(r.clonar(t))}),o()()()()}if(a&2){let e=C.$implicit,i=l(2);c(),_("ngIf",!1),c(4),y(" ",$(6,8,e.dataVencimento,"dd/MM/yyyy")," "),c(5),y(" ",e.nome," "),c(4),J("status-badge "+i.getStatusClass(e.dataVencimento)),c(),y(" ",i.getStatusCliente(e.dataVencimento)," "),c(7),y(" ",e.plano.nome," "),c(4),y(" ",e.servidor.nome," ")}}function xt(a,C){if(a&1){let e=x();L(0),n(1,"div",11)(2,"p-toolbar",12),v(3,mt,3,1,"ng-template",13)(4,_t,7,3,"ng-template",14),o(),n(5,"p-table",15,0),D("selectionChange",function(t){m(e);let r=l();return R(r.listaClientesSelecionados,t)||(r.listaClientesSelecionados=t),p(t)}),v(7,gt,9,1,"ng-template",16)(8,Ct,19,1,"ng-template",17)(9,vt,32,11,"ng-template",18),o()(),n(10,"button",19),d("click",function(){m(e);let t=l();return p(t.novo())}),o(),W()}if(a&2){let e=l();c(5),_("value",e.listaClientes)("columns",e.cols)("rows",10)("globalFilterFields",w(10,rt))("rows",10)("paginator",!0)("rowsPerPageOptions",w(11,lt))("showCurrentPageReport",!0),k("selection",e.listaClientesSelecionados),_("rowHover",!0)}}function bt(a,C){if(a&1){let e=x();n(0,"button",61),d("click",function(){m(e);let t=l();return p(t.dialogoExcluir=!1)}),o(),n(1,"button",62),d("click",function(){m(e);let t=l();return p(t.excluir())}),o()}}function St(a,C){a&1&&(n(0,"small",88),s(1,"Nome \xE9 obrigat\xF3rio e deve possuir 3 caracteres no m\xEDnimo."),o())}function wt(a,C){if(a&1){let e=x();L(0),n(1,"div",63)(2,"form",64),d("ngSubmit",function(){m(e);let t=l();return p(t.salvarOuAlterar())}),n(3,"div",65)(4,"div",66),g(5,"input",67),n(6,"label",68),s(7,"Nome:"),o(),g(8,"input",69),v(9,St,2,0,"small",70),o(),n(10,"div",71)(11,"label",72),s(12,"Usu\xE1rio:"),o(),g(13,"input",73),o(),n(14,"div",71)(15,"label",74),s(16,"Email:"),o(),g(17,"input",75),o(),n(18,"div",71)(19,"label",76),s(20,"Telefone:"),o(),g(21,"p-inputMask",77),o(),n(22,"div",71)(23,"label",78),s(24,"Data Vencimento:"),o(),g(25,"p-calendar",79),o(),n(26,"div",71)(27,"label",80),s(28,"Servidor:"),o(),g(29,"p-dropdown",81),o(),n(30,"div",71)(31,"label",82),s(32,"Plano:"),o(),g(33,"p-dropdown",83),o(),n(34,"div",66)(35,"label",84),s(36,"Observa\xE7\xE3o:"),o(),g(37,"textarea",85),o(),n(38,"div",71)(39,"button",86),d("click",function(){m(e);let t=l();return p(t.dialogoCliente=!1)}),o()(),n(40,"div",71),g(41,"button",87),o()()()(),W()}if(a&2){let e,i,t=l();c(2),_("formGroup",t.cadastroForm),c(6),_("ngClass",K(10,st,((e=t.cadastroForm.get("nome"))==null?null:e.errors)&&!t.cadastroForm.get("nome"))),c(),_("ngIf",((i=t.cadastroForm.get("nome"))==null?null:i.errors)&&(((i=t.cadastroForm.get("nome"))==null?null:i.dirty)||((i=t.cadastroForm.get("nome"))==null?null:i.touched))),c(20),_("options",t.listaServidores)("showClear",!0),c(4),_("options",t.listaPlanos)("showClear",!0),c(4),_("rows",5)("cols",30),c(4),_("disabled",t.cadastroForm.invalid)}}function Vt(a,C){if(a&1){let e=x();n(0,"button",61),d("click",function(){m(e);let t=l();return p(t.dialogoDeleteVarios=!1)}),o(),n(1,"button",62),d("click",function(){m(e);let t=l();return p(t.excluirSelecionados())}),o()}}function Et(a,C){if(a&1){let e=x();n(0,"button",61),d("click",function(){m(e);let t=l();return p(t.dialogoRenovar=!1)}),o(),n(1,"button",62),d("click",function(){m(e);let t=l();return p(t.confirmarRenovar())}),o()}}function Tt(a,C){if(a&1){let e=x();n(0,"button",89),d("click",function(){m(e);let t=l();return p(t.dialogoPosRenovacao=!1)}),o(),n(1,"button",90),d("click",function(){m(e);let t=l();return p(t.enviarConfirmacaoRenovacao())}),o()}}var et=(()=>{class a{constructor(e,i,t,r,u,V,T,F){this.clienteService=e,this.planoService=i,this.servidorService=t,this.messageService=r,this.formBuilder=u,this.config=V,this.mensagemService=T,this.historicoRenovacaoService=F,this.cadastroForm=this.formBuilder.group({id:[""],nome:["",[S.required,S.minLength(3),S.maxLength(50),S.pattern(new RegExp("\\S"))]],usuario:["",[S.maxLength(20)]],email:["",[S.email,S.pattern(new RegExp("\\S")),S.maxLength(50)]],telefone:["",[S.pattern(new RegExp("\\S"))]],dataVencimento:["",[S.required]],observacao:["",[S.pattern(new RegExp("\\S"))]],servidor:[""],plano:[""]}),this.listaClientes=[],this.todosClientes=[],this.listaPlanos=[],this.listaServidores=[],this.listaClientesSelecionados=[],this.dialogoExcluir=!1,this.dialogoCliente=!1,this.dialogoDeleteVarios=!1,this.termoBusca="",this.cols=[],this.converterDateToTimeStamp=h=>{let f=h.dataVencimento;if(f&&f.seconds){let b=new Date(f.seconds*1e3);return h.dataVencimento=b,h}else return h},this.convertEFiltra=(h,f)=>{this.listaClientes=h.map(b=>this.converterDateToTimeStamp(b)).filter(b=>f?f(b):!0)},this.vencido=h=>{let f=new Date;return f.setHours(0,0,0,0),h.dataVencimento<f},this.naoVencido=h=>{let f=new Date;return f.setHours(0,0,0,0),h.dataVencimento>=f},this.venceEm3Dias=h=>{let f=new Date;f.setHours(0,0,0,0);let b=new Date;return b.setHours(0,0,0,0),b.setDate(b.getDate()+3),h.dataVencimento>=f&&h.dataVencimento<=b},this.dialogoRenovar=!1,this.dialogoPosRenovacao=!1,this.clienteRenovacao=null,this.novaDataVencimento=null,this.mensagemRenovacao=""}ngOnInit(){this.config.setTranslation({accept:"Aceitar",reject:"Cancelar",dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"],monthNames:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),this.cols=[{field:"id",header:"Id"},{field:"nome",header:"Nome"},{field:"usuario",header:"Usu\xE1rio"},{field:"email",header:"Email"},{field:"telefone",header:"Telefone"},{field:"observacao",header:"Observacao"}],this.filtroVencimento=this.venceEm3Dias,this.buscarClientes(),this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")}),this.servidorService.getAll().subscribe({next:e=>this.listaServidores=e,error:e=>console.error(e),complete:()=>console.info("complete")})}buscarClientesOrdenado(){this.clienteService.getAllOrderByVencimento().then(e=>{console.log(e.docs)})}buscarClientes(){this.clienteService.getAll().subscribe({next:e=>{this.todosClientes=e.map(i=>this.converterDateToTimeStamp(i)),this.aplicarFiltroAtual(),console.log("this.listaClientes: ",this.listaClientes)},error:e=>console.error(e),complete:()=>console.info("complete")})}aplicarFiltroAtual(){this.termoBusca&&this.termoBusca.trim()!==""?this.listaClientes=this.todosClientes.filter(e=>e.nome&&e.nome.toLowerCase().includes(this.termoBusca.toLowerCase())):this.listaClientes=this.todosClientes.filter(e=>this.filtroVencimento?this.filtroVencimento(e):!0)}buscarPorNome(e){this.termoBusca=e,this.aplicarFiltroAtual()}limparBusca(e){e.value="",this.termoBusca="",this.aplicarFiltroAtual()}getStatusCliente(e){let i=new Date;if(i.setHours(0,0,0,0),e<i)return"Vencido";if(e.getTime()===i.getTime())return"Vence Hoje";{let t=Math.ceil((e.getTime()-i.getTime())/864e5);return t<=3?`Vence em ${t} dia(s)`:"Ativo"}}getStatusClass(e){let i=new Date;return i.setHours(0,0,0,0),e<i?"status-vencido":e.getTime()===i.getTime()?"status-vence-hoje":Math.ceil((e.getTime()-i.getTime())/864e5)<=3?"status-vence-3dias":"status-ativo"}filtrarPorVence3Dias(){this.filtroVencimento=this.venceEm3Dias,this.termoBusca="",this.aplicarFiltroAtual()}filtrarPorVencidos(){this.filtroVencimento=this.vencido,this.termoBusca="",this.aplicarFiltroAtual()}filtrarPorNaoVencidos(){this.filtroVencimento=this.naoVencido,this.termoBusca="",this.aplicarFiltroAtual()}mostrarTodos(){this.filtroVencimento=null,this.termoBusca="",this.aplicarFiltroAtual()}salvarOuAlterar(){this.cadastroForm.valid&&(console.log(this.cadastroForm.value),console.log(this.cadastroForm.value.nome)),this.cadastroForm.value.id?this.alterar():this.salvar()}salvar(){this.clienteService.create(this.cadastroForm.value).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Cliente Criado!",life:3e3}),this.buscarClientes()}).catch(e=>console.log("error: ",e))}abrirDialogAlterar(e){let i=e.dataVencimento;if(i&&i.seconds){let t=new Date(i.seconds*1e3);e.dataVencimento=t}this.cadastroForm.patchValue(e),this.dialogoCliente=!0}abrirDialogDeletarVarios(){this.dialogoDeleteVarios=!0}alterar(){console.log("alterar: ",this.cadastroForm.value),this.clienteService.update(this.cadastroForm.value).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Alterado!",life:3e3}),this.buscarClientes()})}abrirDialogExcluir(e){this.cadastroForm.patchValue(e),this.dialogoExcluir=!0}excluir(){this.clienteService.delete(this.cadastroForm.value.id||"").then(()=>{console.info("complete"),this.dialogoExcluir=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Exclu\xEDdo",life:3e3}),this.buscarClientes()})}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}novo(){this.dialogoCliente=!0,this.cadastroForm.reset()}excluirSelecionados(){this.listaClientesSelecionados&&this.listaClientesSelecionados.forEach(e=>{this.clienteService.delete(e.id||"")}),this.dialogoDeleteVarios=!1,console.log(this.listaClientesSelecionados)}exportExcel(){import("./chunk-G3CI4VX2.js").then(e=>{let t={Sheets:{data:e.utils.json_to_sheet(this.listaClientes)},SheetNames:["data"]},r=e.write(t,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(r,"products")})}saveAsExcelFile(e,i){let t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",r=".xlsx",u=new Blob([e],{type:t});Ze.saveAs(u,i+"_export_"+new Date().getTime()+r)}abrirWhatsApp(e){return j(this,null,function*(){let i=e.telefone?String(e.telefone):"",t=e.plano&&e.plano.nome||"",r=e.plano&&e.plano.valor||"",u=e.usuario?e.usuario:"",V=e.dataVencimento.toLocaleDateString("pt-BR"),T=new Date().getHours(),F=T>6&&T<12?"bom dia!":T>=12&&T<18?"boa tarde!":"boa noite!",h=yield this.mensagemService.getAtiva(),f;h&&h.corpo?f=h.corpo.replace(/\{\{saudacao\}\}/g,F).replace(/\{\{nome\}\}/g,e.nome||"").replace(/\{\{telefone\}\}/g,i).replace(/\{\{usuario\}\}/g,u).replace(/\{\{dataVencimento\}\}/g,V).replace(/\{\{plano\.nome\}\}/g,t).replace(/\{\{plano\.valor\}\}/g,String(r)):f=`Ol\xE1, ${F}
*Segue seu vencimento IPTV* 
*Vencimento:* _${V}_

*PLANO CONTRATADO* 
\u2B55 _Plano:_ *${t}* 
\u2B55 _Valor:_ *R$ ${r}* ${u?`
\u2B55 _Conta:_ *${u}*`:""}

*FORMAS DE PAGAMENTOS* 
\u2705 Pic Pay : @canutobr
\u2705 Banco do Brasil: ag 3020-1 cc 45746-9
\u2705 Pix: canutopixbb@gmail.com 

- Dura\xE7\xE3o da lista 30 dias, acesso de um ponto, n\xE3o permite conex\xF5es simult\xE2neas. 

- Assim que efetuar o pagamento, enviar o comprovante e vou efetuar a contrata\xE7\xE3o/renova\xE7\xE3o o mais r\xE1pido poss\xEDvel.

-*Aguardamos seu contato para renova\xE7\xE3o!*`;let b=`https://web.whatsapp.com/send?phone=${i}&text=${encodeURIComponent(f)}`;window.open(b,"_blank")})}abrirDialogRenovar(e){this.clienteRenovacao=O({},e);let i=e.dataVencimento,t,r=i&&i.seconds?new Date(i.seconds*1e3):new Date(e.dataVencimento),u=new Date;u.setHours(0,0,0,0),r.setHours(0,0,0,0),r<u?t=u:t=r;let V=new Date(t),T=t.getDate();V.setMonth(V.getMonth()+1),V.getDate()!==T&&V.setDate(0),this.novaDataVencimento=V,this.dialogoRenovar=!0}confirmarRenovar(){return j(this,null,function*(){if(!this.clienteRenovacao||!this.novaDataVencimento)return;let e=q(O({},this.clienteRenovacao),{dataVencimento:this.novaDataVencimento});yield this.clienteService.update(e);let i={cliente:this.clienteRenovacao,plano:this.clienteRenovacao.plano||{id:"",nome:"",valor:0},servidor:this.clienteRenovacao.servidor||{id:"",nome:"",valorCredito:0},dataHoraRenovacao:new Date,dataNovoVencimento:this.novaDataVencimento};yield this.historicoRenovacaoService.create(i),this.dialogoRenovar=!1;let t=this.novaDataVencimento.toLocaleDateString("pt-BR");this.mensagemRenovacao=`Conta renovada com sucesso. Novo vencimento: ${t}`,this.dialogoPosRenovacao=!0,this.buscarClientes()})}enviarConfirmacaoRenovacao(){if(!this.clienteRenovacao)return;let i=`https://web.whatsapp.com/send?phone=${this.clienteRenovacao.telefone?String(this.clienteRenovacao.telefone):""}&text=${encodeURIComponent(this.mensagemRenovacao)}`;window.open(i,"_blank"),this.dialogoPosRenovacao=!1}clonar(e){e.id="",e.nome+=" - 2",this.clienteService.create(e).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Cliente Criado!",life:3e3}),this.buscarClientes()}).catch(i=>console.log("error: ",i))}static{this.\u0275fac=function(i){return new(i||a)(E(he),E(xe),E(ve),E(A),E(ue),E(te),E(Ye),E(Ke))}}static{this.\u0275cmp=G({type:a,selectors:[["app-cliente"]],standalone:!1,features:[Y([A])],decls:38,vars:37,consts:[["dt",""],["campoBusca",""],[1,"grid"],[1,"col-12"],[4,"ngIf"],["header","Confirmar",3,"visibleChange","visible","modal","breakpoints"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["header","Confirmar Renova\xE7\xE3o",3,"visibleChange","visible","modal","breakpoints"],["header","Renova\xE7\xE3o Conclu\xEDda",3,"visibleChange","visible","modal","breakpoints"],[1,"card","px-6","py-6","fade-in","list-card"],["styleClass","mb-4 clientes-toolbar"],["pTemplate","left"],["pTemplate","right"],["sortField","dataVencimento","styleClass","p-datatable-striped clientes-table","responsiveLayout","stack","currentPageReportTemplate","Mostrando {first} at\xE9 {last} de {totalRecords} registros","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-rounded","p-button-success","fab",3,"click"],[1,"p-toolbar-group-left","flex","flex-wrap","gap-2","w-full"],["pButton","","pRipple","","label","3 dias!","icon","pi pi-exclamation-triangle",1,"p-button-danger",3,"click"],["pButton","","pRipple","","label","Excluir","icon","pi pi-trash","class","p-button-danger",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","label","Excluir","icon","pi pi-trash",1,"p-button-danger",3,"click","disabled"],[1,"p-toolbar-group-right","flex","flex-wrap","gap-2","w-full","md:w-auto","justify-content-end","mt-2","md:mt-0"],["pButton","","pRipple","","label","Ativos","icon","pi pi-users",1,"p-button-success",3,"click"],["pButton","","pRipple","","label","Vencidos!","icon","pi pi-history",1,"p-button-warning",3,"click"],["pButton","","pRipple","","label","TODOS","icon","pi pi-list",3,"click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar","class","inline-block",3,"maxFileSize",4,"ngIf"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload","class","p-button-help",3,"click",4,"ngIf"],["pButton","","pRipple","","label","Exportar","icon","pi pi-file-excel","class","p-button-help",3,"click",4,"ngIf"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar",1,"inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help",3,"click"],["pButton","","pRipple","","label","Exportar","icon","pi pi-file-excel",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"pi","pi-users","mr-2"],[1,"block","mt-2","md:mt-0","p-input-icon-left",2,"width","25%"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Procurar em todos os clientes...",1,"w-full",2,"padding-right","2.5rem",3,"input"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-text","p-button-rounded",2,"position","absolute","right","0.5rem","top","50%","transform","translateY(-50%)",3,"click","disabled"],["style","width: 3rem",4,"ngIf"],["pSortableColumn","dataVencimento"],["field","dataVencimento"],["pSortableColumn","nome"],["field","nome"],["pSortableColumn","plano.nome"],["field","plano.nome"],["pSortableColumn","servidor.nome"],["field","servidor.nome"],[2,"width","3rem"],[3,"click"],[1,"p-column-title"],[1,"nome-usuario",3,"click"],[1,"flex","flex-wrap"],["pButton","","pRipple","","icon","pi pi-whatsapp","pTooltip","Enviar mensagem no WhatsApp","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"click"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-calendar-plus","pTooltip","Renovar por 30 dias","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash","pTooltip","Excluir cliente","tooltipPosition","top",1,"p-button-rounded","p-button-warning","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-clone","pTooltip","Clonar cliente","tooltipPosition","top",1,"p-button-rounded",3,"click"],[3,"value"],["pButton","","pRipple","","icon","pi pi-times","label","N\xE3o",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"],[1,"card","px-6","py-6","fade-in"],[3,"ngSubmit","formGroup"],[1,"p-fluid","grid"],[1,"field","col-12"],["formControlName","id","type","hidden","pInputText","","id","id"],["for","name"],["formControlName","nome","type","text","pInputText","","id","name","required","","autofocus","",3,"ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field","col-6"],["for","usuario"],["formControlName","usuario","type","text","pInputText","","id","usuario","autofocus","","maxlength","20"],["for","email"],["formControlName","email","type","text","pInputText","","id","email","autofocus","","maxlength","50"],["for","telefone"],["mask","(55) 99-999999999","formControlName","telefone"],["for","dataVencimento"],["id","dataVencimento","formControlName","dataVencimento","dateFormat","dd/mm/yy"],["for","servidor"],["id","servidor","formControlName","servidor","placeholder","Selecione um servidor","optionLabel","nome","dataKey","id",3,"options","showClear"],["for","plano"],["id","plano","formControlName","plano","placeholder","Selecione um plano","optionLabel","nome","dataKey","id",3,"options","showClear"],["for","observacao"],["formControlName","observacao","pInputTextarea","","autofocus","","maxlength","500",3,"rows","cols"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-danger",3,"click"],["pButton","","pRipple","","label","Salvar","icon","pi pi-check","type","submit",1,"p-button-success",3,"disabled"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-send","label","Enviar confirma\xE7\xE3o",1,"p-button-success",3,"click"]],template:function(i,t){i&1&&(n(0,"div",2),g(1,"p-toast"),n(2,"div",3),v(3,xt,11,12,"ng-container",4),n(4,"p-dialog",5),D("visibleChange",function(u){return R(t.dialogoExcluir,u)||(t.dialogoExcluir=u),u}),n(5,"div",6),g(6,"i",7),n(7,"span"),s(8,"Tem certeza que voc\xEA deseja excluir "),n(9,"b"),s(10),o(),s(11,"?"),o()(),v(12,bt,2,0,"ng-template",8),o(),v(13,wt,42,12,"ng-container",4),n(14,"p-dialog",5),D("visibleChange",function(u){return R(t.dialogoDeleteVarios,u)||(t.dialogoDeleteVarios=u),u}),n(15,"div",6),g(16,"i",7),n(17,"span"),s(18,"Tem certeza que quer deletar todos os selecionados?"),o()(),v(19,Vt,2,0,"ng-template",8),o(),n(20,"p-dialog",9),D("visibleChange",function(u){return R(t.dialogoRenovar,u)||(t.dialogoRenovar=u),u}),n(21,"div",6),g(22,"i",7),n(23,"span"),s(24,"Tem certeza que deseja renovar "),n(25,"b"),s(26),o(),s(27," por mais 30 dias?"),g(28,"br"),s(29," Novo vencimento: "),n(30,"b"),s(31),z(32,"date"),o()()(),v(33,Et,2,0,"ng-template",8),o(),n(34,"p-dialog",10),D("visibleChange",function(u){return R(t.dialogoPosRenovacao,u)||(t.dialogoPosRenovacao=u),u}),n(35,"div"),s(36),o(),v(37,Tt,2,0,"ng-template",8),o()()()),i&2&&(c(3),_("ngIf",!t.dialogoCliente),c(),M(w(29,Xe)),k("visible",t.dialogoExcluir),_("modal",!0)("breakpoints",w(30,N)),c(6),B(t.cadastroForm.value.nome),c(3),_("ngIf",t.dialogoCliente),c(),M(w(31,Xe)),k("visible",t.dialogoDeleteVarios),_("modal",!0)("breakpoints",w(32,N)),c(6),M(w(33,ot)),k("visible",t.dialogoRenovar),_("modal",!0)("breakpoints",w(34,N)),c(6),B(t.clienteRenovacao==null?null:t.clienteRenovacao.nome),c(5),B($(32,26,t.novaDataVencimento,"dd/MM/yyyy")),c(3),M(w(35,at)),k("visible",t.dialogoPosRenovacao),_("modal",!0)("breakpoints",w(36,N)),c(2),y(" ",t.mensagemRenovacao," "))},dependencies:[X,Q,se,ae,re,le,pe,de,ce,me,De,ie,Me,Fe,Pe,Ie,Oe,fe,ne,Ue,Ge,ye,He,Ee,Ae,Le,we,be,Z],styles:[".fab[_ngcontent-%COMP%]{position:fixed!important;z-index:1030!important;right:2rem!important;bottom:2rem!important;width:56px!important;height:56px!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.fab[_ngcontent-%COMP%]:hover{transform:scale(1.1) translateY(-2px)!important;box-shadow:0 8px 16px #0000004d!important}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.list-card[_ngcontent-%COMP%]{position:relative;padding-bottom:100px}@media (max-width: 768px){.fab[_ngcontent-%COMP%]{width:48px!important;height:48px!important;right:1rem!important;bottom:1rem!important;bottom:calc(1rem + env(safe-area-inset-bottom,0px))!important}.fab[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.1rem!important}.list-card[_ngcontent-%COMP%]{padding-bottom:80px}}[_nghost-%COMP%]{position:relative;min-height:100vh}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:1rem;font-size:.75rem;font-weight:600;text-align:center;white-space:nowrap}.status-ativo[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}.status-vencido[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}.status-vence-hoje[_ngcontent-%COMP%], .status-vence-3dias[_ngcontent-%COMP%]{background-color:#f59e0b;color:#fff}"]})}}return a})();var tt=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=I({type:a})}static{this.\u0275inj=P({imports:[U.forChild([{path:"",component:et}]),U]})}}return a})();var Si=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=I({type:a})}static{this.\u0275inj=P({imports:[ee,tt,_e,Be,je,Ce,oe,qe,Je,$e,ke,ze,Te,ge,Re,Ne,We,Ve,Se]})}}return a})();export{Si as ClienteModule};
