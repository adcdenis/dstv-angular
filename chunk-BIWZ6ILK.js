import{a as Be,b as Ae}from"./chunk-XGHZ3YK2.js";import{a as Xe}from"./chunk-ZG7MC6PH.js";import{a as $e}from"./chunk-TYJRV2V5.js";import{a as ge}from"./chunk-AW5DFX2W.js";import{a as fe}from"./chunk-ULMLR6ZN.js";import{b as je}from"./chunk-ERPGQRCJ.js";import{a as Pe,b as Fe}from"./chunk-YOAYV4RA.js";import"./chunk-2JY635KS.js";import{b as He}from"./chunk-6BD7PSS4.js";import{b as Ie}from"./chunk-5WWM3MYI.js";import"./chunk-WSDER2HD.js";import"./chunk-T6OX34SV.js";import{b as pe}from"./chunk-UDPXU5AZ.js";import{a as _e}from"./chunk-77VZTUG6.js";import{a as ze}from"./chunk-WRKS3KBU.js";import{a as We,b as Le}from"./chunk-DTX2IFH6.js";import{a as Ne,b as Oe}from"./chunk-MRQLE57Y.js";import"./chunk-3CQIXJFX.js";import"./chunk-4JDA26ZU.js";import{a as ye,d as Te,e as ke,h as Me,i as Re,k as De}from"./chunk-C3W5HSCK.js";import"./chunk-5CO6IPWY.js";import{a as Ce,b as be}from"./chunk-UNGKZQU4.js";import"./chunk-4RURM2DY.js";import{c as Ee}from"./chunk-UHPR5IVD.js";import"./chunk-T2PIK6R3.js";import"./chunk-7SPUUUGD.js";import"./chunk-SFTIWTHH.js";import{h as xe,i as Se}from"./chunk-VPFJ3TVV.js";import"./chunk-NJPLBFLS.js";import{a as ve,b as he}from"./chunk-MDZH7E7N.js";import"./chunk-V6X5IB37.js";import"./chunk-V5XYQFDX.js";import"./chunk-3GJN2BSD.js";import"./chunk-UW4E5NSV.js";import"./chunk-6LXUGSQP.js";import{a as we,b as Ve}from"./chunk-RD2ZW53S.js";import"./chunk-UAXJ67OE.js";import{b as ne,c as S,e as oe,f as re,h as ae,i as le,j as se,l as ce,n as me}from"./chunk-ENZ5W56S.js";import"./chunk-S35HUXPS.js";import{b as de,d as ue}from"./chunk-4B2QLF32.js";import{k as N,m as Z,p as ee,s as te,t as ie}from"./chunk-BFP4OEA6.js";import{$a as L,Aa as m,Bb as Q,F as I,Ja as J,Ka as l,L as p,La as A,M as d,Ma as T,Oa as k,Pa as M,Qa as R,Ra as Y,Sa as h,Tb as z,Y as c,Z as V,bb as H,da as G,ea as B,ja as x,ma as g,pa as D,qa as P,sa as i,ta as o,tb as K,ua as _,va as q,wa as U,ya as E,yb as X,za as u}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{a as j,b as $,f as Ke,h as W}from"./chunk-MG3ERZGY.js";var Ue=Ke(Xe());var Ge=()=>({width:"450px"}),O=()=>({"960px":"50vw","640px":"90vw"}),Qe=()=>({width:"600px"}),Ze=()=>({"960px":"75vw","640px":"100vw"}),et=()=>({width:"480px"}),tt=()=>({width:"520px"}),it=()=>["valor","nome","id","plano.nome","servidor.nome"],nt=()=>[10,20,50];function ot(a,C){if(a&1){let e=E();i(0,"button",54),u("click",function(){p(e),m();let t=J(16),r=m();return d(r.limparBusca(t))}),o()}}function rt(a,C){a&1&&(i(0,"th",64),_(1,"p-tableHeaderCheckbox"),o())}function at(a,C){a&1&&(i(0,"tr"),x(1,rt,2,0,"th",55),i(2,"th",56),l(3,"Vencimento "),_(4,"p-sortIcon",57),o(),i(5,"th",58),l(6,"Nome "),_(7,"p-sortIcon",59),o(),i(8,"th"),l(9,"Status"),o(),i(10,"th"),l(11,"Alerta "),o(),i(12,"th",60),l(13,"Plano "),_(14,"p-sortIcon",61),o(),i(15,"th",62),l(16,"Servidor "),_(17,"p-sortIcon",63),o(),_(18,"th"),o()),a&2&&(c(),g("ngIf",!1))}function lt(a,C){if(a&1&&(i(0,"td"),_(1,"p-tableCheckbox",74),o()),a&2){let e=m().$implicit;c(),g("value",e)}}function st(a,C){if(a&1){let e=E();i(0,"tr"),x(1,lt,2,1,"td",4),i(2,"td",65),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.abrirDialogAlterar(t))}),i(3,"span",66),l(4,"Vencimento"),o(),l(5),L(6,"date"),o(),i(7,"td",67),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.abrirDialogAlterar(t))}),i(8,"span",66),l(9,"Nome"),o(),l(10),o(),i(11,"td",65),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.abrirDialogAlterar(t))}),i(12,"span",66),l(13,"Status"),o(),i(14,"span"),l(15),o()(),i(16,"td")(17,"div",68)(18,"button",69),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.abrirWhatsApp(t))}),o()()(),i(19,"td",65),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.abrirDialogAlterar(t))}),i(20,"span",66),l(21,"Plano"),o(),l(22),o(),i(23,"td",65),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.abrirDialogAlterar(t))}),i(24,"span",66),l(25,"Servidor"),o(),l(26),o(),i(27,"td")(28,"div",70)(29,"button",71),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.abrirDialogRenovar(t))}),o(),i(30,"button",72),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.abrirDialogExcluir(t))}),o(),i(31,"button",73),u("click",function(){let t=p(e).$implicit,r=m(2);return d(r.clonar(t))}),o()()()()}if(a&2){let e=C.$implicit,n=m(2);c(),g("ngIf",!1),c(4),T(" ",H(6,8,e.dataVencimento,"dd/MM/yyyy")," "),c(5),T(" ",e.nome," "),c(4),P("status-badge "+n.getStatusClass(e.dataVencimento)),c(),T(" ",n.getStatusCliente(e.dataVencimento)," "),c(7),T(" ",e.plano.nome," "),c(4),T(" ",e.servidor.nome," ")}}function ct(a,C){if(a&1){let e=E();q(0),i(1,"div",35)(2,"div",36)(3,"div",37),_(4,"i",38),i(5,"h1",39),l(6,"Gerenciar Clientes"),o()(),i(7,"div",40)(8,"button",41),u("click",function(){p(e);let t=m();return d(t.filtrarPorNaoVencidos())}),o(),i(9,"button",42),u("click",function(){p(e);let t=m();return d(t.filtrarPorVence3Dias())}),o(),i(10,"button",43),u("click",function(){p(e);let t=m();return d(t.filtrarPorVencidos())}),o(),i(11,"button",44),u("click",function(){p(e);let t=m();return d(t.mostrarTodos())}),o()()(),i(12,"div",45)(13,"span",46),_(14,"i",47),i(15,"input",48,0),u("input",function(t){p(e);let r=m();return d(r.buscarPorNome(t.target.value))}),o(),x(17,ot,1,0,"button",49),o()(),i(18,"p-table",50,1),R("selectionChange",function(t){p(e);let r=m();return M(r.listaClientesSelecionados,t)||(r.listaClientesSelecionados=t),d(t)}),x(20,at,19,1,"ng-template",51)(21,st,32,11,"ng-template",52),o()(),i(22,"button",53),u("click",function(){p(e);let t=m();return d(t.novo())}),o(),U()}if(a&2){let e=m();c(8),P(e.filtroSelecionado==="ativos"?"p-button-success border-round-xl":"p-button-outlined p-button-success border-round-xl"),c(),P(e.filtroSelecionado==="3dias"?"p-button-warning border-round-xl":"p-button-outlined p-button-warning border-round-xl"),c(),P(e.filtroSelecionado==="vencidos"?"p-button-danger border-round-xl":"p-button-outlined p-button-danger border-round-xl"),c(),P(e.filtroSelecionado==="todos"?"p-button-secondary border-round-xl":"p-button-outlined p-button-secondary border-round-xl"),c(6),g("ngIf",e.termoBusca),c(),g("value",e.listaClientes)("columns",e.cols)("rows",10)("globalFilterFields",h(18,it))("paginator",!0)("rowsPerPageOptions",h(19,nt))("showCurrentPageReport",!0),k("selection",e.listaClientesSelecionados),g("rowHover",!0)}}function mt(a,C){if(a&1){let e=E();i(0,"button",75),u("click",function(){p(e);let t=m();return d(t.dialogoExcluir=!1)}),o(),i(1,"button",76),u("click",function(){p(e);let t=m();return d(t.excluir())}),o()}}function pt(a,C){a&1&&(i(0,"small",77),l(1," Nome \xE9 obrigat\xF3rio (m\xEDn. 3 caracteres). "),o())}function dt(a,C){if(a&1){let e=E();i(0,"button",78),u("click",function(){p(e);let t=m();return d(t.dialogoCliente=!1)}),o(),i(1,"button",79),u("click",function(){p(e);let t=m();return d(t.salvarOuAlterar())}),o()}if(a&2){let e=m();c(),g("disabled",e.cadastroForm.invalid)}}function ut(a,C){if(a&1){let e=E();i(0,"button",75),u("click",function(){p(e);let t=m();return d(t.dialogoDeleteVarios=!1)}),o(),i(1,"button",76),u("click",function(){p(e);let t=m();return d(t.excluirSelecionados())}),o()}}function _t(a,C){if(a&1){let e=E();i(0,"button",75),u("click",function(){p(e);let t=m();return d(t.dialogoRenovar=!1)}),o(),i(1,"button",76),u("click",function(){p(e);let t=m();return d(t.confirmarRenovar())}),o()}}function gt(a,C){if(a&1){let e=E();i(0,"button",80),u("click",function(){p(e);let t=m();return d(t.dialogoPosRenovacao=!1)}),o(),i(1,"button",81),u("click",function(){p(e);let t=m();return d(t.enviarConfirmacaoRenovacao())}),o()}}var Je=(()=>{class a{constructor(e,n,t,r,s,w,y,F){this.clienteService=e,this.planoService=n,this.servidorService=t,this.messageService=r,this.formBuilder=s,this.config=w,this.mensagemService=y,this.historicoRenovacaoService=F,this.cadastroForm=this.formBuilder.group({id:[""],nome:["",[S.required,S.minLength(3),S.maxLength(50),S.pattern(new RegExp("\\S"))]],usuario:["",[S.maxLength(20)]],email:["",[S.email,S.pattern(new RegExp("\\S")),S.maxLength(50)]],telefone:["",[S.pattern(new RegExp("\\S"))]],dataVencimento:["",[S.required]],observacao:["",[S.pattern(new RegExp("\\S"))]],servidor:[""],plano:[""]}),this.listaClientes=[],this.todosClientes=[],this.listaPlanos=[],this.listaServidores=[],this.listaClientesSelecionados=[],this.dialogoExcluir=!1,this.dialogoCliente=!1,this.dialogoDeleteVarios=!1,this.filtroSelecionado="3dias",this.termoBusca="",this.cols=[],this.converterDateToTimeStamp=v=>{let f=v.dataVencimento;if(f&&f.seconds){let b=new Date(f.seconds*1e3);return v.dataVencimento=b,v}else return v},this.convertEFiltra=(v,f)=>{this.listaClientes=v.map(b=>this.converterDateToTimeStamp(b)).filter(b=>f?f(b):!0)},this.vencido=v=>{let f=new Date;return f.setHours(0,0,0,0),v.dataVencimento<f},this.naoVencido=v=>{let f=new Date;return f.setHours(0,0,0,0),v.dataVencimento>=f},this.venceEm3Dias=v=>{let f=new Date;f.setHours(0,0,0,0);let b=new Date;return b.setHours(0,0,0,0),b.setDate(b.getDate()+3),v.dataVencimento>=f&&v.dataVencimento<=b},this.dialogoRenovar=!1,this.dialogoPosRenovacao=!1,this.clienteRenovacao=null,this.novaDataVencimento=null,this.mensagemRenovacao=""}ngOnInit(){this.config.setTranslation({accept:"Aceitar",reject:"Cancelar",dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"],monthNames:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),this.cols=[{field:"id",header:"Id"},{field:"nome",header:"Nome"},{field:"usuario",header:"Usu\xE1rio"},{field:"email",header:"Email"},{field:"telefone",header:"Telefone"},{field:"observacao",header:"Observacao"}],this.filtroVencimento=this.venceEm3Dias,this.buscarClientes(),this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")}),this.servidorService.getAll().subscribe({next:e=>this.listaServidores=e,error:e=>console.error(e),complete:()=>console.info("complete")})}buscarClientesOrdenado(){this.clienteService.getAllOrderByVencimento().then(e=>{console.log(e.docs)})}buscarClientes(){this.clienteService.getAll().subscribe({next:e=>{this.todosClientes=e.map(n=>this.converterDateToTimeStamp(n)),this.aplicarFiltroAtual(),console.log("this.listaClientes: ",this.listaClientes)},error:e=>console.error(e),complete:()=>console.info("complete")})}aplicarFiltroAtual(){this.termoBusca&&this.termoBusca.trim()!==""?this.listaClientes=this.todosClientes.filter(e=>e.nome&&e.nome.toLowerCase().includes(this.termoBusca.toLowerCase())):this.listaClientes=this.todosClientes.filter(e=>this.filtroVencimento?this.filtroVencimento(e):!0)}buscarPorNome(e){this.termoBusca=e,this.aplicarFiltroAtual()}limparBusca(e){e.value="",this.termoBusca="",this.aplicarFiltroAtual()}getStatusCliente(e){let n=new Date;if(n.setHours(0,0,0,0),e<n)return"Vencido";if(e.getTime()===n.getTime())return"Vence Hoje";{let t=Math.ceil((e.getTime()-n.getTime())/864e5);return t<=3?`Vence em ${t} dia(s)`:"Ativo"}}getStatusClass(e){let n=new Date;return n.setHours(0,0,0,0),e<n?"status-vencido":e.getTime()===n.getTime()?"status-vence-hoje":Math.ceil((e.getTime()-n.getTime())/864e5)<=3?"status-vence-3dias":"status-ativo"}filtrarPorVence3Dias(){this.filtroVencimento=this.venceEm3Dias,this.filtroSelecionado="3dias",this.termoBusca="",this.aplicarFiltroAtual()}filtrarPorVencidos(){this.filtroVencimento=this.vencido,this.filtroSelecionado="vencidos",this.termoBusca="",this.aplicarFiltroAtual()}filtrarPorNaoVencidos(){this.filtroVencimento=this.naoVencido,this.filtroSelecionado="ativos",this.termoBusca="",this.aplicarFiltroAtual()}mostrarTodos(){this.filtroVencimento=null,this.filtroSelecionado="todos",this.termoBusca="",this.aplicarFiltroAtual()}salvarOuAlterar(){this.cadastroForm.valid&&(console.log(this.cadastroForm.value),console.log(this.cadastroForm.value.nome)),this.cadastroForm.value.id?this.alterar():this.salvar()}salvar(){this.clienteService.create(this.cadastroForm.value).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Cliente Criado!",life:3e3}),this.buscarClientes()}).catch(e=>console.log("error: ",e))}abrirDialogAlterar(e){let n=e.dataVencimento;if(n&&n.seconds){let t=new Date(n.seconds*1e3);e.dataVencimento=t}this.cadastroForm.patchValue(e),this.dialogoCliente=!0}abrirDialogDeletarVarios(){this.dialogoDeleteVarios=!0}alterar(){console.log("alterar: ",this.cadastroForm.value),this.clienteService.update(this.cadastroForm.value).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Alterado!",life:3e3}),this.buscarClientes()})}abrirDialogExcluir(e){this.cadastroForm.patchValue(e),this.dialogoExcluir=!0}excluir(){this.clienteService.delete(this.cadastroForm.value.id||"").then(()=>{console.info("complete"),this.dialogoExcluir=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Exclu\xEDdo",life:3e3}),this.buscarClientes()})}onGlobalFilter(e,n){e.filterGlobal(n.target.value,"contains")}novo(){this.dialogoCliente=!0,this.cadastroForm.reset()}excluirSelecionados(){this.listaClientesSelecionados&&this.listaClientesSelecionados.forEach(e=>{this.clienteService.delete(e.id||"")}),this.dialogoDeleteVarios=!1,console.log(this.listaClientesSelecionados)}exportExcel(){import("./chunk-G3CI4VX2.js").then(e=>{let t={Sheets:{data:e.utils.json_to_sheet(this.listaClientes)},SheetNames:["data"]},r=e.write(t,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(r,"products")})}saveAsExcelFile(e,n){let t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",r=".xlsx",s=new Blob([e],{type:t});Ue.saveAs(s,n+"_export_"+new Date().getTime()+r)}abrirWhatsApp(e){return W(this,null,function*(){let n=e.telefone?String(e.telefone):"",t=e.plano&&e.plano.nome||"",r=e.plano&&e.plano.valor||"",s=e.usuario?e.usuario:"",w=e.dataVencimento.toLocaleDateString("pt-BR"),y=new Date().getHours(),F=y>6&&y<12?"bom dia!":y>=12&&y<18?"boa tarde!":"boa noite!",v=yield this.mensagemService.getAtiva(),f;v&&v.corpo?f=v.corpo.replace(/\{\{saudacao\}\}/g,F).replace(/\{\{nome\}\}/g,e.nome||"").replace(/\{\{telefone\}\}/g,n).replace(/\{\{usuario\}\}/g,s).replace(/\{\{dataVencimento\}\}/g,w).replace(/\{\{plano\.nome\}\}/g,t).replace(/\{\{plano\.valor\}\}/g,String(r)):f=`Ol\xE1, ${F}
*Segue seu vencimento IPTV* 
*Vencimento:* _${w}_

*PLANO CONTRATADO* 
\u2B55 _Plano:_ *${t}* 
\u2B55 _Valor:_ *R$ ${r}* ${s?`
\u2B55 _Conta:_ *${s}*`:""}

*FORMAS DE PAGAMENTOS* 
\u2705 Pic Pay : @canutobr
\u2705 Banco do Brasil: ag 3020-1 cc 45746-9
\u2705 Pix: canutopixbb@gmail.com 

- Dura\xE7\xE3o da lista 30 dias, acesso de um ponto, n\xE3o permite conex\xF5es simult\xE2neas. 

- Assim que efetuar o pagamento, enviar o comprovante e vou efetuar a contrata\xE7\xE3o/renova\xE7\xE3o o mais r\xE1pido poss\xEDvel.

-*Aguardamos seu contato para renova\xE7\xE3o!*`;let b=`https://web.whatsapp.com/send?phone=${n}&text=${encodeURIComponent(f)}`;window.open(b,"_blank")})}abrirDialogRenovar(e){this.clienteRenovacao=j({},e);let n=e.dataVencimento,t,r=n&&n.seconds?new Date(n.seconds*1e3):new Date(e.dataVencimento),s=new Date;s.setHours(0,0,0,0),r.setHours(0,0,0,0),r<s?t=s:t=r;let w=new Date(t),y=t.getDate();w.setMonth(w.getMonth()+1),w.getDate()!==y&&w.setDate(0),this.novaDataVencimento=w,this.dialogoRenovar=!0}confirmarRenovar(){return W(this,null,function*(){if(!this.clienteRenovacao||!this.novaDataVencimento)return;let e=$(j({},this.clienteRenovacao),{dataVencimento:this.novaDataVencimento});yield this.clienteService.update(e);let n={cliente:this.clienteRenovacao,plano:this.clienteRenovacao.plano||{id:"",nome:"",valor:0},servidor:this.clienteRenovacao.servidor||{id:"",nome:"",valorCredito:0},dataHoraRenovacao:new Date,dataNovoVencimento:this.novaDataVencimento};yield this.historicoRenovacaoService.create(n),this.dialogoRenovar=!1;let t=this.novaDataVencimento.toLocaleDateString("pt-BR");this.mensagemRenovacao=`Conta renovada com sucesso. Novo vencimento: ${t}`,this.dialogoPosRenovacao=!0,this.buscarClientes()})}enviarConfirmacaoRenovacao(){if(!this.clienteRenovacao)return;let n=`https://web.whatsapp.com/send?phone=${this.clienteRenovacao.telefone?String(this.clienteRenovacao.telefone):""}&text=${encodeURIComponent(this.mensagemRenovacao)}`;window.open(n,"_blank"),this.dialogoPosRenovacao=!1}clonar(e){e.id="",e.nome+=" - 2",this.clienteService.create(e).then(()=>{this.dialogoCliente=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Cliente Criado!",life:3e3}),this.buscarClientes()}).catch(n=>console.log("error: ",n))}static{this.\u0275fac=function(n){return new(n||a)(V(_e),V(fe),V(ge),V(N),V(ce),V(Z),V(ze),V($e))}}static{this.\u0275cmp=G({type:a,selectors:[["app-cliente"]],standalone:!1,features:[Y([N])],decls:78,vars:52,consts:[["campoBusca",""],["dt",""],[1,"grid"],[1,"col-12"],[4,"ngIf"],["header","Confirmar",3,"visibleChange","visible","modal","breakpoints"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],[1,"p-fluid",3,"visibleChange","visible","header","modal","breakpoints"],[1,"mt-2",3,"ngSubmit","formGroup"],[1,"field","col-12"],["for","name",1,"font-bold"],[1,"p-input-icon-left"],[1,"pi","pi-user"],["formControlName","nome","type","text","pInputText","","id","name","placeholder","Ex: Jo\xE3o Silva","autofocus",""],["class","p-error block",4,"ngIf"],[1,"field","col-12","md:col-6"],["for","usuario",1,"font-bold"],[1,"pi","pi-at"],["formControlName","usuario","type","text","pInputText","","id","usuario","placeholder","usuario123"],["for","telefone",1,"font-bold"],["mask","(55) 99-999999999","formControlName","telefone","placeholder","(55) 00-000000000"],["for","dataVencimento",1,"font-bold"],["id","dataVencimento","formControlName","dataVencimento","dateFormat","dd/mm/yy",3,"showIcon"],["for","servidor",1,"font-bold"],["id","servidor","formControlName","servidor","placeholder","Selecione","optionLabel","nome","dataKey","id",3,"options","showClear"],["for","plano",1,"font-bold"],["id","plano","formControlName","plano","placeholder","Selecione","optionLabel","nome","dataKey","id",3,"options","showClear"],["for","email",1,"font-bold"],["formControlName","email","type","email","pInputText","","id","email","placeholder","email@exemplo.com"],["for","observacao",1,"font-bold"],["formControlName","observacao","pInputTextarea","","placeholder","Informa\xE7\xF5es adicionais...",3,"rows"],["header","Confirmar Renova\xE7\xE3o",3,"visibleChange","visible","modal","breakpoints"],["header","Renova\xE7\xE3o Conclu\xEDda",3,"visibleChange","visible","modal","breakpoints"],[1,"card","px-6","py-6","fade-in","list-card"],[1,"flex","flex-column","md:flex-row","md:align-items-center","md:justify-content-between","mb-4","gap-3"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-users","text-primary","text-3xl"],[1,"text-2xl","font-bold","m-0","text-900"],[1,"flex","flex-wrap","gap-2"],["pButton","","pRipple","","label","Ativos","icon","pi pi-check-circle",3,"click"],["pButton","","pRipple","","label","3 dias!","icon","pi pi-clock",3,"click"],["pButton","","pRipple","","label","Vencidos","icon","pi pi-times-circle",3,"click"],["pButton","","pRipple","","label","Todos","icon","pi pi-list",3,"click"],[1,"surface-ground","p-3","border-round-xl","mb-4"],[1,"p-input-icon-right","w-full"],[1,"pi","pi-search","text-500"],["pInputText","","type","text","placeholder","Pesquisar por nome, usu\xE1rio, plano ou servidor...",1,"w-full","p-3","border-round-xl",3,"input"],["type","button","pButton","","pRipple","","icon","pi pi-times","class","p-button-text p-button-secondary",3,"click",4,"ngIf"],["sortField","dataVencimento","styleClass","p-datatable-sm p-datatable-gridlines clientes-table","responsiveLayout","stack","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords}","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-rounded","p-button-success","fab",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-times",1,"p-button-text","p-button-secondary",3,"click"],["style","width: 3rem",4,"ngIf"],["pSortableColumn","dataVencimento"],["field","dataVencimento"],["pSortableColumn","nome"],["field","nome"],["pSortableColumn","plano.nome"],["field","plano.nome"],["pSortableColumn","servidor.nome"],["field","servidor.nome"],[2,"width","3rem"],[3,"click"],[1,"p-column-title"],[1,"nome-usuario",3,"click"],[1,"flex","flex-wrap"],["pButton","","pRipple","","icon","pi pi-whatsapp","pTooltip","Enviar mensagem no WhatsApp","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"click"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-calendar-plus","pTooltip","Renovar por 30 dias","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash","pTooltip","Excluir cliente","tooltipPosition","top",1,"p-button-rounded","p-button-warning","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-clone","pTooltip","Clonar cliente","tooltipPosition","top",1,"p-button-rounded",3,"click"],[3,"value"],["pButton","","pRipple","","icon","pi pi-times","label","N\xE3o",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"],[1,"p-error","block"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text","p-button-secondary",3,"click"],["pButton","","pRipple","","label","Salvar Altera\xE7\xF5es","icon","pi pi-check",1,"p-button-primary","border-round-lg",3,"click","disabled"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-danger",3,"click"],["pButton","","pRipple","","icon","pi pi-send","label","Enviar confirma\xE7\xE3o",1,"p-button-success",3,"click"]],template:function(n,t){if(n&1&&(i(0,"div",2),_(1,"p-toast"),i(2,"div",3),x(3,ct,23,20,"ng-container",4),i(4,"p-dialog",5),R("visibleChange",function(s){return M(t.dialogoExcluir,s)||(t.dialogoExcluir=s),s}),i(5,"div",6),_(6,"i",7),i(7,"span"),l(8,"Tem certeza que voc\xEA deseja excluir "),i(9,"b"),l(10),o(),l(11,"?"),o()(),x(12,mt,2,0,"ng-template",8),o(),i(13,"p-dialog",9),R("visibleChange",function(s){return M(t.dialogoCliente,s)||(t.dialogoCliente=s),s}),i(14,"form",10),u("ngSubmit",function(){return t.salvarOuAlterar()}),i(15,"div",2)(16,"div",11)(17,"label",12),l(18,"Nome Completo"),o(),i(19,"span",13),_(20,"i",14)(21,"input",15),o(),x(22,pt,2,0,"small",16),o(),i(23,"div",17)(24,"label",18),l(25,"Usu\xE1rio / Login"),o(),i(26,"span",13),_(27,"i",19)(28,"input",20),o()(),i(29,"div",17)(30,"label",21),l(31,"WhatsApp"),o(),_(32,"p-inputMask",22),o(),i(33,"div",17)(34,"label",23),l(35,"Vencimento"),o(),_(36,"p-calendar",24),o(),i(37,"div",17)(38,"label",25),l(39,"Servidor"),o(),_(40,"p-dropdown",26),o(),i(41,"div",17)(42,"label",27),l(43,"Plano"),o(),_(44,"p-dropdown",28),o(),i(45,"div",17)(46,"label",29),l(47,"E-mail (opcional)"),o(),_(48,"input",30),o(),i(49,"div",11)(50,"label",31),l(51,"Observa\xE7\xF5es"),o(),_(52,"textarea",32),o()()(),x(53,dt,2,1,"ng-template",8),o(),i(54,"p-dialog",5),R("visibleChange",function(s){return M(t.dialogoDeleteVarios,s)||(t.dialogoDeleteVarios=s),s}),i(55,"div",6),_(56,"i",7),i(57,"span"),l(58,"Tem certeza que quer deletar todos os selecionados?"),o()(),x(59,ut,2,0,"ng-template",8),o(),i(60,"p-dialog",33),R("visibleChange",function(s){return M(t.dialogoRenovar,s)||(t.dialogoRenovar=s),s}),i(61,"div",6),_(62,"i",7),i(63,"span"),l(64,"Tem certeza que deseja renovar "),i(65,"b"),l(66),o(),l(67," por mais 30 dias?"),_(68,"br"),l(69," Novo vencimento: "),i(70,"b"),l(71),L(72,"date"),o()()(),x(73,_t,2,0,"ng-template",8),o(),i(74,"p-dialog",34),R("visibleChange",function(s){return M(t.dialogoPosRenovacao,s)||(t.dialogoPosRenovacao=s),s}),i(75,"div"),l(76),o(),x(77,gt,2,0,"ng-template",8),o()()()),n&2){let r,s;c(3),g("ngIf",!t.dialogoCliente),c(),D(h(42,Ge)),k("visible",t.dialogoExcluir),g("modal",!0)("breakpoints",h(43,O)),c(6),A(t.cadastroForm.value.nome),c(3),D(h(44,Qe)),k("visible",t.dialogoCliente),g("header",(r=t.cadastroForm.get("id"))!=null&&r.value?"Editar Cliente":"Novo Cliente")("modal",!0)("breakpoints",h(45,Ze)),c(),g("formGroup",t.cadastroForm),c(8),g("ngIf",((s=t.cadastroForm.get("nome"))==null?null:s.invalid)&&((s=t.cadastroForm.get("nome"))==null?null:s.touched)),c(14),g("showIcon",!0),c(4),g("options",t.listaServidores)("showClear",!0),c(4),g("options",t.listaPlanos)("showClear",!0),c(8),g("rows",3),c(2),D(h(46,Ge)),k("visible",t.dialogoDeleteVarios),g("modal",!0)("breakpoints",h(47,O)),c(6),D(h(48,et)),k("visible",t.dialogoRenovar),g("modal",!0)("breakpoints",h(49,O)),c(6),A(t.clienteRenovacao==null?null:t.clienteRenovacao.nome),c(5),A(H(72,39,t.novaDataVencimento,"dd/MM/yyyy")),c(3),D(h(50,tt)),k("visible",t.dialogoPosRenovacao),g("modal",!0)("breakpoints",h(51,O)),c(2),T(" ",t.mensagemRenovacao," ")}},dependencies:[K,ae,ne,oe,re,le,se,ye,ee,Te,ke,Me,Re,de,te,We,we,Ne,xe,Pe,Be,Ce,ve,X],styles:[".fab[_ngcontent-%COMP%]{position:fixed!important;z-index:1030!important;right:2rem!important;bottom:2rem!important;width:56px!important;height:56px!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.fab[_ngcontent-%COMP%]:hover{transform:scale(1.1) translateY(-2px)!important;box-shadow:0 8px 16px #0000004d!important}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.list-card[_ngcontent-%COMP%]{position:relative;padding-bottom:100px}@media (max-width: 768px){.fab[_ngcontent-%COMP%]{width:48px!important;height:48px!important;right:1rem!important;bottom:1rem!important;bottom:calc(1rem + env(safe-area-inset-bottom,0px))!important}.fab[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.1rem!important}.list-card[_ngcontent-%COMP%]{padding-bottom:80px}}[_nghost-%COMP%]{position:relative;min-height:100vh}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4rem .8rem;border-radius:8px;font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:.05em;box-shadow:0 2px 4px #0000000d}.status-ativo[_ngcontent-%COMP%]{background-color:var(--green-100);color:var(--green-700);border:1px solid var(--green-200)}.status-vencido[_ngcontent-%COMP%]{background-color:var(--red-100);color:var(--red-700);border:1px solid var(--red-200)}.status-vence-hoje[_ngcontent-%COMP%], .status-vence-3dias[_ngcontent-%COMP%]{background-color:var(--orange-100);color:var(--orange-700);border:1px solid var(--orange-200)}.clientes-table[_ngcontent-%COMP%]   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{cursor:pointer}.clientes-table[_ngcontent-%COMP%]   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{background-color:var(--surface-50)}.clientes-table[_ngcontent-%COMP%]   .p-column-title[_ngcontent-%COMP%]{font-weight:700;color:var(--surface-500);text-transform:uppercase;font-size:.7rem;margin-bottom:.25rem}"]})}}return a})();var Ye=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=B({type:a})}static{this.\u0275inj=I({imports:[z.forChild([{path:"",component:Je}]),z]})}}return a})();var ci=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=B({type:a})}static{this.\u0275inj=I({imports:[Q,Ye,me,De,Ie,ue,ie,Le,He,je,Ve,Oe,Se,pe,Ee,Fe,Ae,be,he]})}}return a})();export{ci as ClienteModule};
