import{b as ae}from"./chunk-ZIMJ2VN2.js";import{a as te,b as ie}from"./chunk-YHGITU6X.js";import{a as Z,b as ee}from"./chunk-QD3EWCKC.js";import{a as G}from"./chunk-2J2Y6LP7.js";import{a as $}from"./chunk-RLNUZQCH.js";import{a as W}from"./chunk-AW5DFX2W.js";import{a as X}from"./chunk-ULMLR6ZN.js";import{a as Y}from"./chunk-77VZTUG6.js";import{a as ne,d as re,e as se,k as le}from"./chunk-C3W5HSCK.js";import"./chunk-5CO6IPWY.js";import"./chunk-UNGKZQU4.js";import"./chunk-4RURM2DY.js";import"./chunk-UHPR5IVD.js";import"./chunk-T2PIK6R3.js";import"./chunk-7SPUUUGD.js";import"./chunk-SFTIWTHH.js";import"./chunk-VPFJ3TVV.js";import"./chunk-NJPLBFLS.js";import"./chunk-MDZH7E7N.js";import"./chunk-V6X5IB37.js";import"./chunk-V5XYQFDX.js";import"./chunk-3GJN2BSD.js";import"./chunk-UW4E5NSV.js";import"./chunk-6LXUGSQP.js";import"./chunk-RD2ZW53S.js";import"./chunk-UAXJ67OE.js";import{m as z}from"./chunk-ENZ5W56S.js";import"./chunk-S35HUXPS.js";import{b as Q,d as U}from"./chunk-4B2QLF32.js";import{p as J}from"./chunk-BFP4OEA6.js";import{$a as B,Aa as P,Bb as w,Da as O,Ea as A,F as f,I,Ja as T,Ka as i,L as _,La as h,M as k,Sa as c,Tb as L,W as M,Y as r,Z as x,bb as N,da as j,ea as S,ja as C,ma as o,sa as t,sb as q,ta as e,tb as K,ua as a,wb as H,ya as F,za as E,zb as R}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{h as y}from"./chunk-MG3ERZGY.js";var D=()=>({width:"3.5rem",height:"3.5rem"}),b=()=>({height:"8px"}),ce=()=>({width:"50%"}),pe=()=>({width:"16%"}),ue=()=>({width:"67%"}),he=()=>({width:"35%"}),ve=()=>({width:"75%"}),ge=()=>({width:"40%"}),fe=()=>({borderRadius:"1rem",background:"linear-gradient(0deg, rgba(0, 123, 255, 0.5), rgba(0, 123, 255, 0.5)), linear-gradient(92.54deg, #1C80CF 47.88%, #FFFFFF 100.01%)"});function xe(s,v){if(s&1&&(t(0,"li",34)(1,"div",35)(2,"div",36),a(3,"i",37),e(),t(4,"div")(5,"span",38),i(6),e(),t(7,"span",39),i(8,"Servidor Ativo"),e()()(),t(9,"div",40)(10,"span",41),i(11),e(),t(12,"span",42),i(13,"clientes ativos"),e()()()),s&2){let n=v.$implicit;r(6),h(n.servidor.nome),r(5),h(n.quantidade)}}function Se(s,v){if(s&1&&(t(0,"li",34)(1,"div",35)(2,"div",43),a(3,"i",44),e(),t(4,"div")(5,"span",38),i(6),e(),t(7,"span",39),i(8,"Plano Dispon\xEDvel"),e()()(),t(9,"div",40)(10,"span",41),i(11),e(),t(12,"span",42),i(13,"clientes ativos"),e()()()),s&2){let n=v.$implicit;r(6),h(n.plano.nome),r(5),h(n.quantidade)}}function be(s,v){s&1&&(t(0,"tr")(1,"th"),i(2,"Image"),e(),t(3,"th",70),i(4,"Name "),a(5,"p-sortIcon",71),e(),t(6,"th",72),i(7,"Price "),a(8,"p-sortIcon",73),e(),t(9,"th"),i(10,"View"),e()())}function Ce(s,v){if(s&1&&(t(0,"tr")(1,"td",74),a(2,"img",75),e(),t(3,"td",76),i(4),e(),t(5,"td",77),i(6),B(7,"currency"),e(),t(8,"td",78),a(9,"button",79),e()()),s&2){let n=v.$implicit;r(2),A("src","assets/dstv/images/product/",n.image,"",M),O("alt",n.name),r(2),h(n.name),r(2),h(N(7,5,n.price,"USD"))}}function ye(s,v){if(s&1){let n=F();t(0,"div",45)(1,"div",26)(2,"h5"),i(3,"Recent Sales"),e(),t(4,"p-table",46),C(5,be,11,0,"ng-template",47)(6,Ce,10,8,"ng-template",48),e()(),t(7,"div",26)(8,"div",49)(9,"h5"),i(10,"Best Selling Products"),e(),t(11,"div")(12,"button",50),E("click",function(m){_(n);let u=T(14);return k(u.toggle(m))}),e(),a(13,"p-menu",51,0),e()(),t(15,"ul",30)(16,"li",52)(17,"div")(18,"span",53),i(19,"Space T-Shirt"),e(),t(20,"div",54),i(21,"Clothing"),e()(),t(22,"div",55)(23,"div",56),a(24,"div",57),e(),t(25,"span",58),i(26,"%50"),e()()(),t(27,"li",52)(28,"div")(29,"span",53),i(30,"Portal Sticker"),e(),t(31,"div",54),i(32,"Accessories"),e()(),t(33,"div",59)(34,"div",56),a(35,"div",60),e(),t(36,"span",61),i(37,"%16"),e()()(),t(38,"li",52)(39,"div")(40,"span",53),i(41,"Supernova Sticker"),e(),t(42,"div",54),i(43,"Accessories"),e()(),t(44,"div",59)(45,"div",56),a(46,"div",62),e(),t(47,"span",63),i(48,"%67"),e()()(),t(49,"li",52)(50,"div")(51,"span",53),i(52,"Wonders Notebook"),e(),t(53,"div",54),i(54,"Office"),e()(),t(55,"div",59)(56,"div",56),a(57,"div",64),e(),t(58,"span",65),i(59,"%35"),e()()(),t(60,"li",52)(61,"div")(62,"span",53),i(63,"Mat Black Case"),e(),t(64,"div",54),i(65,"Accessories"),e()(),t(66,"div",59)(67,"div",56),a(68,"div",66),e(),t(69,"span",67),i(70,"%75"),e()()(),t(71,"li",52)(72,"div")(73,"span",53),i(74,"Robots T-Shirt"),e(),t(75,"div",54),i(76,"Clothing"),e()(),t(77,"div",59)(78,"div",56),a(79,"div",68),e(),t(80,"span",69),i(81,"%40"),e()()()()()()}if(s&2){let n=P();r(4),o("value",n.products)("paginator",!0)("rows",5),r(9),o("popup",!0)("model",n.items),r(10),o("ngStyle",c(17,b)),r(),o("ngStyle",c(18,ce)),r(10),o("ngStyle",c(19,b)),r(),o("ngStyle",c(20,pe)),r(10),o("ngStyle",c(21,b)),r(),o("ngStyle",c(22,ue)),r(10),o("ngStyle",c(23,b)),r(),o("ngStyle",c(24,he)),r(10),o("ngStyle",c(25,b)),r(),o("ngStyle",c(26,ve)),r(10),o("ngStyle",c(27,b)),r(),o("ngStyle",c(28,ge))}}function Ee(s,v){if(s&1){let n=F();t(0,"div",45)(1,"div",26)(2,"h5"),i(3,"Sales Overview"),e(),a(4,"p-chart",80),e(),t(5,"div",26)(6,"div",27)(7,"h5"),i(8,"Notifications"),e(),t(9,"div")(10,"button",50),E("click",function(m){_(n);let u=T(12);return k(u.toggle(m))}),e(),a(11,"p-menu",51,0),e()(),t(13,"span",81),i(14,"TODAY"),e(),t(15,"ul",82)(16,"li",83)(17,"div",84),a(18,"i",85),e(),t(19,"span",86),i(20,"Richard Jones "),t(21,"span",87),i(22," has purchased a blue t-shirt for "),t(23,"span",88),i(24,"79$"),e()()()(),t(25,"li",89)(26,"div",90),a(27,"i",91),e(),t(28,"span",92),i(29,"Your request for withdrawal of "),t(30,"span",12),i(31,"2500$"),e(),i(32," has been initiated."),e()()(),t(33,"span",81),i(34,"YESTERDAY"),e(),t(35,"ul",93)(36,"li",83)(37,"div",84),a(38,"i",85),e(),t(39,"span",86),i(40,"Keyser Wick "),t(41,"span",87),i(42," has purchased a black jacket for "),t(43,"span",88),i(44,"59$"),e()()()(),t(45,"li",83)(46,"div",94),a(47,"i",95),e(),t(48,"span",86),i(49,"Jane Davis"),t(50,"span",87),i(51," has posted a new questions about your product."),e()()()()(),t(52,"div",96)(53,"div")(54,"div",97),i(55,"TAKE THE NEXT STEP"),e(),t(56,"div",98),i(57,"Try PrimeBlocks"),e()(),t(58,"div",99)(59,"a",100),i(60," Get Started "),e()()()()}if(s&2){let n=P();r(4),o("data",n.chartData)("options",n.chartOptions),r(7),o("popup",!0)("model",n.items),r(41),o("ngStyle",c(5,fe))}}var oe=(()=>{class s{constructor(n,l,m,u){this.productService=n,this.layoutService=l,this.servidorService=m,this.planoService=u,this.clienteService=I(Y),this.ativos=0,this.vencidos=0,this.vence3dias=0,this.listaServidores=[],this.listaPlanos=[],this.clientesPorServidor=[],this.clientesPorPlano=[],this.converterDateToTimeStamp=d=>{let p=d.dataVencimento;if(p&&p.seconds){let g=new Date(p.seconds*1e3);return d.dataVencimento=g,d}else return d},this.vencido=d=>{let p=new Date;return p.setHours(0,0,0,0),d.dataVencimento<p},this.naoVencido=d=>{let p=new Date;return p.setHours(0,0,0,0),d.dataVencimento>=p},this.venceEm3Dias=d=>{let p=new Date;p.setHours(0,0,0,0);let g=new Date;return g.setHours(0,0,0,0),g.setDate(g.getDate()+3),d.dataVencimento>=p&&d.dataVencimento<=g},this.subscription=this.layoutService.configUpdate$.subscribe(()=>{this.initChart()})}ngOnInit(){this.buscarClientes(),this.buscarServidoresEPlanos()}buscarServidoresEPlanos(){return y(this,null,function*(){this.servidorService.getAll().subscribe({next:n=>{this.listaServidores=n,this.contarClientesPorServidor()},error:n=>console.error(n)}),this.planoService.getAll().subscribe({next:n=>{this.listaPlanos=n,this.contarClientesPorPlano()},error:n=>console.error(n)})})}contarClientesPorServidor(){return y(this,null,function*(){this.clientesPorServidor=[];for(let n of this.listaServidores)if(n.id){let u=(yield this.clienteService.getByServidor(n.id)).docs.map(d=>{let p=d.data();return this.converterDateToTimeStamp(p)}).filter(d=>this.naoVencido(d)).length;this.clientesPorServidor.push({servidor:n,quantidade:u})}this.clientesPorServidor.sort((n,l)=>l.quantidade-n.quantidade)})}contarClientesPorPlano(){return y(this,null,function*(){this.clientesPorPlano=[];for(let n of this.listaPlanos)if(n.id){let u=(yield this.clienteService.getByPlano(n.id)).docs.map(d=>{let p=d.data();return this.converterDateToTimeStamp(p)}).filter(d=>this.naoVencido(d)).length;this.clientesPorPlano.push({plano:n,quantidade:u})}this.clientesPorPlano.sort((n,l)=>l.quantidade-n.quantidade)})}buscarClientes(){this.clienteService.getAll().subscribe({next:n=>{n.forEach(l=>{l=this.converterDateToTimeStamp(l),this.vencido(l)&&(this.vencidos+=1),this.naoVencido(l)&&(this.ativos+=1),this.venceEm3Dias(l)&&(this.vence3dias+=1)})},error:n=>console.error(n),complete:()=>console.info("complete")})}initChart(){let n=getComputedStyle(document.documentElement),l=n.getPropertyValue("--text-color"),m=n.getPropertyValue("--text-color-secondary"),u=n.getPropertyValue("--surface-border");this.chartData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"First Dataset",data:[65,59,80,81,56,55,40],fill:!1,backgroundColor:n.getPropertyValue("--bluegray-700"),borderColor:n.getPropertyValue("--bluegray-700"),tension:.4},{label:"Second Dataset",data:[28,48,40,19,86,27,90],fill:!1,backgroundColor:n.getPropertyValue("--green-600"),borderColor:n.getPropertyValue("--green-600"),tension:.4}]},this.chartOptions={plugins:{legend:{labels:{color:l}}},scales:{x:{ticks:{color:m},grid:{color:u,drawBorder:!1}},y:{ticks:{color:m},grid:{color:u,drawBorder:!1}}}}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||s)(x(G),x($),x(W),x(X))}}static{this.\u0275cmp=j({type:s,selectors:[["ng-component"]],standalone:!1,decls:71,vars:16,consts:[["menu",""],[1,"grid","mt-2"],[1,"col-12"],[1,"text-900","font-bold","mb-4","flex","align-items-center","gap-2"],[1,"pi","pi-chart-bar","text-primary","text-3xl"],[1,"col-12","lg:col-6","xl:col-3"],[1,"card","mb-0","shadow-1","hover:shadow-3","transition-duration-200","border-left-3","border-blue-500"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-600","font-semibold","mb-3"],[1,"text-900","font-bold","text-3xl"],[1,"flex","align-items-center","justify-content-center","bg-blue-50","border-round-xl",3,"ngStyle"],[1,"pi","pi-users","text-blue-500","text-2xl"],[1,"text-blue-500","font-medium"],[1,"card","mb-0","shadow-1","hover:shadow-3","transition-duration-200","border-left-3","border-orange-500"],[1,"flex","align-items-center","justify-content-center","bg-orange-50","border-round-xl",3,"ngStyle"],[1,"pi","pi-clock","text-orange-500","text-2xl"],[1,"text-orange-500","font-medium"],[1,"card","mb-0","shadow-1","hover:shadow-3","transition-duration-200","border-left-3","border-red-500"],[1,"flex","align-items-center","justify-content-center","bg-red-50","border-round-xl",3,"ngStyle"],[1,"pi","pi-user-minus","text-red-500","text-2xl"],[1,"text-red-500","font-medium"],[1,"card","mb-0","shadow-1","hover:shadow-3","transition-duration-200","border-left-3","border-purple-500"],[1,"flex","align-items-center","justify-content-center","bg-purple-50","border-round-xl",3,"ngStyle"],[1,"pi","pi-database","text-purple-500","text-2xl"],[1,"text-purple-500","font-medium"],[1,"col-12","lg:col-6","mt-4"],[1,"card"],[1,"flex","align-items-center","justify-content-between","mb-4"],[1,"m-0","font-bold","text-xl"],[1,"pi","pi-server","text-600"],[1,"list-none","p-0","m-0"],["class","flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4 p-3 surface-50 border-round-xl",4,"ngFor","ngForOf"],[1,"pi","pi-tag","text-600"],["class","col-12 xl:col-6",4,"ngIf"],[1,"flex","flex-column","md:flex-row","md:align-items-center","md:justify-content-between","mb-4","p-3","surface-50","border-round-xl"],[1,"flex","align-items-center"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-indigo-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-tablet","text-xl","text-indigo-500"],[1,"text-900","font-bold","block","mb-1"],[1,"text-600"],[1,"mt-2","md:mt-0","flex","flex-column","align-items-end"],[1,"text-900","font-bold","text-xl","mb-1"],[1,"text-500","text-sm"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-green-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-bolt","text-xl","text-green-500"],[1,"col-12","xl:col-6"],["responsiveLayout","scroll",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between","align-items-center","mb-5"],["pButton","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","p-button-plain",3,"click"],[3,"popup","model"],[1,"flex","flex-column","md:flex-row","md:align-items-center","md:justify-content-between","mb-4"],[1,"text-900","font-medium","mr-2","mb-1","md:mb-0"],[1,"mt-1","text-600"],[1,"mt-2","md:mt-0","flex","align-items-center"],[1,"surface-300","border-round","overflow-hidden","w-10rem","lg:w-6rem",3,"ngStyle"],[1,"bg-orange-500","h-full",3,"ngStyle"],[1,"text-orange-500","ml-3","font-medium"],[1,"mt-2","md:mt-0","ml-0","md:ml-8","flex","align-items-center"],[1,"bg-cyan-500","h-full",3,"ngStyle"],[1,"text-cyan-500","ml-3","font-medium"],[1,"bg-pink-500","h-full",3,"ngStyle"],[1,"text-pink-500","ml-3","font-medium"],[1,"bg-green-500","h-full",3,"ngStyle"],[1,"text-green-500","ml-3","font-medium"],[1,"bg-purple-500","h-full",3,"ngStyle"],[1,"text-purple-500","ml-3","font-medium"],[1,"bg-teal-500","h-full",3,"ngStyle"],[1,"text-teal-500","ml-3","font-medium"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],[2,"width","15%","min-width","5rem"],["width","50",1,"shadow-4",3,"src","alt"],[2,"width","35%","min-width","7rem"],[2,"width","35%","min-width","8rem"],[2,"width","15%"],["pButton","","pRipple","","type","button","icon","pi pi-search",1,"p-button","p-component","p-button-text","p-button-icon-only"],["type","line",3,"data","options"],[1,"block","text-600","font-medium","mb-3"],[1,"p-0","mx-0","mt-0","mb-4","list-none"],[1,"flex","align-items-center","py-2","border-bottom-1","surface-border"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-blue-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-dollar","text-xl","text-blue-500"],[1,"text-900","line-height-3"],[1,"text-700"],[1,"text-blue-500"],[1,"flex","align-items-center","py-2"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-orange-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-download","text-xl","text-orange-500"],[1,"text-700","line-height-3"],[1,"p-0","m-0","list-none"],[1,"w-3rem","h-3rem","flex","align-items-center","justify-content-center","bg-pink-100","border-circle","mr-3","flex-shrink-0"],[1,"pi","pi-question","text-xl","text-pink-500"],[1,"px-4","py-5","shadow-2","flex","flex-column","md:flex-row","md:align-items-center","justify-content-between","mb-3",3,"ngStyle"],[1,"text-blue-100","font-medium","text-xl","mt-2","mb-3"],[1,"text-white","font-medium","text-5xl"],[1,"mt-4","mr-auto","md:mt-0","md:mr-0"],["target","_blank","href","https://www.primefaces.org/primeblocks-ng",1,"p-button","font-bold","px-5","py-3","p-button-warning","p-button-rounded","p-button-raised"]],template:function(l,m){l&1&&(t(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"i",4),i(4," Vis\xE3o Geral "),e()(),t(5,"div",5)(6,"div",6)(7,"div",7)(8,"div")(9,"span",8),i(10,"Clientes Ativos"),e(),t(11,"div",9),i(12),e()(),t(13,"div",10),a(14,"i",11),e()(),t(15,"span",12),i(16,"Cadastrados no sistema"),e()()(),t(17,"div",5)(18,"div",13)(19,"div",7)(20,"div")(21,"span",8),i(22,"Pr\xF3ximos Vencimentos"),e(),t(23,"div",9),i(24),e()(),t(25,"div",14),a(26,"i",15),e()(),t(27,"span",16),i(28,"Vencem em at\xE9 3 dias"),e()()(),t(29,"div",5)(30,"div",17)(31,"div",7)(32,"div")(33,"span",8),i(34,"Clientes Vencidos"),e(),t(35,"div",9),i(36),e()(),t(37,"div",18),a(38,"i",19),e()(),t(39,"span",20),i(40,"Necessitam renova\xE7\xE3o"),e()()(),t(41,"div",5)(42,"div",21)(43,"div",7)(44,"div")(45,"span",8),i(46,"Total de Clientes"),e(),t(47,"div",9),i(48),e()(),t(49,"div",22),a(50,"i",23),e()(),t(51,"span",24),i(52,"Base total de dados"),e()()(),t(53,"div",25)(54,"div",26)(55,"div",27)(56,"h5",28),i(57,"Clientes por Servidor"),e(),a(58,"i",29),e(),t(59,"ul",30),C(60,xe,14,2,"li",31),e()()(),t(61,"div",25)(62,"div",26)(63,"div",27)(64,"h5",28),i(65,"Distribui\xE7\xE3o por Plano"),e(),a(66,"i",32),e(),t(67,"ul",30),C(68,Se,14,2,"li",31),e()()(),C(69,ye,82,29,"div",33)(70,Ee,61,6,"div",33),e()),l&2&&(r(12),h(m.ativos),r(),o("ngStyle",c(12,D)),r(11),h(m.vence3dias),r(),o("ngStyle",c(13,D)),r(11),h(m.vencidos),r(),o("ngStyle",c(14,D)),r(11),h(m.ativos+m.vencidos),r(),o("ngStyle",c(15,D)),r(11),o("ngForOf",m.clientesPorServidor.slice(0,5)),r(8),o("ngForOf",m.clientesPorPlano.slice(0,5)),r(),o("ngIf",!1),r(),o("ngIf",!1))},dependencies:[q,K,H,Z,te,ne,J,re,se,Q,R],encapsulation:2})}}return s})();var de=(()=>{class s{static \u0275fac=function(l){return new(l||s)};static \u0275mod=S({type:s});static \u0275inj=f({imports:[w]})}return s})();var me=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=S({type:s})}static{this.\u0275inj=f({imports:[L.forChild([{path:"",component:oe}]),L]})}}return s})();var st=(()=>{class s{static{this.\u0275fac=function(l){return new(l||s)}}static{this.\u0275mod=S({type:s})}static{this.\u0275inj=f({imports:[w,z,ee,ie,le,de,ae,U,me]})}}return s})();export{st as DashboardModule};
