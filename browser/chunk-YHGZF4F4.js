import{a as Se}from"./chunk-FHR4SNW4.js";import{a as ae,b as se}from"./chunk-SGZWNUGR.js";import{a as _e,b as fe}from"./chunk-VRHWGBU4.js";import{a as ue,b as ve}from"./chunk-V45ILFUR.js";import{a as de,b as me}from"./chunk-T46XF4F4.js";import"./chunk-3GYUEW7T.js";import"./chunk-AKFYE27W.js";import"./chunk-IXVZ2UVD.js";import"./chunk-5A2SHGKR.js";import{b as ce}from"./chunk-UN3KQG2F.js";import"./chunk-BZWVP6UU.js";import{b as J}from"./chunk-RKBFQUCE.js";import{a as te,d as ie,e as oe,h as re,i as ne,k as le}from"./chunk-ZOG5EIV5.js";import"./chunk-JGDHVA3N.js";import"./chunk-7QY6HRUQ.js";import"./chunk-2ZGARQ3A.js";import"./chunk-ALDKEQ4M.js";import"./chunk-MXLPO26K.js";import{c as ee}from"./chunk-QW22FY7E.js";import"./chunk-B643GAX3.js";import"./chunk-K27DTNTS.js";import"./chunk-VIDR4FKN.js";import"./chunk-IXVQGYTM.js";import"./chunk-6FDYHB4M.js";import"./chunk-MFALVWF3.js";import"./chunk-EQC2ISW6.js";import{b as pe}from"./chunk-U4BOLKXL.js";import{i as Y}from"./chunk-MT4NNOJC.js";import"./chunk-OIA4IUUW.js";import"./chunk-4PWFNMG4.js";import{a as Z,b as $}from"./chunk-FNKB3LB5.js";import{b as U,e as q,g as G,k as H,n as K}from"./chunk-FBB73MOT.js";import"./chunk-ODDS2LGO.js";import{b as Q,d as X}from"./chunk-524KV34N.js";import"./chunk-S35HUXPS.js";import{k as T,p as L,s as z,t as O}from"./chunk-NAARYAXJ.js";import{Aa as u,Bb as j,F as y,Ja as k,Ka as p,L as a,La as N,M as s,Ma as I,Oa as b,Pa as x,Qa as C,Ra as P,Sa as w,Ta as D,Tb as F,Y as d,Z as M,da as B,ea as E,ja as S,ma as m,pa as V,rb as W,sa as r,ta as o,tb as A,ua as f,ya as h,za as _}from"./chunk-TF5DNV4E.js";import"./chunk-YT5AF7SN.js";import{a as R}from"./chunk-MG3ERZGY.js";var Ce=()=>["nome","id"],we=()=>[10,20,30],ge=()=>({width:"450px"}),ye=t=>({"ng-invalid ng-dirty":t});function Ee(t,v){if(t&1){let e=h();r(0,"div",25)(1,"button",26),_("click",function(){a(e);let i=u();return s(i.novo())}),o(),r(2,"button",27),_("click",function(){a(e);let i=u();return s(i.excluirSelecionados())}),o()()}if(t&2){let e=u();d(2),m("disabled",!e.listaServidoresSelecionados||!e.listaServidoresSelecionados.length)}}function Te(t,v){t&1&&f(0,"p-fileUpload",30),t&2&&m("maxFileSize",1e6)}function Me(t,v){if(t&1){let e=h();S(0,Te,1,1,"p-fileUpload",28),r(1,"button",29),_("click",function(){a(e),u();let i=k(8);return s(i.exportCSV())}),o()}t&2&&m("ngIf",!1)}function Ve(t,v){if(t&1){let e=h();r(0,"div",31)(1,"h5",32),p(2,"Gerenciar Servidores"),o(),r(3,"span",33),f(4,"i",34),r(5,"input",35),_("input",function(i){a(e);let c=u(),g=k(8);return s(c.onGlobalFilter(g,i))}),o()()()}}function ke(t,v){t&1&&(r(0,"th",40),p(1,"Id "),f(2,"p-sortIcon",41),o())}function Ie(t,v){t&1&&(r(0,"tr")(1,"th",36),f(2,"p-tableHeaderCheckbox"),o(),S(3,ke,3,0,"th",37),r(4,"th",38),p(5,"Nome "),f(6,"p-sortIcon",39),o(),f(7,"th"),o()),t&2&&(d(3),m("ngIf",!1))}function Fe(t,v){if(t&1&&(r(0,"td",49)(1,"span",45),p(2,"Id"),o(),p(3),o()),t&2){let e=u().$implicit;d(3),I(" ",e.id," ")}}function Re(t,v){if(t&1){let e=h();r(0,"tr")(1,"td"),f(2,"p-tableCheckbox",42),o(),S(3,Fe,4,1,"td",43),r(4,"td",44)(5,"span",45),p(6,"Nome"),o(),p(7),o(),r(8,"td")(9,"div",46)(10,"button",47),_("click",function(){let i=a(e).$implicit,c=u();return s(c.abrirDialogAlterar(i))}),o(),r(11,"button",48),_("click",function(){let i=a(e).$implicit,c=u();return s(c.abrirDialogExcluir(i))}),o()()()()}if(t&2){let e=v.$implicit;d(2),m("value",e),d(),m("ngIf",!1),d(4),I(" ",e.nome," ")}}function Be(t,v){if(t&1&&(r(0,"span"),p(1,"Tem certeza que voc\xEA deseja excluir "),r(2,"b"),p(3),o(),p(4,"?"),o()),t&2){let e=u();d(3),N(e.servidorSelecionado.nome)}}function Ne(t,v){if(t&1){let e=h();r(0,"button",50),_("click",function(){a(e);let i=u();return s(i.dialogoExcluir=!1)}),o(),r(1,"button",51),_("click",function(){a(e);let i=u();return s(i.excluir())}),o()}}function Pe(t,v){t&1&&(r(0,"small",52),p(1,"Nome \xE9 obrigat\xF3rio."),o())}var be=(()=>{class t{constructor(e,n){this.servidorService=e,this.messageService=n,this.listaServidores=[],this.listaServidoresSelecionados=[],this.dialogoExcluir=!1,this.dialogoServidor=!1,this.servidorSelecionado={},this.cols=[],this.submitted=!1}ngOnInit(){console.log("aqui"),this.cols=[{field:"id",header:"Id"},{field:"nome",header:"Nome"}],this.servidorService.getAll().subscribe({next:e=>this.listaServidores=e,error:e=>console.error(e),complete:()=>console.info("complete")})}salvarOuAlterar(){if(this.submitted=!0,!this.servidorSelecionado.nome||this.servidorSelecionado.nome.trim().length==0){this.messageService.add({severity:"error",summary:"Erro!",detail:"Insira um nome!",life:3e3});return}this.servidorSelecionado.id?this.alterar():this.salvar()}salvar(){this.servidorService.create(this.servidorSelecionado).then(()=>{this.dialogoServidor=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Servidor Criado!",life:3e3}),this.servidorService.getAll().subscribe({next:e=>this.listaServidores=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}abrirDialogAlterar(e){this.servidorSelecionado=R({},e),this.submitted=!1,this.dialogoServidor=!0}alterar(){this.servidorService.update(this.servidorSelecionado).then(()=>{this.dialogoServidor=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Servidor Alterado!",life:3e3}),this.servidorService.getAll().subscribe({next:e=>this.listaServidores=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}abrirDialogExcluir(e){this.submitted=!1,this.servidorSelecionado=e,this.dialogoExcluir=!0}excluir(){this.servidorService.delete(this.servidorSelecionado.id||"").then(()=>{console.info("complete"),this.dialogoExcluir=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Servidor Exclu\xEDdo",life:3e3}),this.servidorSelecionado={},this.servidorService.getAll().subscribe({next:e=>this.listaServidores=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}onGlobalFilter(e,n){e.filterGlobal(n.target.value,"contains")}novo(){this.dialogoServidor=!0,this.servidorSelecionado={}}excluirSelecionados(){this.listaServidoresSelecionados&&this.listaServidoresSelecionados.forEach(e=>{this.servidorService.delete(e.id||"")}),console.log(this.listaServidoresSelecionados)}static{this.\u0275fac=function(n){return new(n||t)(M(Se),M(T))}}static{this.\u0275cmp=B({type:t,selectors:[["app-servidor"]],standalone:!1,features:[P([T])],decls:28,vars:28,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} at\xE9 {last} de {totalRecords} registros","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Confirmar",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["header","Detalhes do Servidor",1,"p-fluid",3,"visibleChange","visible","modal"],[1,"p-fluid","grid"],[1,"field","col-12"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"field","col-6"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-danger",3,"click"],["pButton","","pRipple","","label","Salvar","icon","pi pi-check",1,"p-button-success",3,"click"],[1,"my-2"],["pButton","","pRipple","","label","Novo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Excluir","icon","pi pi-trash",1,"p-button-danger",3,"click","disabled"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar","class","mr-2 inline-block",3,"maxFileSize",4,"ngIf"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help",3,"click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar",1,"mr-2","inline-block",3,"maxFileSize"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Procurar...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id",4,"ngIf"],["pSortableColumn","nome"],["field","nome"],["pSortableColumn","id"],["field","id"],[3,"value"],["style","width:50%; min-width:10rem;",4,"ngIf"],[2,"width","90%","min-width","10rem"],[1,"p-column-title"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[2,"width","50%","min-width","10rem"],["pButton","","pRipple","","icon","pi pi-times","label","N\xE3o",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"],[1,"ng-dirty","ng-invalid"]],template:function(n,i){if(n&1){let c=h();r(0,"div",1)(1,"div",2)(2,"div",3),f(3,"p-toast"),r(4,"p-toolbar",4),S(5,Ee,3,1,"ng-template",5)(6,Me,2,1,"ng-template",6),o(),r(7,"p-table",7,0),C("selectionChange",function(l){return a(c),x(i.listaServidoresSelecionados,l)||(i.listaServidoresSelecionados=l),s(l)}),S(9,Ve,6,0,"ng-template",8)(10,Ie,8,1,"ng-template",9)(11,Re,12,3,"ng-template",10),o()(),r(12,"p-dialog",11),C("visibleChange",function(l){return a(c),x(i.dialogoExcluir,l)||(i.dialogoExcluir=l),s(l)}),r(13,"div",12),f(14,"i",13),S(15,Be,5,1,"span",14),o(),S(16,Ne,2,0,"ng-template",15),o(),r(17,"p-dialog",16),C("visibleChange",function(l){return a(c),x(i.dialogoServidor,l)||(i.dialogoServidor=l),s(l)}),r(18,"div",17)(19,"div",18)(20,"label",19),p(21,"Nome"),o(),r(22,"input",20),C("ngModelChange",function(l){return a(c),x(i.servidorSelecionado.nome,l)||(i.servidorSelecionado.nome=l),s(l)}),o(),S(23,Pe,2,0,"small",21),o(),r(24,"div",22)(25,"button",23),_("click",function(){return a(c),s(i.dialogoServidor=!1)}),o()(),r(26,"div",22)(27,"button",24),_("click",function(){return a(c),s(i.salvarOuAlterar())}),o()()()()()()}n&2&&(d(7),m("value",i.listaServidores)("columns",i.cols)("rows",10)("globalFilterFields",w(22,Ce))("rows",10)("paginator",!0)("rowsPerPageOptions",w(23,we))("showCurrentPageReport",!0),b("selection",i.listaServidoresSelecionados),m("rowHover",!0),d(5),V(w(24,ge)),b("visible",i.dialogoExcluir),m("modal",!0),d(3),m("ngIf",i.servidorSelecionado),d(2),V(w(25,ge)),b("visible",i.dialogoServidor),m("modal",!0),d(5),b("ngModel",i.servidorSelecionado.nome),m("ngClass",D(26,ye,i.submitted&&!i.servidorSelecionado.nome)),d(),m("ngIf",i.submitted&&!i.servidorSelecionado.nome))},dependencies:[W,A,te,L,ie,oe,re,ne,de,Q,U,q,H,G,z,ue,_e,Z,ae],encapsulation:2})}}return t})();var xe=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=E({type:t})}static{this.\u0275inj=y({imports:[F.forChild([{path:"",component:be}]),F]})}}return t})();var gt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=E({type:t})}static{this.\u0275inj=y({imports:[j,xe,le,me,K,X,O,ve,fe,ce,$,pe,Y,J,ee,se]})}}return t})();export{gt as ServidorModule};
