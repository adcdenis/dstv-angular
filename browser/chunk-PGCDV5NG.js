import{a as be}from"./chunk-IIEKQTIV.js";import{a as se,b as pe}from"./chunk-SGZWNUGR.js";import{a as ge,b as he}from"./chunk-VRHWGBU4.js";import{a as _e,b as fe}from"./chunk-V45ILFUR.js";import{a as me,b as ce}from"./chunk-T46XF4F4.js";import"./chunk-3GYUEW7T.js";import"./chunk-AKFYE27W.js";import"./chunk-IXVZ2UVD.js";import"./chunk-5A2SHGKR.js";import{b as ue}from"./chunk-UN3KQG2F.js";import"./chunk-BZWVP6UU.js";import{b as J}from"./chunk-RKBFQUCE.js";import{a as ie,d as oe,e as ne,h as le,i as ae,k as re}from"./chunk-ZOG5EIV5.js";import"./chunk-JGDHVA3N.js";import"./chunk-7QY6HRUQ.js";import"./chunk-2ZGARQ3A.js";import"./chunk-ALDKEQ4M.js";import"./chunk-MXLPO26K.js";import{b as ee,c as te}from"./chunk-QW22FY7E.js";import"./chunk-B643GAX3.js";import"./chunk-K27DTNTS.js";import"./chunk-VIDR4FKN.js";import"./chunk-IXVQGYTM.js";import"./chunk-6FDYHB4M.js";import"./chunk-MFALVWF3.js";import"./chunk-EQC2ISW6.js";import{b as de}from"./chunk-U4BOLKXL.js";import{i as Y}from"./chunk-MT4NNOJC.js";import"./chunk-OIA4IUUW.js";import"./chunk-4PWFNMG4.js";import{a as Z,b as $}from"./chunk-FNKB3LB5.js";import{b as U,e as q,g as G,k as H,n as K}from"./chunk-FBB73MOT.js";import"./chunk-ODDS2LGO.js";import{b as Q,d as X}from"./chunk-524KV34N.js";import"./chunk-S35HUXPS.js";import{k as T,p as L,s as z,t as O}from"./chunk-NAARYAXJ.js";import{Aa as _,Bb as j,F as P,Ja as I,Ka as r,L as p,La as N,M as m,Ma as E,Oa as C,Pa as v,Qa as x,Ra as W,Sa as w,Ta as k,Tb as F,Y as s,Z as V,da as B,ea as y,ja as h,ma as c,pa as M,rb as D,sa as n,ta as o,tb as A,ua as f,ya as S,za as g}from"./chunk-TF5DNV4E.js";import"./chunk-YT5AF7SN.js";import{a as R}from"./chunk-MG3ERZGY.js";var Pe=()=>["valor","nome","id"],ye=()=>[10,20,30],Se=()=>({width:"450px"}),Ce=t=>({"ng-invalid ng-dirty":t});function Ee(t,u){if(t&1){let e=S();n(0,"div",27)(1,"button",28),g("click",function(){p(e);let i=_();return m(i.novo())}),o(),n(2,"button",29),g("click",function(){p(e);let i=_();return m(i.excluirSelecionados())}),o()()}if(t&2){let e=_();s(2),c("disabled",!e.listaPlanosSelecionados||!e.listaPlanosSelecionados.length)}}function Te(t,u){t&1&&f(0,"p-fileUpload",32),t&2&&c("maxFileSize",1e6)}function Ve(t,u){if(t&1){let e=S();h(0,Te,1,1,"p-fileUpload",30),n(1,"button",31),g("click",function(){p(e),_();let i=I(8);return m(i.exportCSV())}),o()}t&2&&c("ngIf",!1)}function Me(t,u){if(t&1){let e=S();n(0,"div",33)(1,"h5",34),r(2,"Gerenciar Planos"),o(),n(3,"span",35),f(4,"i",36),n(5,"input",37),g("input",function(i){p(e);let d=_(),b=I(8);return m(d.onGlobalFilter(b,i))}),o()()()}}function Ie(t,u){t&1&&(n(0,"th",43),r(1,"Id "),f(2,"p-sortIcon",44),o())}function ke(t,u){t&1&&(n(0,"tr")(1,"th",38),f(2,"p-tableHeaderCheckbox"),o(),h(3,Ie,3,0,"th",39),n(4,"th",40),r(5,"Nome "),f(6,"p-sortIcon",41),o(),n(7,"th",42),r(8,"Valor "),f(9,"p-sortIcon",41),o(),f(10,"th"),o()),t&2&&(s(3),c("ngIf",!1))}function Fe(t,u){if(t&1&&(n(0,"td",53)(1,"span",48),r(2,"Id"),o(),r(3),o()),t&2){let e=_().$implicit;s(3),E(" ",e.id," ")}}function Re(t,u){if(t&1){let e=S();n(0,"tr")(1,"td"),f(2,"p-tableCheckbox",45),o(),h(3,Fe,4,1,"td",46),n(4,"td",47)(5,"span",48),r(6,"Nome"),o(),r(7),o(),n(8,"td",49)(9,"span",48),r(10,"Valor"),o(),r(11),o(),n(12,"td")(13,"div",50)(14,"button",51),g("click",function(){let i=p(e).$implicit,d=_();return m(d.abrirDialogAlterar(i))}),o(),n(15,"button",52),g("click",function(){let i=p(e).$implicit,d=_();return m(d.abrirDialogExcluir(i))}),o()()()()}if(t&2){let e=u.$implicit;s(2),c("value",e),s(),c("ngIf",!1),s(4),E(" ",e.nome," "),s(4),E(" ",e.valor," ")}}function Be(t,u){if(t&1&&(n(0,"span"),r(1,"Tem certeza que voc\xEA deseja excluir "),n(2,"b"),r(3),o(),r(4,"?"),o()),t&2){let e=_();s(3),N(e.planoSelecionado.nome)}}function Ne(t,u){if(t&1){let e=S();n(0,"button",54),g("click",function(){p(e);let i=_();return m(i.dialogoExcluir=!1)}),o(),n(1,"button",55),g("click",function(){p(e);let i=_();return m(i.excluir())}),o()}}function We(t,u){t&1&&(n(0,"small",56),r(1,"Nome \xE9 obrigat\xF3rio."),o())}function De(t,u){t&1&&(n(0,"small",56),r(1,"Valor \xE9 obrigat\xF3rio."),o())}var xe=(()=>{class t{constructor(e,l){this.planoService=e,this.messageService=l,this.listaPlanos=[],this.listaPlanosSelecionados=[],this.dialogoExcluir=!1,this.dialogoPlano=!1,this.planoSelecionado={},this.cols=[],this.submitted=!1}ngOnInit(){console.log("aqui"),this.cols=[{field:"id",header:"Id"},{field:"nome",header:"Nome"},{field:"valor",header:"Valor"}],this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")})}salvarOuAlterar(){if(this.submitted=!0,!this.planoSelecionado.nome||this.planoSelecionado.nome.trim().length==0){this.messageService.add({severity:"error",summary:"Erro!",detail:"Insira um nome!",life:3e3});return}this.planoSelecionado.id?this.alterar():this.salvar()}salvar(){this.planoService.create(this.planoSelecionado).then(()=>{this.dialogoPlano=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Plano Criado!",life:3e3}),this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}abrirDialogAlterar(e){this.planoSelecionado=R({},e),this.submitted=!1,this.dialogoPlano=!0}alterar(){this.planoService.update(this.planoSelecionado).then(()=>{this.dialogoPlano=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Alterado!",life:3e3}),this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}abrirDialogExcluir(e){this.submitted=!1,this.planoSelecionado=e,this.dialogoExcluir=!0}excluir(){this.planoService.delete(this.planoSelecionado.id||"").then(()=>{console.info("complete"),this.dialogoExcluir=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Exclu\xEDdo",life:3e3}),this.planoSelecionado={},this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}onGlobalFilter(e,l){e.filterGlobal(l.target.value,"contains")}novo(){this.dialogoPlano=!0,this.planoSelecionado={}}excluirSelecionados(){this.listaPlanosSelecionados&&this.listaPlanosSelecionados.forEach(e=>{this.planoService.delete(e.id||"")}),console.log(this.listaPlanosSelecionados)}static{this.\u0275fac=function(l){return new(l||t)(V(be),V(T))}}static{this.\u0275cmp=B({type:t,selectors:[["app-plano"]],standalone:!1,features:[W([T])],decls:33,vars:34,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} at\xE9 {last} de {totalRecords} registros","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Confirmar",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["header","Detalhes do Plano",1,"p-fluid",3,"visibleChange","visible","modal"],[1,"p-fluid","grid"],[1,"field","col-12"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","valor"],["inputId","stacked","mode","currency","currency","BRL","autofocus","",3,"ngModelChange","ngModel","showButtons","ngClass"],[1,"field","col-6"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-danger",3,"click"],["pButton","","pRipple","","label","Salvar","icon","pi pi-check",1,"p-button-success",3,"click"],[1,"my-2"],["pButton","","pRipple","","label","Novo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Excluir","icon","pi pi-trash",1,"p-button-danger",3,"click","disabled"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar","class","mr-2 inline-block",3,"maxFileSize",4,"ngIf"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help",3,"click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar",1,"mr-2","inline-block",3,"maxFileSize"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Procurar...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id",4,"ngIf"],["pSortableColumn","nome"],["field","nome"],["pSortableColumn","valor"],["pSortableColumn","id"],["field","id"],[3,"value"],["style","width:50%; min-width:10rem;",4,"ngIf"],[2,"width","70%","min-width","10rem"],[1,"p-column-title"],[2,"width","20%","min-width","10rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[2,"width","50%","min-width","10rem"],["pButton","","pRipple","","icon","pi pi-times","label","N\xE3o",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"],[1,"ng-dirty","ng-invalid"]],template:function(l,i){if(l&1){let d=S();n(0,"div",1)(1,"div",2)(2,"div",3),f(3,"p-toast"),n(4,"p-toolbar",4),h(5,Ee,3,1,"ng-template",5)(6,Ve,2,1,"ng-template",6),o(),n(7,"p-table",7,0),x("selectionChange",function(a){return p(d),v(i.listaPlanosSelecionados,a)||(i.listaPlanosSelecionados=a),m(a)}),h(9,Me,6,0,"ng-template",8)(10,ke,11,1,"ng-template",9)(11,Re,16,4,"ng-template",10),o()(),n(12,"p-dialog",11),x("visibleChange",function(a){return p(d),v(i.dialogoExcluir,a)||(i.dialogoExcluir=a),m(a)}),n(13,"div",12),f(14,"i",13),h(15,Be,5,1,"span",14),o(),h(16,Ne,2,0,"ng-template",15),o(),n(17,"p-dialog",16),x("visibleChange",function(a){return p(d),v(i.dialogoPlano,a)||(i.dialogoPlano=a),m(a)}),n(18,"div",17)(19,"div",18)(20,"label",19),r(21,"Nome:"),o(),n(22,"input",20),x("ngModelChange",function(a){return p(d),v(i.planoSelecionado.nome,a)||(i.planoSelecionado.nome=a),m(a)}),o(),h(23,We,2,0,"small",21),o(),n(24,"div",18)(25,"label",22),r(26,"Valor:"),o(),n(27,"p-inputNumber",23),x("ngModelChange",function(a){return p(d),v(i.planoSelecionado.valor,a)||(i.planoSelecionado.valor=a),m(a)}),o(),h(28,De,2,0,"small",21),o(),n(29,"div",24)(30,"button",25),g("click",function(){return p(d),m(i.dialogoPlano=!1)}),o()(),n(31,"div",24)(32,"button",26),g("click",function(){return p(d),m(i.salvarOuAlterar())}),o()()()()()()}l&2&&(s(7),c("value",i.listaPlanos)("columns",i.cols)("rows",10)("globalFilterFields",w(26,Pe))("rows",10)("paginator",!0)("rowsPerPageOptions",w(27,ye))("showCurrentPageReport",!0),C("selection",i.listaPlanosSelecionados),c("rowHover",!0),s(5),M(w(28,Se)),C("visible",i.dialogoExcluir),c("modal",!0),s(3),c("ngIf",i.planoSelecionado),s(2),M(w(29,Se)),C("visible",i.dialogoPlano),c("modal",!0),s(5),C("ngModel",i.planoSelecionado.nome),c("ngClass",k(30,Ce,i.submitted&&!i.planoSelecionado.nome)),s(),c("ngIf",i.submitted&&!i.planoSelecionado.nome),s(4),C("ngModel",i.planoSelecionado.valor),c("showButtons",!1)("ngClass",k(32,Ce,i.submitted&&!i.planoSelecionado.valor)),s(),c("ngIf",i.submitted&&!i.planoSelecionado.valor))},dependencies:[D,A,ie,L,oe,ne,le,ae,me,Q,U,q,H,G,z,_e,ge,Z,ee,se],encapsulation:2})}}return t})();var we=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275mod=y({type:t})}static{this.\u0275inj=P({imports:[F.forChild([{path:"",component:xe}]),F]})}}return t})();var vt=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275mod=y({type:t})}static{this.\u0275inj=P({imports:[j,we,re,ce,K,X,O,fe,he,ue,$,de,Y,J,te,pe]})}}return t})();export{vt as PlanoModule};
