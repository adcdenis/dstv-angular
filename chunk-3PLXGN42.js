import{a as oe}from"./chunk-HPTSQQSN.js";import{a as Ce,b as he}from"./chunk-SGZWNUGR.js";import{a as Te,b as Pe}from"./chunk-VRHWGBU4.js";import{a as Me,b as Ee}from"./chunk-V45ILFUR.js";import{a as ye,b as xe}from"./chunk-T46XF4F4.js";import"./chunk-3GYUEW7T.js";import"./chunk-AKFYE27W.js";import"./chunk-IXVZ2UVD.js";import"./chunk-5A2SHGKR.js";import{a as be,b as ve}from"./chunk-UN3KQG2F.js";import"./chunk-BZWVP6UU.js";import{a as ee,b as te}from"./chunk-RKBFQUCE.js";import{a as ce,d as me,e as ue,h as _e,i as ge,k as fe}from"./chunk-ZOG5EIV5.js";import"./chunk-JGDHVA3N.js";import"./chunk-7QY6HRUQ.js";import"./chunk-2ZGARQ3A.js";import"./chunk-ALDKEQ4M.js";import"./chunk-MXLPO26K.js";import{b as se,c as pe}from"./chunk-QW22FY7E.js";import"./chunk-B643GAX3.js";import"./chunk-K27DTNTS.js";import"./chunk-VIDR4FKN.js";import"./chunk-IXVQGYTM.js";import{a as we,b as Se}from"./chunk-U4BOLKXL.js";import{h as re,i as le}from"./chunk-MT4NNOJC.js";import"./chunk-OIA4IUUW.js";import"./chunk-4PWFNMG4.js";import{a as ae,b as de}from"./chunk-FNKB3LB5.js";import{b as Y,e as J,g as X,k as Z,n as $}from"./chunk-FBB73MOT.js";import"./chunk-ODDS2LGO.js";import{b as ie,d as ne}from"./chunk-524KV34N.js";import"./chunk-S35HUXPS.js";import{k as I,p as H,s as G,t as Q}from"./chunk-NAARYAXJ.js";import{$a as U,Aa as s,Bb as K,F as E,Ja as B,Ka as l,L as p,La as v,M as c,Ma as M,Oa as f,Pa as C,Qa as h,Ra as L,Sa as S,Ta as O,Tb as R,W as D,Y as d,Z as W,bb as q,da as N,ea as T,ja as x,ma as m,pa as P,qa as V,rb as j,sa as n,ta as i,tb as A,ua as u,ya as w,za as y,zb as z}from"./chunk-TF5DNV4E.js";import"./chunk-YT5AF7SN.js";import{a as k}from"./chunk-MG3ERZGY.js";var De=()=>["name","country.name","representative.name","status"],We=()=>[10,20,30],F=()=>({width:"450px"}),Be=o=>({"ng-invalid ng-dirty":o});function Re(o,_){if(o&1){let e=w();n(0,"div",18)(1,"button",19),y("click",function(){p(e);let t=s();return c(t.openNew())}),i(),n(2,"button",20),y("click",function(){p(e);let t=s();return c(t.deleteSelectedProducts())}),i()()}if(o&2){let e=s();d(2),m("disabled",!e.selectedProducts||!e.selectedProducts.length)}}function Fe(o,_){if(o&1){let e=w();u(0,"p-fileUpload",21),n(1,"button",22),y("click",function(){p(e),s();let t=B(8);return c(t.exportCSV())}),i()}o&2&&m("maxFileSize",1e6)}function Ne(o,_){if(o&1){let e=w();n(0,"div",23)(1,"h5",24),l(2,"Manage Products"),i(),n(3,"span",25),u(4,"i",26),n(5,"input",27),y("input",function(t){p(e);let a=s(),b=B(8);return c(a.onGlobalFilter(b,t))}),i()()()}}function Le(o,_){o&1&&(n(0,"tr")(1,"th",28),u(2,"p-tableHeaderCheckbox"),i(),n(3,"th",29),l(4,"Code "),u(5,"p-sortIcon",30),i(),n(6,"th",31),l(7,"Name "),u(8,"p-sortIcon",32),i(),n(9,"th"),l(10,"Image"),i(),n(11,"th",33),l(12,"Price "),u(13,"p-sortIcon",34),i(),n(14,"th",35),l(15,"Category "),u(16,"p-sortIcon",36),i(),n(17,"th",37),l(18,"Reviews "),u(19,"p-sortIcon",38),i(),n(20,"th",39),l(21,"Status "),u(22,"p-sortIcon",40),i(),u(23,"th"),i())}function Oe(o,_){if(o&1){let e=w();n(0,"tr")(1,"td"),u(2,"p-tableCheckbox",41),i(),n(3,"td",42)(4,"span",43),l(5,"Code"),i(),l(6),i(),n(7,"td",42)(8,"span",43),l(9,"Name"),i(),l(10),i(),n(11,"td",42)(12,"span",43),l(13,"Image"),i(),u(14,"img",44),i(),n(15,"td",45)(16,"span",43),l(17,"Price"),i(),l(18),U(19,"currency"),i(),n(20,"td",42)(21,"span",43),l(22,"Category"),i(),l(23),i(),n(24,"td",42)(25,"span",43),l(26,"Reviews"),i(),u(27,"p-rating",46),i(),n(28,"td",42)(29,"span",43),l(30,"Status"),i(),n(31,"span"),l(32),i()(),n(33,"td")(34,"div",47)(35,"button",48),y("click",function(){let t=p(e).$implicit,a=s();return c(a.editProduct(t))}),i(),n(36,"button",49),y("click",function(){let t=p(e).$implicit,a=s();return c(a.deleteProduct(t))}),i()()()()}if(o&2){let e=_.$implicit;d(2),m("value",e),d(4),M(" ",e.code||e.id," "),d(4),M(" ",e.name," "),d(4),m("src","assets/dstv/images/product/"+e.image,D)("alt",e.name),d(4),M(" ",q(19,13,e.price,"USD")," "),d(5),M(" ",e.category," "),d(4),m("ngModel",e.rating)("readonly",!0)("cancel",!1),d(4),V("product-badge status-"+(e.inventoryStatus?e.inventoryStatus.toLowerCase():"")),d(),v(e.inventoryStatus)}}function Ue(o,_){if(o&1&&u(0,"img",77),o&2){let e=s(2);m("src","assets/dstv/images/product/"+e.product.image,D)("alt",e.product.image)}}function qe(o,_){o&1&&(n(0,"small",78),l(1,"Name is required."),i())}function je(o,_){if(o&1&&(n(0,"span"),l(1),i()),o&2){let e=s(3);V("product-badge status-"+e.product.inventoryStatus.value.toLowerCase()),d(),v(e.product.inventoryStatus.value)}}function Ae(o,_){if(o&1&&x(0,je,2,3,"span",79),o&2){let e=s(2);m("ngIf",e.product&&e.product.inventoryStatus)}}function ze(o,_){if(o&1&&(n(0,"span"),l(1),i()),o&2){let e=_.$implicit;V("product-badge status-"+e.value.toLowerCase()),d(),v(e.label)}}function Ke(o,_){if(o&1){let e=w();x(0,Ue,1,2,"img",50),n(1,"div",51)(2,"label",52),l(3,"Name"),i(),n(4,"input",53),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.name,t)||(a.product.name=t),c(t)}),i(),x(5,qe,2,0,"small",54),i(),n(6,"div",51)(7,"label",55),l(8,"Description"),i(),n(9,"textarea",56),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.description,t)||(a.product.description=t),c(t)}),i()(),n(10,"div",51)(11,"label",57),l(12,"Inventory Status"),i(),n(13,"p-dropdown",58),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.inventoryStatus,t)||(a.product.inventoryStatus=t),c(t)}),x(14,Ae,1,1,"ng-template",59)(15,ze,2,3,"ng-template",60),i()(),n(16,"div",51)(17,"label",61),l(18,"Category"),i(),n(19,"div",62)(20,"div",63)(21,"p-radioButton",64),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.category,t)||(a.product.category=t),c(t)}),i(),n(22,"label",65),l(23,"Accessories"),i()(),n(24,"div",63)(25,"p-radioButton",66),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.category,t)||(a.product.category=t),c(t)}),i(),n(26,"label",67),l(27,"Clothing"),i()(),n(28,"div",63)(29,"p-radioButton",68),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.category,t)||(a.product.category=t),c(t)}),i(),n(30,"label",69),l(31,"Electronics"),i()(),n(32,"div",63)(33,"p-radioButton",70),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.category,t)||(a.product.category=t),c(t)}),i(),n(34,"label",71),l(35,"Fitness"),i()()()(),n(36,"div",62)(37,"div",72)(38,"label",73),l(39,"Price"),i(),n(40,"p-inputNumber",74),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.price,t)||(a.product.price=t),c(t)}),i()(),n(41,"div",72)(42,"label",75),l(43,"Quantity"),i(),n(44,"p-inputNumber",76),h("ngModelChange",function(t){p(e);let a=s();return C(a.product.quantity,t)||(a.product.quantity=t),c(t)}),i()()()}if(o&2){let e=s();m("ngIf",e.product.image),d(4),f("ngModel",e.product.name),m("ngClass",O(13,Be,e.submitted&&!e.product.name)),d(),m("ngIf",e.submitted&&!e.product.name),d(4),f("ngModel",e.product.description),d(4),m("options",e.statuses),f("ngModel",e.product.inventoryStatus),d(8),f("ngModel",e.product.category),d(4),f("ngModel",e.product.category),d(4),f("ngModel",e.product.category),d(4),f("ngModel",e.product.category),d(7),f("ngModel",e.product.price),d(4),f("ngModel",e.product.quantity)}}function He(o,_){if(o&1){let e=w();n(0,"button",80),y("click",function(){p(e);let t=s();return c(t.hideDialog())}),i(),n(1,"button",81),y("click",function(){p(e);let t=s();return c(t.saveProduct())}),i()}}function Ge(o,_){if(o&1&&(n(0,"span"),l(1,"Are you sure you want to delete "),n(2,"b"),l(3),i(),l(4,"?"),i()),o&2){let e=s();d(3),v(e.product.name)}}function Qe(o,_){if(o&1){let e=w();n(0,"button",82),y("click",function(){p(e);let t=s();return c(t.deleteProductDialog=!1)}),i(),n(1,"button",83),y("click",function(){p(e);let t=s();return c(t.confirmDelete())}),i()}}function Ye(o,_){if(o&1){let e=w();n(0,"button",82),y("click",function(){p(e);let t=s();return c(t.deleteProductsDialog=!1)}),i(),n(1,"button",83),y("click",function(){p(e);let t=s();return c(t.confirmDeleteSelected())}),i()}}var Ie=(()=>{class o{constructor(e,r){this.productService=e,this.messageService=r,this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.selectedProducts=[],this.submitted=!1,this.cols=[],this.statuses=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.productService.getProducts().then(e=>this.products=e),this.cols=[{field:"product",header:"Product"},{field:"price",header:"Price"},{field:"category",header:"Category"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}],this.statuses=[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(e){this.product=k({},e),this.productDialog=!0}deleteProduct(e){this.deleteProductDialog=!0,this.product=k({},e)}confirmDeleteSelected(){this.deleteProductsDialog=!1,this.products=this.products.filter(e=>!this.selectedProducts.includes(e)),this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3}),this.selectedProducts=[]}confirmDelete(){this.deleteProductDialog=!1,this.products=this.products.filter(e=>e.id!==this.product.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.product={}}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0,this.product.name?.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"INSTOCK",this.products.push(this.product),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.products=[...this.products],this.productDialog=!1,this.product={})}findIndexById(e){let r=-1;for(let t=0;t<this.products.length;t++)if(this.products[t].id===e){r=t;break}return r}createId(){let e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<5;t++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}onGlobalFilter(e,r){e.filterGlobal(r.target.value,"contains")}static{this.\u0275fac=function(r){return new(r||o)(W(oe),W(I))}}static{this.\u0275cmp=N({type:o,selectors:[["ng-component"]],standalone:!1,features:[L([I])],decls:26,vars:28,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Product Details",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"click","disabled"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","code"],["field","code"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],["pSortableColumn","category"],["field","category"],["pSortableColumn","rating"],["field","rating"],["pSortableColumn","inventoryStatus"],["field","inventoryStatus"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],["width","100",1,"shadow-4",3,"src","alt"],[2,"width","14%","min-width","8rem"],[3,"ngModel","readonly","cancel"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["width","150","class","mt-0 mx-auto mb-5 block shadow-2",3,"src","alt",4,"ngIf"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModelChange","ngModel"],["for","status"],["id","status","optionLabel","label","placeholder","Select a Status",3,"ngModelChange","options","ngModel"],["pTemplate","selectedItem"],["pTemplate","status"],[1,"mb-3"],[1,"formgrid","grid"],[1,"field-radiobutton","col-6"],["id","category1","name","category","value","Accessories",3,"ngModelChange","ngModel"],["for","category1"],["id","category2","name","category","value","Clothing",3,"ngModelChange","ngModel"],["for","category2"],["id","category3","name","category","value","Electronics",3,"ngModelChange","ngModel"],["for","category3"],["id","category4","name","category","value","Fitness",3,"ngModelChange","ngModel"],["for","category4"],[1,"field","col"],["for","price"],["id","price","mode","currency","currency","USD","locale","en-US",3,"ngModelChange","ngModel"],["for","quantity"],["id","quantity",3,"ngModelChange","ngModel"],["width","150",1,"mt-0","mx-auto","mb-5","block","shadow-2",3,"src","alt"],[1,"ng-dirty","ng-invalid"],[3,"class",4,"ngIf"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(r,t){if(r&1){let a=w();n(0,"div",1)(1,"div",2)(2,"div",3),u(3,"p-toast"),n(4,"p-toolbar",4),x(5,Re,3,1,"ng-template",5)(6,Fe,2,1,"ng-template",6),i(),n(7,"p-table",7,0),h("selectionChange",function(g){return p(a),C(t.selectedProducts,g)||(t.selectedProducts=g),c(g)}),x(9,Ne,6,0,"ng-template",8)(10,Le,24,0,"ng-template",9)(11,Oe,37,16,"ng-template",10),i()(),n(12,"p-dialog",11),h("visibleChange",function(g){return p(a),C(t.productDialog,g)||(t.productDialog=g),c(g)}),x(13,Ke,45,15,"ng-template",12)(14,He,2,0,"ng-template",13),i(),n(15,"p-dialog",14),h("visibleChange",function(g){return p(a),C(t.deleteProductDialog,g)||(t.deleteProductDialog=g),c(g)}),n(16,"div",15),u(17,"i",16),x(18,Ge,5,1,"span",17),i(),x(19,Qe,2,0,"ng-template",13),i(),n(20,"p-dialog",14),h("visibleChange",function(g){return p(a),C(t.deleteProductsDialog,g)||(t.deleteProductsDialog=g),c(g)}),n(21,"div",15),u(22,"i",16),n(23,"span"),l(24,"Are you sure you want to delete selected products?"),i()(),x(25,Ye,2,0,"ng-template",13),i()()()}r&2&&(d(7),m("value",t.products)("columns",t.cols)("rows",10)("globalFilterFields",S(23,De))("rows",10)("paginator",!0)("rowsPerPageOptions",S(24,We))("showCurrentPageReport",!0),f("selection",t.selectedProducts),m("rowHover",!0),d(5),P(S(25,F)),f("visible",t.productDialog),m("modal",!0),d(3),P(S(26,F)),f("visible",t.deleteProductDialog),m("modal",!0),d(3),m("ngIf",t.product),d(2),P(S(27,F)),f("visible",t.deleteProductsDialog),m("modal",!0))},dependencies:[j,A,ce,H,me,ue,_e,ge,ye,ie,Y,J,Z,X,G,Me,Te,be,ae,we,re,ee,se,Ce,z],encapsulation:2})}}return o})();var ke=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=T({type:o})}static{this.\u0275inj=E({imports:[R.forChild([{path:"",component:Ie}]),R]})}}return o})();var Nt=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=T({type:o})}static{this.\u0275inj=E({imports:[K,ke,fe,xe,$,ne,Q,Ee,Pe,ve,de,Se,le,te,pe,he]})}}return o})();export{Nt as CrudModule};
