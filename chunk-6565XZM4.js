import{a as he}from"./chunk-FURQSZNK.js";import{a as pe,b as se}from"./chunk-YOAYV4RA.js";import"./chunk-2JY635KS.js";import{a as _e,b as be}from"./chunk-6BD7PSS4.js";import{a as me,b as ce}from"./chunk-5WWM3MYI.js";import"./chunk-WSDER2HD.js";import"./chunk-T6OX34SV.js";import{b as ue}from"./chunk-MSYTDTXD.js";import{b as K}from"./chunk-4CYYGYMS.js";import{a as fe,b as ge}from"./chunk-DTX2IFH6.js";import"./chunk-3CQIXJFX.js";import{b as de}from"./chunk-W22XDKEB.js";import"./chunk-4JDA26ZU.js";import{a as ie,d as oe,e as ne,h as le,i as ae,k as re}from"./chunk-ION2EUQK.js";import"./chunk-XCSSQDET.js";import"./chunk-V5XYQFDX.js";import"./chunk-MZURXKLX.js";import"./chunk-3AW6TXZQ.js";import{b as ee,c as te}from"./chunk-LJGI4ZRP.js";import"./chunk-T2PIK6R3.js";import"./chunk-SFTIWTHH.js";import"./chunk-7SPUUUGD.js";import{i as X}from"./chunk-WSIWJYJX.js";import"./chunk-NJPLBFLS.js";import"./chunk-MDZH7E7N.js";import"./chunk-V6X5IB37.js";import"./chunk-3GJN2BSD.js";import"./chunk-MBI4S36B.js";import"./chunk-6LXUGSQP.js";import{a as Z,b as $}from"./chunk-UGHG6TU3.js";import"./chunk-UAXJ67OE.js";import{b as U,e as q,g as G,k as H,n as Y}from"./chunk-KLIUDW4T.js";import"./chunk-S35HUXPS.js";import{b as J,d as Q}from"./chunk-4B2QLF32.js";import{k as M,p as j,s as L,t as z}from"./chunk-BFP4OEA6.js";import{Aa as b,Bb as A,F as w,Ja as B,Ka as p,L as m,La as N,M as c,Ma as E,Oa as v,Pa as C,Qa as P,Ra as O,Sa as S,Ta as k,Tb as V,Y as r,Z as T,da as R,ea as y,ja as g,ma as s,pa as I,rb as W,sa as n,ta as o,tb as D,ua as f,ya as x,za as _}from"./chunk-UX7NIMCO.js";import"./chunk-EQC2ISW6.js";import"./chunk-YT5AF7SN.js";import{a as F}from"./chunk-MG3ERZGY.js";var ye=()=>["valor","nome","id"],Ee=()=>[10,20,30],Se=()=>({width:"450px"}),xe=()=>({"960px":"50vw","640px":"90vw"}),ve=t=>({"ng-invalid ng-dirty":t});function Me(t,u){if(t&1){let e=x();n(0,"div",28)(1,"button",29),_("click",function(){m(e);let i=b();return c(i.excluirSelecionados())}),o()()}if(t&2){let e=b();r(),s("disabled",!e.listaPlanosSelecionados||!e.listaPlanosSelecionados.length)}}function Te(t,u){t&1&&f(0,"p-fileUpload",32),t&2&&s("maxFileSize",1e6)}function Ie(t,u){t&1&&(n(0,"div",30),g(1,Te,1,1,"p-fileUpload",31),o()),t&2&&(r(),s("ngIf",!1))}function ke(t,u){if(t&1){let e=x();n(0,"div",33)(1,"h5",34),f(2,"i",35),p(3,"Gerenciar Planos"),o(),n(4,"span",36),f(5,"i",37),n(6,"input",38),_("input",function(i){m(e);let d=b(),h=B(8);return c(d.onGlobalFilter(h,i))}),o()()()}}function Ve(t,u){t&1&&(n(0,"th",44),p(1,"Id "),f(2,"p-sortIcon",45),o())}function Fe(t,u){t&1&&(n(0,"tr")(1,"th",39),f(2,"p-tableHeaderCheckbox"),o(),g(3,Ve,3,0,"th",40),n(4,"th",41),p(5,"Nome "),f(6,"p-sortIcon",42),o(),n(7,"th",43),p(8,"Valor "),f(9,"p-sortIcon",42),o(),f(10,"th"),o()),t&2&&(r(3),s("ngIf",!1))}function Re(t,u){if(t&1&&(n(0,"td")(1,"span",47),p(2,"Id"),o(),p(3),o()),t&2){let e=b().$implicit;r(3),E(" ",e.id," ")}}function Be(t,u){if(t&1){let e=x();n(0,"tr")(1,"td"),f(2,"p-tableCheckbox",46),o(),g(3,Re,4,1,"td",15),n(4,"td")(5,"span",47),p(6,"Nome"),o(),p(7),o(),n(8,"td")(9,"span",47),p(10,"Valor"),o(),p(11),o(),n(12,"td")(13,"div",48)(14,"button",49),_("click",function(){let i=m(e).$implicit,d=b();return c(d.abrirDialogAlterar(i))}),o(),n(15,"button",50),_("click",function(){let i=m(e).$implicit,d=b();return c(d.abrirDialogExcluir(i))}),o()()()()}if(t&2){let e=u.$implicit;r(2),s("value",e),r(),s("ngIf",!1),r(4),E(" ",e.nome," "),r(4),E(" ",e.valor," ")}}function Ne(t,u){if(t&1&&(n(0,"span"),p(1,"Tem certeza que voc\xEA deseja excluir "),n(2,"b"),p(3),o(),p(4,"?"),o()),t&2){let e=b();r(3),N(e.planoSelecionado.nome)}}function Oe(t,u){if(t&1){let e=x();n(0,"button",51),_("click",function(){m(e);let i=b();return c(i.dialogoExcluir=!1)}),o(),n(1,"button",52),_("click",function(){m(e);let i=b();return c(i.excluir())}),o()}}function We(t,u){t&1&&(n(0,"small",53),p(1,"Nome \xE9 obrigat\xF3rio."),o())}function De(t,u){t&1&&(n(0,"small",53),p(1,"Valor \xE9 obrigat\xF3rio."),o())}var Pe=(()=>{class t{constructor(e,a){this.planoService=e,this.messageService=a,this.listaPlanos=[],this.listaPlanosSelecionados=[],this.dialogoExcluir=!1,this.dialogoPlano=!1,this.planoSelecionado={},this.cols=[],this.submitted=!1}ngOnInit(){console.log("aqui"),this.cols=[{field:"id",header:"Id"},{field:"nome",header:"Nome"},{field:"valor",header:"Valor"}],this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")})}salvarOuAlterar(){if(this.submitted=!0,!this.planoSelecionado.nome||this.planoSelecionado.nome.trim().length==0){this.messageService.add({severity:"error",summary:"Erro!",detail:"Insira um nome!",life:3e3});return}this.planoSelecionado.id?this.alterar():this.salvar()}salvar(){this.planoService.create(this.planoSelecionado).then(()=>{this.dialogoPlano=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Plano Criado!",life:3e3}),this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}abrirDialogAlterar(e){this.planoSelecionado=F({},e),this.submitted=!1,this.dialogoPlano=!0}alterar(){this.planoService.update(this.planoSelecionado).then(()=>{this.dialogoPlano=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Alterado!",life:3e3}),this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}abrirDialogExcluir(e){this.submitted=!1,this.planoSelecionado=e,this.dialogoExcluir=!0}excluir(){this.planoService.delete(this.planoSelecionado.id||"").then(()=>{console.info("complete"),this.dialogoExcluir=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Exclu\xEDdo",life:3e3}),this.planoSelecionado={},this.planoService.getAll().subscribe({next:e=>this.listaPlanos=e,error:e=>console.error(e),complete:()=>console.info("complete")})})}onGlobalFilter(e,a){e.filterGlobal(a.target.value,"contains")}novo(){this.dialogoPlano=!0,this.planoSelecionado={}}excluirSelecionados(){this.listaPlanosSelecionados&&this.listaPlanosSelecionados.forEach(e=>{this.planoService.delete(e.id||"")}),console.log(this.listaPlanosSelecionados)}static{this.\u0275fac=function(a){return new(a||t)(T(he),T(M))}}static{this.\u0275cmp=R({type:t,selectors:[["app-plano"]],standalone:!1,features:[O([M])],decls:34,vars:38,consts:[["dt",""],[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6","fade-in","list-card"],["styleClass","mb-4 list-toolbar"],["pTemplate","left"],["pTemplate","right"],["styleClass","p-datatable-striped list-table planos-table","responsiveLayout","stack","currentPageReportTemplate","Mostrando {first} at\xE9 {last} de {totalRecords} registros","selectionMode","multiple","dataKey","id",3,"selectionChange","value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-rounded","p-button-success","fab",3,"click"],["header","Confirmar",3,"visibleChange","visible","modal","breakpoints"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["header","Detalhes do Plano",1,"p-fluid",3,"visibleChange","visible","breakpoints","modal"],[1,"p-fluid","grid"],[1,"field","col-12"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModelChange","ngModel","ngClass"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","valor"],["inputId","stacked","mode","currency","currency","BRL","autofocus","",3,"ngModelChange","ngModel","showButtons","ngClass"],[1,"field","col-6"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-danger",3,"click"],["pButton","","pRipple","","label","Salvar","icon","pi pi-check",1,"p-button-success",3,"click"],[1,"p-toolbar-group-left","flex","flex-wrap","gap-2","w-full"],["pButton","","pRipple","","label","Excluir","icon","pi pi-trash",1,"p-button-danger",3,"click","disabled"],[1,"p-toolbar-group-right","flex","flex-wrap","gap-2","w-full","md:w-auto","justify-content-end","mt-2","md:mt-0"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar","class","inline-block",3,"maxFileSize",4,"ngIf"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar",1,"inline-block",3,"maxFileSize"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"pi","pi-dollar","mr-2"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Procurar...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id",4,"ngIf"],["pSortableColumn","nome"],["field","nome"],["pSortableColumn","valor"],["pSortableColumn","id"],["field","id"],[3,"value"],[1,"p-column-title"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","N\xE3o",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"],[1,"ng-dirty","ng-invalid"]],template:function(a,i){if(a&1){let d=x();n(0,"div",1)(1,"div",2)(2,"div",3),f(3,"p-toast"),n(4,"p-toolbar",4),g(5,Me,2,1,"ng-template",5)(6,Ie,2,1,"ng-template",6),o(),n(7,"p-table",7,0),P("selectionChange",function(l){return m(d),C(i.listaPlanosSelecionados,l)||(i.listaPlanosSelecionados=l),c(l)}),g(9,ke,7,0,"ng-template",8)(10,Fe,11,1,"ng-template",9)(11,Be,16,4,"ng-template",10),o()(),n(12,"button",11),_("click",function(){return m(d),c(i.novo())}),o(),n(13,"p-dialog",12),P("visibleChange",function(l){return m(d),C(i.dialogoExcluir,l)||(i.dialogoExcluir=l),c(l)}),n(14,"div",13),f(15,"i",14),g(16,Ne,5,1,"span",15),o(),g(17,Oe,2,0,"ng-template",16),o(),n(18,"p-dialog",17),P("visibleChange",function(l){return m(d),C(i.dialogoPlano,l)||(i.dialogoPlano=l),c(l)}),n(19,"div",18)(20,"div",19)(21,"label",20),p(22,"Nome:"),o(),n(23,"input",21),P("ngModelChange",function(l){return m(d),C(i.planoSelecionado.nome,l)||(i.planoSelecionado.nome=l),c(l)}),o(),g(24,We,2,0,"small",22),o(),n(25,"div",19)(26,"label",23),p(27,"Valor:"),o(),n(28,"p-inputNumber",24),P("ngModelChange",function(l){return m(d),C(i.planoSelecionado.valor,l)||(i.planoSelecionado.valor=l),c(l)}),o(),g(29,De,2,0,"small",22),o(),n(30,"div",25)(31,"button",26),_("click",function(){return m(d),c(i.dialogoPlano=!1)}),o()(),n(32,"div",25)(33,"button",27),_("click",function(){return m(d),c(i.salvarOuAlterar())}),o()()()()()()}a&2&&(r(7),s("value",i.listaPlanos)("columns",i.cols)("rows",10)("globalFilterFields",S(28,ye))("rows",10)("paginator",!0)("rowsPerPageOptions",S(29,Ee))("showCurrentPageReport",!0),v("selection",i.listaPlanosSelecionados),s("rowHover",!0),r(6),I(S(30,Se)),v("visible",i.dialogoExcluir),s("modal",!0)("breakpoints",S(31,xe)),r(3),s("ngIf",i.planoSelecionado),r(2),I(S(32,Se)),v("visible",i.dialogoPlano),s("breakpoints",S(33,xe))("modal",!0),r(5),v("ngModel",i.planoSelecionado.nome),s("ngClass",k(34,ve,i.submitted&&!i.planoSelecionado.nome)),r(),s("ngIf",i.submitted&&!i.planoSelecionado.nome),r(4),v("ngModel",i.planoSelecionado.valor),s("showButtons",!1)("ngClass",k(36,ve,i.submitted&&!i.planoSelecionado.valor)),r(),s("ngIf",i.submitted&&!i.planoSelecionado.valor))},dependencies:[W,D,ie,j,oe,ne,le,ae,me,J,U,q,H,G,L,fe,_e,Z,ee,pe],styles:[".fab[_ngcontent-%COMP%]{position:fixed!important;z-index:1030!important;right:2rem!important;bottom:2rem!important;width:56px!important;height:56px!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.fab[_ngcontent-%COMP%]:hover{transform:scale(1.1) translateY(-2px)!important;box-shadow:0 8px 16px #0000004d!important}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.list-card[_ngcontent-%COMP%]{position:relative;padding-bottom:100px}@media (max-width: 768px){.fab[_ngcontent-%COMP%]{width:48px!important;height:48px!important;right:1rem!important;bottom:1rem!important;bottom:calc(1rem + env(safe-area-inset-bottom,0px))!important}.fab[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:1.1rem!important}.list-card[_ngcontent-%COMP%]{padding-bottom:80px}}[_nghost-%COMP%]{position:relative;min-height:100vh}"]})}}return t})();var we=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=y({type:t})}static{this.\u0275inj=w({imports:[V.forChild([{path:"",component:Pe}]),V]})}}return t})();var Ct=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=y({type:t})}static{this.\u0275inj=w({imports:[A,we,re,ce,Y,Q,z,ge,be,ue,$,de,X,K,te,se]})}}return t})();export{Ct as PlanoModule};
