"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[1516],{6389:(A,T,r)=>{r.r(T),r.d(T,{ServidorModule:()=>q});var n=r(9808),m=r(2382),x=r(845),y=r(5315),M=r(4036),g=r(8205),S=r(7010),d=r(1424),v=r(3407),a=r(9603),u=r(8018),o=r(5787),s=r(8952),h=r(7773),C=r(4534),b=r(9783),e=r(4893),f=r(4582);let O=(()=>{class i{constructor(t){this.firestore=t,this.db=(0,f.hJ)(this.firestore,"servidor")}getAll(){return(0,f.BS)(this.db,{idField:"id"})}get(t){const l=(0,f.JU)(this.firestore,`servidor/${t}`);return(0,f._1)(l,{idField:"id"})}create(t){return(0,f.ET)(this.db,t)}update(t){const l=(0,f.JU)(this.firestore,`servidor/${t.id}`);return(0,f.r7)(l,Object.assign({},t))}delete(t){const l=(0,f.JU)(this.firestore,`servidor/${t}`);return(0,f.oe)(l)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(f.gg))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function I(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.novo())}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.excluirSelecionados())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.listaServidoresSelecionados||!t.listaServidoresSelecionados.length)}}function F(i,p){1&i&&e._UZ(0,"p-fileUpload",23),2&i&&e.Q6J("maxFileSize",1e6)}function k(i,p){if(1&i){const t=e.EpF();e.YNc(0,F,1,1,"p-fileUpload",21),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t),e.oxw();const c=e.MAs(8);return e.KtG(c.exportCSV())}),e.qZA()}2&i&&e.Q6J("ngIf",!1)}function J(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"h5",25),e._uU(2,"Gerenciar Servidores"),e.qZA(),e.TgZ(3,"span",26),e._UZ(4,"i",27),e.TgZ(5,"input",28),e.NdJ("input",function(c){e.CHM(t);const _=e.oxw(),Z=e.MAs(8);return e.KtG(_.onGlobalFilter(Z,c))}),e.qZA()()()}}function w(i,p){1&i&&(e.TgZ(0,"tr")(1,"th",29),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",30),e._uU(4,"Id "),e._UZ(5,"p-sortIcon",31),e.qZA(),e.TgZ(6,"th",32),e._uU(7,"Nome "),e._UZ(8,"p-sortIcon",33),e.qZA(),e._UZ(9,"th"),e.qZA())}function N(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",34),e.qZA(),e.TgZ(3,"td",35)(4,"span",36),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",35)(8,"span",36),e._uU(9,"Nome"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"div",37)(13,"button",38),e.NdJ("click",function(){const _=e.CHM(t).$implicit,Z=e.oxw();return e.KtG(Z.abrirDialogAlterar(_))}),e.qZA(),e.TgZ(14,"button",39),e.NdJ("click",function(){const _=e.CHM(t).$implicit,Z=e.oxw();return e.KtG(Z.abrirDialogExcluir(_))}),e.qZA()()()()}if(2&i){const t=p.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id," "),e.xp6(4),e.hij(" ",t.nome," ")}}function D(i,p){if(1&i&&(e.TgZ(0,"span"),e._uU(1,"Tem certeza que voc\xea deseja excluir "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(t.servidorSelecionado.nome)}}function U(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.dialogoExcluir=!1)}),e.qZA(),e.TgZ(1,"button",41),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.excluir())}),e.qZA()}}function B(i,p){1&i&&(e.TgZ(0,"small",46),e._uU(1,"Nome \xe9 obrigat\xf3rio."),e.qZA())}const z=function(i){return{"ng-invalid ng-dirty":i}};function H(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",42)(1,"label",43),e._uU(2,"Nome"),e.qZA(),e.TgZ(3,"input",44),e.NdJ("ngModelChange",function(c){e.CHM(t);const _=e.oxw();return e.KtG(_.servidorSelecionado.nome=c)}),e.qZA(),e.YNc(4,B,2,0,"small",45),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.servidorSelecionado.nome)("ngClass",e.VKq(3,z,t.submitted&&!t.servidorSelecionado.nome)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.servidorSelecionado.nome)}}function G(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.dialogoServidor=!1)}),e.qZA(),e.TgZ(1,"button",48),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.salvarOuAlterar())}),e.qZA()}}const K=function(){return["nome","id"]},Y=function(){return[10,20,30]},E=function(){return{width:"450px"}};let P=(()=>{class i{constructor(t,l){this.servidorService=t,this.messageService=l,this.listaServidores=[],this.listaServidoresSelecionados=[],this.dialogoExcluir=!1,this.dialogoServidor=!1,this.servidorSelecionado={},this.cols=[],this.submitted=!1}ngOnInit(){console.log("aqui"),this.cols=[{field:"id",header:"Id"},{field:"nome",header:"Nome"}],this.servidorService.getAll().subscribe({next:t=>this.listaServidores=t,error:t=>console.error(t),complete:()=>console.info("complete")})}salvarOuAlterar(){this.submitted=!0,this.servidorSelecionado.nome&&0!=this.servidorSelecionado.nome.trim().length?this.servidorSelecionado.id?this.alterar():this.salvar():this.messageService.add({severity:"error",summary:"Erro!",detail:"Insira um nome!",life:3e3})}salvar(){this.servidorService.create(this.servidorSelecionado).then(()=>{this.dialogoServidor=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Servidor Criado!",life:3e3}),this.servidorService.getAll().subscribe({next:t=>this.listaServidores=t,error:t=>console.error(t),complete:()=>console.info("complete")})})}abrirDialogAlterar(t){this.servidorSelecionado=t,this.submitted=!1,this.dialogoServidor=!0}alterar(){this.servidorService.update(this.servidorSelecionado).then(()=>{this.dialogoServidor=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Servidor Alterado!",life:3e3}),this.servidorService.getAll().subscribe({next:t=>this.listaServidores=t,error:t=>console.error(t),complete:()=>console.info("complete")})})}abrirDialogExcluir(t){this.submitted=!1,this.servidorSelecionado=t,this.dialogoExcluir=!0}excluir(){this.servidorService.delete(this.servidorSelecionado.id||"").then(()=>{console.info("complete"),this.dialogoExcluir=!1,this.messageService.add({severity:"success",summary:"Sucesso!",detail:"Servidor Exclu\xeddo",life:3e3}),this.servidorSelecionado={},this.servidorService.getAll().subscribe({next:t=>this.listaServidores=t,error:t=>console.error(t),complete:()=>console.info("complete")})})}onGlobalFilter(t,l){t.filterGlobal(l.target.value,"contains")}novo(){this.dialogoServidor=!0,this.servidorSelecionado={}}excluirSelecionados(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O),e.Y36(b.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-servidor"]],features:[e._Bn([b.ez])],decls:20,vars:23,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Mostrando {first} at\xe9 {last} de {totalRecords} registros","selectionMode","multiple","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["header","Detalhes do Servidor",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],[1,"my-2"],["pButton","","pRipple","","label","Novo","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Excluir","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar","class","mr-2 inline-block",3,"maxFileSize",4,"ngIf"],["pButton","","pRipple","","label","Exportar","icon","pi pi-upload",1,"p-button-help",3,"click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Importar",1,"mr-2","inline-block",3,"maxFileSize"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Procurar...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id"],["field","id"],["pSortableColumn","nome"],["field","nome"],[3,"value"],[2,"width","50%","min-width","10rem"],[1,"p-column-title"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","N\xe3o",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Sim",1,"p-button-text",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Salvar","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(t,l){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,I,3,1,"ng-template",4),e.YNc(6,k,2,1,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(_){return l.listaServidoresSelecionados=_}),e.YNc(9,J,6,0,"ng-template",8),e.YNc(10,w,10,0,"ng-template",9),e.YNc(11,N,15,3,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(_){return l.dialogoExcluir=_}),e.TgZ(13,"div",12),e._UZ(14,"i",13),e.YNc(15,D,5,1,"span",14),e.qZA(),e.YNc(16,U,2,0,"ng-template",15),e.qZA(),e.TgZ(17,"p-dialog",16),e.NdJ("visibleChange",function(_){return l.dialogoServidor=_}),e.YNc(18,H,5,5,"ng-template",17),e.YNc(19,G,2,0,"ng-template",15),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("value",l.listaServidores)("columns",l.cols)("rows",10)("globalFilterFields",e.DdM(19,K))("rows",10)("paginator",!0)("rowsPerPageOptions",e.DdM(20,Y))("showCurrentPageReport",!0)("selection",l.listaServidoresSelecionados)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(21,E)),e.Q6J("visible",l.dialogoExcluir)("modal",!0),e.xp6(3),e.Q6J("ngIf",l.servidorSelecionado),e.xp6(2),e.Akn(e.DdM(22,E)),e.Q6J("visible",l.dialogoServidor)("modal",!0))},dependencies:[n.mk,n.O5,s.iA,b.jx,s.lQ,s.fz,s.UA,s.Mo,g.p,x.Hq,m.Fj,m.JJ,m.Q7,m.On,o.H,h.FN,C.o,d.o,y.V]}),i})();var R=r(4175);let Q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[R.Bz.forChild([{path:"",component:P}]),R.Bz]}),i})(),q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[n.ez,Q,s.U$,g.O,m.u5,x.hJ,o.T,h.EV,C.V,u.Xt,d.j,v.A,M.kW,a.cc,S.L$,y.S]}),i})()},3407:(A,T,r)=>{r.d(T,{A:()=>M,g:()=>y});var n=r(4893),m=r(9808),x=r(2382);let y=(()=>{class g{constructor(d,v,a,u){this.el=d,this.ngModel=v,this.control=a,this.cd=u,this.onResize=new n.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(d){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(d){this.autoResize&&this.resize(d)}onBlur(d){this.autoResize&&this.resize(d)}resize(d){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(d||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return g.\u0275fac=function(d){return new(d||g)(n.Y36(n.SBq),n.Y36(x.On,8),n.Y36(x.a5,8),n.Y36(n.sBO))},g.\u0275dir=n.lG2({type:g,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(d,v){1&d&&n.NdJ("input",function(u){return v.onInput(u)})("focus",function(u){return v.onFocus(u)})("blur",function(u){return v.onBlur(u)}),2&d&&n.ekj("p-filled",v.filled)("p-inputtextarea-resizable",v.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),g})(),M=(()=>{class g{}return g.\u0275fac=function(d){return new(d||g)},g.\u0275mod=n.oAB({type:g}),g.\u0275inj=n.cJS({imports:[m.ez]}),g})()},8018:(A,T,r)=>{r.d(T,{Xt:()=>v,iG:()=>d});var n=r(4893),m=r(9808),x=r(2382);function y(a,u){if(1&a){const o=n.EpF();n.TgZ(0,"span",3),n.NdJ("click",function(h){n.CHM(o);const C=n.oxw();return n.KtG(C.clear(h))})("keydown.enter",function(h){n.CHM(o);const C=n.oxw();return n.KtG(C.clear(h))}),n.qZA()}if(2&a){const o=n.oxw();n.Q6J("ngClass",o.iconCancelClass)("ngStyle",o.iconCancelStyle),n.uIk("tabindex",o.disabled||o.readonly?null:"0")}}function M(a,u){if(1&a){const o=n.EpF();n.TgZ(0,"span",4),n.NdJ("click",function(h){const b=n.CHM(o).index,e=n.oxw();return n.KtG(e.rate(h,b))})("keydown.enter",function(h){const b=n.CHM(o).index,e=n.oxw();return n.KtG(e.rate(h,b))}),n.qZA()}if(2&a){const o=u.index,s=n.oxw();n.Q6J("ngClass",!s.value||o>=s.value?s.iconOffClass:s.iconOnClass)("ngStyle",!s.value||o>=s.value?s.iconOffStyle:s.iconOnStyle),n.uIk("tabindex",s.disabled||s.readonly?null:"0")}}const g=function(a,u){return{"p-readonly":a,"p-disabled":u}},S={provide:x.JU,useExisting:(0,n.Gpc)(()=>d),multi:!0};let d=(()=>{class a{constructor(o){this.cd=o,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new n.vpe,this.onCancel=new n.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let o=0;o<this.stars;o++)this.starsArray[o]=o}rate(o,s){!this.readonly&&!this.disabled&&(this.value=s+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:o,value:s+1})),o.preventDefault()}clear(o){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(o)),o.preventDefault()}writeValue(o){this.value=o,this.cd.detectChanges()}registerOnChange(o){this.onModelChange=o}registerOnTouched(o){this.onModelTouched=o}setDisabledState(o){this.disabled=o,this.cd.markForCheck()}}return a.\u0275fac=function(o){return new(o||a)(n.Y36(n.sBO))},a.\u0275cmp=n.Xpm({type:a,selectors:[["p-rating"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[n._Bn([S])],decls:3,vars:6,consts:[[1,"p-rating",3,"ngClass"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"]],template:function(o,s){1&o&&(n.TgZ(0,"div",0),n.YNc(1,y,1,3,"span",1),n.YNc(2,M,1,3,"span",2),n.qZA()),2&o&&(n.Q6J("ngClass",n.WLB(3,g,s.readonly,s.disabled)),n.xp6(1),n.Q6J("ngIf",s.cancel),n.xp6(1),n.Q6J("ngForOf",s.starsArray))},dependencies:[m.mk,m.sg,m.O5,m.PC],styles:[".p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),a})(),v=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[m.ez]}),a})()}}]);